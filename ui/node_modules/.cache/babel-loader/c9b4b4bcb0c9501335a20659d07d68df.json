{"ast":null,"code":"/* eslint-disable */\nimport { useEffect, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\n\nvar useThrottle = function (value, ms) {\n  if (ms === void 0) {\n    ms = 200;\n  }\n\n  var _a = useState(value),\n      state = _a[0],\n      setState = _a[1];\n\n  var timeout = useRef();\n  var nextValue = useRef(null);\n  var hasNextValue = useRef(0);\n  useEffect(function () {\n    if (!timeout.current) {\n      setState(value);\n\n      var timeoutCallback_1 = function () {\n        if (hasNextValue.current) {\n          hasNextValue.current = false;\n          setState(nextValue.current);\n          timeout.current = setTimeout(timeoutCallback_1, ms);\n        } else {\n          timeout.current = undefined;\n        }\n      };\n\n      timeout.current = setTimeout(timeoutCallback_1, ms);\n    } else {\n      nextValue.current = value;\n      hasNextValue.current = true;\n    }\n  }, [value]);\n  useUnmount(function () {\n    timeout.current && clearTimeout(timeout.current);\n  });\n  return state;\n};\n\nexport default useThrottle;","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/react-use/esm/useThrottle.js"],"names":["useEffect","useRef","useState","useUnmount","useThrottle","value","ms","_a","state","setState","timeout","nextValue","hasNextValue","current","timeoutCallback_1","setTimeout","undefined","clearTimeout"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AACA,IAAIC,WAAW,GAAG,UAAUC,KAAV,EAAiBC,EAAjB,EAAqB;AACnC,MAAIA,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAG,GAAL;AAAW;;AAChC,MAAIC,EAAE,GAAGL,QAAQ,CAACG,KAAD,CAAjB;AAAA,MAA0BG,KAAK,GAAGD,EAAE,CAAC,CAAD,CAApC;AAAA,MAAyCE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAAtD;;AACA,MAAIG,OAAO,GAAGT,MAAM,EAApB;AACA,MAAIU,SAAS,GAAGV,MAAM,CAAC,IAAD,CAAtB;AACA,MAAIW,YAAY,GAAGX,MAAM,CAAC,CAAD,CAAzB;AACAD,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAI,CAACU,OAAO,CAACG,OAAb,EAAsB;AAClBJ,MAAAA,QAAQ,CAACJ,KAAD,CAAR;;AACA,UAAIS,iBAAiB,GAAG,YAAY;AAChC,YAAIF,YAAY,CAACC,OAAjB,EAA0B;AACtBD,UAAAA,YAAY,CAACC,OAAb,GAAuB,KAAvB;AACAJ,UAAAA,QAAQ,CAACE,SAAS,CAACE,OAAX,CAAR;AACAH,UAAAA,OAAO,CAACG,OAAR,GAAkBE,UAAU,CAACD,iBAAD,EAAoBR,EAApB,CAA5B;AACH,SAJD,MAKK;AACDI,UAAAA,OAAO,CAACG,OAAR,GAAkBG,SAAlB;AACH;AACJ,OATD;;AAUAN,MAAAA,OAAO,CAACG,OAAR,GAAkBE,UAAU,CAACD,iBAAD,EAAoBR,EAApB,CAA5B;AACH,KAbD,MAcK;AACDK,MAAAA,SAAS,CAACE,OAAV,GAAoBR,KAApB;AACAO,MAAAA,YAAY,CAACC,OAAb,GAAuB,IAAvB;AACH;AACJ,GAnBQ,EAmBN,CAACR,KAAD,CAnBM,CAAT;AAoBAF,EAAAA,UAAU,CAAC,YAAY;AACnBO,IAAAA,OAAO,CAACG,OAAR,IAAmBI,YAAY,CAACP,OAAO,CAACG,OAAT,CAA/B;AACH,GAFS,CAAV;AAGA,SAAOL,KAAP;AACH,CA9BD;;AA+BA,eAAeJ,WAAf","sourcesContent":["/* eslint-disable */\nimport { useEffect, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useThrottle = function (value, ms) {\n    if (ms === void 0) { ms = 200; }\n    var _a = useState(value), state = _a[0], setState = _a[1];\n    var timeout = useRef();\n    var nextValue = useRef(null);\n    var hasNextValue = useRef(0);\n    useEffect(function () {\n        if (!timeout.current) {\n            setState(value);\n            var timeoutCallback_1 = function () {\n                if (hasNextValue.current) {\n                    hasNextValue.current = false;\n                    setState(nextValue.current);\n                    timeout.current = setTimeout(timeoutCallback_1, ms);\n                }\n                else {\n                    timeout.current = undefined;\n                }\n            };\n            timeout.current = setTimeout(timeoutCallback_1, ms);\n        }\n        else {\n            nextValue.current = value;\n            hasNextValue.current = true;\n        }\n    }, [value]);\n    useUnmount(function () {\n        timeout.current && clearTimeout(timeout.current);\n    });\n    return state;\n};\nexport default useThrottle;\n"]},"metadata":{},"sourceType":"module"}