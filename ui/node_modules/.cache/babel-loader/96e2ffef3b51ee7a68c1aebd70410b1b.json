{"ast":null,"code":"import { useLayoutEffect, useState } from 'react';\n\nvar useRaf = function (ms, delay) {\n  if (ms === void 0) {\n    ms = 1e12;\n  }\n\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  var _a = useState(0),\n      elapsed = _a[0],\n      set = _a[1];\n\n  useLayoutEffect(function () {\n    var raf;\n    var timerStop;\n    var start;\n\n    var onFrame = function () {\n      var time = Math.min(1, (Date.now() - start) / ms);\n      set(time);\n      loop();\n    };\n\n    var loop = function () {\n      raf = requestAnimationFrame(onFrame);\n    };\n\n    var onStart = function () {\n      timerStop = setTimeout(function () {\n        cancelAnimationFrame(raf);\n        set(1);\n      }, ms);\n      start = Date.now();\n      loop();\n    };\n\n    var timerDelay = setTimeout(onStart, delay);\n    return function () {\n      clearTimeout(timerStop);\n      clearTimeout(timerDelay);\n      cancelAnimationFrame(raf);\n    };\n  }, [ms, delay]);\n  return elapsed;\n};\n\nexport default useRaf;","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/react-use/esm/useRaf.js"],"names":["useLayoutEffect","useState","useRaf","ms","delay","_a","elapsed","set","raf","timerStop","start","onFrame","time","Math","min","Date","now","loop","requestAnimationFrame","onStart","setTimeout","cancelAnimationFrame","timerDelay","clearTimeout"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,OAA1C;;AACA,IAAIC,MAAM,GAAG,UAAUC,EAAV,EAAcC,KAAd,EAAqB;AAC9B,MAAID,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAG,IAAL;AAAY;;AACjC,MAAIC,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,IAAAA,KAAK,GAAG,CAAR;AAAY;;AACpC,MAAIC,EAAE,GAAGJ,QAAQ,CAAC,CAAD,CAAjB;AAAA,MAAsBK,OAAO,GAAGD,EAAE,CAAC,CAAD,CAAlC;AAAA,MAAuCE,GAAG,GAAGF,EAAE,CAAC,CAAD,CAA/C;;AACAL,EAAAA,eAAe,CAAC,YAAY;AACxB,QAAIQ,GAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,KAAJ;;AACA,QAAIC,OAAO,GAAG,YAAY;AACtB,UAAIC,IAAI,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,CAACC,IAAI,CAACC,GAAL,KAAaN,KAAd,IAAuBP,EAAnC,CAAX;AACAI,MAAAA,GAAG,CAACK,IAAD,CAAH;AACAK,MAAAA,IAAI;AACP,KAJD;;AAKA,QAAIA,IAAI,GAAG,YAAY;AACnBT,MAAAA,GAAG,GAAGU,qBAAqB,CAACP,OAAD,CAA3B;AACH,KAFD;;AAGA,QAAIQ,OAAO,GAAG,YAAY;AACtBV,MAAAA,SAAS,GAAGW,UAAU,CAAC,YAAY;AAC/BC,QAAAA,oBAAoB,CAACb,GAAD,CAApB;AACAD,QAAAA,GAAG,CAAC,CAAD,CAAH;AACH,OAHqB,EAGnBJ,EAHmB,CAAtB;AAIAO,MAAAA,KAAK,GAAGK,IAAI,CAACC,GAAL,EAAR;AACAC,MAAAA,IAAI;AACP,KAPD;;AAQA,QAAIK,UAAU,GAAGF,UAAU,CAACD,OAAD,EAAUf,KAAV,CAA3B;AACA,WAAO,YAAY;AACfmB,MAAAA,YAAY,CAACd,SAAD,CAAZ;AACAc,MAAAA,YAAY,CAACD,UAAD,CAAZ;AACAD,MAAAA,oBAAoB,CAACb,GAAD,CAApB;AACH,KAJD;AAKH,GA1Bc,EA0BZ,CAACL,EAAD,EAAKC,KAAL,CA1BY,CAAf;AA2BA,SAAOE,OAAP;AACH,CAhCD;;AAiCA,eAAeJ,MAAf","sourcesContent":["import { useLayoutEffect, useState } from 'react';\nvar useRaf = function (ms, delay) {\n    if (ms === void 0) { ms = 1e12; }\n    if (delay === void 0) { delay = 0; }\n    var _a = useState(0), elapsed = _a[0], set = _a[1];\n    useLayoutEffect(function () {\n        var raf;\n        var timerStop;\n        var start;\n        var onFrame = function () {\n            var time = Math.min(1, (Date.now() - start) / ms);\n            set(time);\n            loop();\n        };\n        var loop = function () {\n            raf = requestAnimationFrame(onFrame);\n        };\n        var onStart = function () {\n            timerStop = setTimeout(function () {\n                cancelAnimationFrame(raf);\n                set(1);\n            }, ms);\n            start = Date.now();\n            loop();\n        };\n        var timerDelay = setTimeout(onStart, delay);\n        return function () {\n            clearTimeout(timerStop);\n            clearTimeout(timerDelay);\n            cancelAnimationFrame(raf);\n        };\n    }, [ms, delay]);\n    return elapsed;\n};\nexport default useRaf;\n"]},"metadata":{},"sourceType":"module"}