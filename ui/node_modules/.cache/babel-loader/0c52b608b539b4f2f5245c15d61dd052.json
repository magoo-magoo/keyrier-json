{"ast":null,"code":"function cssToTree(tree, css, selector, prelude) {\n  var declarations = {};\n  var hasDeclarations = false;\n  var key, value;\n\n  for (key in css) {\n    value = css[key];\n\n    if (typeof value !== 'object') {\n      hasDeclarations = true;\n      declarations[key] = value;\n    }\n  }\n\n  if (hasDeclarations) {\n    if (!tree[prelude]) tree[prelude] = {};\n    tree[prelude][selector] = declarations;\n  }\n\n  for (key in css) {\n    value = css[key];\n\n    if (typeof value === 'object') {\n      if (key[0] === '@') {\n        cssToTree(tree, value, selector, key);\n      } else {\n        var hasCurrentSymbol = key.indexOf('&') > -1;\n        var selectorParts = selector.split(',');\n\n        if (hasCurrentSymbol) {\n          for (var i = 0; i < selectorParts.length; i++) {\n            selectorParts[i] = key.replace(/&/g, selectorParts[i]);\n          }\n        } else {\n          for (var i = 0; i < selectorParts.length; i++) {\n            selectorParts[i] = selectorParts[i] + ' ' + key;\n          }\n        }\n\n        cssToTree(tree, value, selectorParts.join(','), prelude);\n      }\n    }\n  }\n}\n\n;\nexports.cssToTree = cssToTree;","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/nano-css/addon/vcssom/cssToTree.js"],"names":["cssToTree","tree","css","selector","prelude","declarations","hasDeclarations","key","value","hasCurrentSymbol","indexOf","selectorParts","split","i","length","replace","join","exports"],"mappings":"AAAA,SAASA,SAAT,CAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,QAA/B,EAAyCC,OAAzC,EAAkD;AAC9C,MAAIC,YAAY,GAAG,EAAnB;AACA,MAAIC,eAAe,GAAG,KAAtB;AACA,MAAIC,GAAJ,EAASC,KAAT;;AAEA,OAAKD,GAAL,IAAYL,GAAZ,EAAiB;AACbM,IAAAA,KAAK,GAAGN,GAAG,CAACK,GAAD,CAAX;;AACA,QAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC3BF,MAAAA,eAAe,GAAG,IAAlB;AACAD,MAAAA,YAAY,CAACE,GAAD,CAAZ,GAAoBC,KAApB;AACH;AACJ;;AAED,MAAIF,eAAJ,EAAqB;AACjB,QAAI,CAACL,IAAI,CAACG,OAAD,CAAT,EAAoBH,IAAI,CAACG,OAAD,CAAJ,GAAgB,EAAhB;AACpBH,IAAAA,IAAI,CAACG,OAAD,CAAJ,CAAcD,QAAd,IAA0BE,YAA1B;AACH;;AAED,OAAKE,GAAL,IAAYL,GAAZ,EAAiB;AACbM,IAAAA,KAAK,GAAGN,GAAG,CAACK,GAAD,CAAX;;AACA,QAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC3B,UAAID,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;AAChBP,QAAAA,SAAS,CAACC,IAAD,EAAOO,KAAP,EAAcL,QAAd,EAAwBI,GAAxB,CAAT;AACH,OAFD,MAEO;AACH,YAAIE,gBAAgB,GAAGF,GAAG,CAACG,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAA3C;AACA,YAAIC,aAAa,GAAGR,QAAQ,CAACS,KAAT,CAAe,GAAf,CAApB;;AACA,YAAIH,gBAAJ,EAAsB;AAClB,eAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,aAAa,CAACG,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC3CF,YAAAA,aAAa,CAACE,CAAD,CAAb,GAAmBN,GAAG,CAACQ,OAAJ,CAAY,IAAZ,EAAkBJ,aAAa,CAACE,CAAD,CAA/B,CAAnB;AACH;AACJ,SAJD,MAIO;AACH,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,aAAa,CAACG,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC3CF,YAAAA,aAAa,CAACE,CAAD,CAAb,GAAmBF,aAAa,CAACE,CAAD,CAAb,GAAmB,GAAnB,GAAyBN,GAA5C;AACH;AACJ;;AACDP,QAAAA,SAAS,CAACC,IAAD,EAAOO,KAAP,EAAcG,aAAa,CAACK,IAAd,CAAmB,GAAnB,CAAd,EAAuCZ,OAAvC,CAAT;AACH;AACJ;AACJ;AACJ;;AAAA;AAEDa,OAAO,CAACjB,SAAR,GAAoBA,SAApB","sourcesContent":["function cssToTree (tree, css, selector, prelude) {\n    var declarations = {};\n    var hasDeclarations = false;\n    var key, value;\n\n    for (key in css) {\n        value = css[key];\n        if (typeof value !== 'object') {\n            hasDeclarations = true;\n            declarations[key] = value;\n        }\n    }\n\n    if (hasDeclarations) {\n        if (!tree[prelude]) tree[prelude] = {};\n        tree[prelude][selector] = declarations;\n    }\n\n    for (key in css) {\n        value = css[key];\n        if (typeof value === 'object') {\n            if (key[0] === '@') {\n                cssToTree(tree, value, selector, key);\n            } else {\n                var hasCurrentSymbol = key.indexOf('&') > -1;\n                var selectorParts = selector.split(',');\n                if (hasCurrentSymbol) {\n                    for (var i = 0; i < selectorParts.length; i++) {\n                        selectorParts[i] = key.replace(/&/g, selectorParts[i]);\n                    }\n                } else {\n                    for (var i = 0; i < selectorParts.length; i++) {\n                        selectorParts[i] = selectorParts[i] + ' ' + key;\n                    }\n                }\n                cssToTree(tree, value, selectorParts.join(','), prelude);\n            }\n        }\n    }\n};\n\nexports.cssToTree = cssToTree;\n"]},"metadata":{},"sourceType":"script"}