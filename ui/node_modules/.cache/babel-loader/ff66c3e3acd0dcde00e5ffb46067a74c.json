{"ast":null,"code":"/* eslint-disable */\nimport { useEffect, useState } from 'react';\nimport { throttle } from 'throttle-debounce';\nimport { off, on } from './util';\nvar defaultEvents = ['mousemove', 'mousedown', 'resize', 'keydown', 'touchstart', 'wheel'];\nvar oneMinute = 60e3;\n\nvar useIdle = function (ms, initialState, events) {\n  if (ms === void 0) {\n    ms = oneMinute;\n  }\n\n  if (initialState === void 0) {\n    initialState = false;\n  }\n\n  if (events === void 0) {\n    events = defaultEvents;\n  }\n\n  var _a = useState(initialState),\n      state = _a[0],\n      setState = _a[1];\n\n  useEffect(function () {\n    var mounted = true;\n    var timeout;\n    var localState = state;\n\n    var set = function (newState) {\n      if (mounted) {\n        localState = newState;\n        setState(newState);\n      }\n    };\n\n    var onEvent = throttle(50, function () {\n      if (localState) {\n        set(false);\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        return set(true);\n      }, ms);\n    });\n\n    var onVisibility = function () {\n      if (!document.hidden) {\n        onEvent();\n      }\n    };\n\n    for (var i = 0; i < events.length; i++) {\n      on(window, events[i], onEvent);\n    }\n\n    on(document, 'visibilitychange', onVisibility);\n    timeout = setTimeout(function () {\n      return set(true);\n    }, ms);\n    return function () {\n      mounted = false;\n\n      for (var i = 0; i < events.length; i++) {\n        off(window, events[i], onEvent);\n      }\n\n      off(document, 'visibilitychange', onVisibility);\n    };\n  }, [ms, events]);\n  return state;\n};\n\nexport default useIdle;","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/react-use/esm/useIdle.js"],"names":["useEffect","useState","throttle","off","on","defaultEvents","oneMinute","useIdle","ms","initialState","events","_a","state","setState","mounted","timeout","localState","set","newState","onEvent","clearTimeout","setTimeout","onVisibility","document","hidden","i","length","window"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,GAAT,EAAcC,EAAd,QAAwB,QAAxB;AACA,IAAIC,aAAa,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,QAA3B,EAAqC,SAArC,EAAgD,YAAhD,EAA8D,OAA9D,CAApB;AACA,IAAIC,SAAS,GAAG,IAAhB;;AACA,IAAIC,OAAO,GAAG,UAAUC,EAAV,EAAcC,YAAd,EAA4BC,MAA5B,EAAoC;AAC9C,MAAIF,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAGF,SAAL;AAAiB;;AACtC,MAAIG,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,IAAAA,YAAY,GAAG,KAAf;AAAuB;;AACtD,MAAIC,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,IAAAA,MAAM,GAAGL,aAAT;AAAyB;;AAClD,MAAIM,EAAE,GAAGV,QAAQ,CAACQ,YAAD,CAAjB;AAAA,MAAiCG,KAAK,GAAGD,EAAE,CAAC,CAAD,CAA3C;AAAA,MAAgDE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAA7D;;AACAX,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIc,OAAO,GAAG,IAAd;AACA,QAAIC,OAAJ;AACA,QAAIC,UAAU,GAAGJ,KAAjB;;AACA,QAAIK,GAAG,GAAG,UAAUC,QAAV,EAAoB;AAC1B,UAAIJ,OAAJ,EAAa;AACTE,QAAAA,UAAU,GAAGE,QAAb;AACAL,QAAAA,QAAQ,CAACK,QAAD,CAAR;AACH;AACJ,KALD;;AAMA,QAAIC,OAAO,GAAGjB,QAAQ,CAAC,EAAD,EAAK,YAAY;AACnC,UAAIc,UAAJ,EAAgB;AACZC,QAAAA,GAAG,CAAC,KAAD,CAAH;AACH;;AACDG,MAAAA,YAAY,CAACL,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAGM,UAAU,CAAC,YAAY;AAAE,eAAOJ,GAAG,CAAC,IAAD,CAAV;AAAmB,OAAlC,EAAoCT,EAApC,CAApB;AACH,KANqB,CAAtB;;AAOA,QAAIc,YAAY,GAAG,YAAY;AAC3B,UAAI,CAACC,QAAQ,CAACC,MAAd,EAAsB;AAClBL,QAAAA,OAAO;AACV;AACJ,KAJD;;AAKA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,MAAM,CAACgB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpCrB,MAAAA,EAAE,CAACuB,MAAD,EAASjB,MAAM,CAACe,CAAD,CAAf,EAAoBN,OAApB,CAAF;AACH;;AACDf,IAAAA,EAAE,CAACmB,QAAD,EAAW,kBAAX,EAA+BD,YAA/B,CAAF;AACAP,IAAAA,OAAO,GAAGM,UAAU,CAAC,YAAY;AAAE,aAAOJ,GAAG,CAAC,IAAD,CAAV;AAAmB,KAAlC,EAAoCT,EAApC,CAApB;AACA,WAAO,YAAY;AACfM,MAAAA,OAAO,GAAG,KAAV;;AACA,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,MAAM,CAACgB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpCtB,QAAAA,GAAG,CAACwB,MAAD,EAASjB,MAAM,CAACe,CAAD,CAAf,EAAoBN,OAApB,CAAH;AACH;;AACDhB,MAAAA,GAAG,CAACoB,QAAD,EAAW,kBAAX,EAA+BD,YAA/B,CAAH;AACH,KAND;AAOH,GAlCQ,EAkCN,CAACd,EAAD,EAAKE,MAAL,CAlCM,CAAT;AAmCA,SAAOE,KAAP;AACH,CAzCD;;AA0CA,eAAeL,OAAf","sourcesContent":["/* eslint-disable */\nimport { useEffect, useState } from 'react';\nimport { throttle } from 'throttle-debounce';\nimport { off, on } from './util';\nvar defaultEvents = ['mousemove', 'mousedown', 'resize', 'keydown', 'touchstart', 'wheel'];\nvar oneMinute = 60e3;\nvar useIdle = function (ms, initialState, events) {\n    if (ms === void 0) { ms = oneMinute; }\n    if (initialState === void 0) { initialState = false; }\n    if (events === void 0) { events = defaultEvents; }\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var timeout;\n        var localState = state;\n        var set = function (newState) {\n            if (mounted) {\n                localState = newState;\n                setState(newState);\n            }\n        };\n        var onEvent = throttle(50, function () {\n            if (localState) {\n                set(false);\n            }\n            clearTimeout(timeout);\n            timeout = setTimeout(function () { return set(true); }, ms);\n        });\n        var onVisibility = function () {\n            if (!document.hidden) {\n                onEvent();\n            }\n        };\n        for (var i = 0; i < events.length; i++) {\n            on(window, events[i], onEvent);\n        }\n        on(document, 'visibilitychange', onVisibility);\n        timeout = setTimeout(function () { return set(true); }, ms);\n        return function () {\n            mounted = false;\n            for (var i = 0; i < events.length; i++) {\n                off(window, events[i], onEvent);\n            }\n            off(document, 'visibilitychange', onVisibility);\n        };\n    }, [ms, events]);\n    return state;\n};\nexport default useIdle;\n"]},"metadata":{},"sourceType":"module"}