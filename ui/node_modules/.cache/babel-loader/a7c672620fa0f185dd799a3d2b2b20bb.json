{"ast":null,"code":"ace.define(\"ace/mode/csound_preprocessor_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\n  var CsoundPreprocessorHighlightRules = function (embeddedRulePrefix) {\n    this.embeddedRulePrefix = embeddedRulePrefix === undefined ? \"\" : embeddedRulePrefix;\n    this.semicolonComments = {\n      token: \"comment.line.semicolon.csound\",\n      regex: \";.*$\"\n    };\n    this.comments = [{\n      token: \"punctuation.definition.comment.begin.csound\",\n      regex: \"/\\\\*\",\n      push: [{\n        token: \"punctuation.definition.comment.end.csound\",\n        regex: \"\\\\*/\",\n        next: \"pop\"\n      }, {\n        defaultToken: \"comment.block.csound\"\n      }]\n    }, {\n      token: \"comment.line.double-slash.csound\",\n      regex: \"//.*$\"\n    }, this.semicolonComments];\n    this.macroUses = [{\n      token: [\"entity.name.function.preprocessor.csound\", \"punctuation.definition.macro-parameter-value-list.begin.csound\"],\n      regex: /(\\$[A-Z_a-z]\\w*\\.?)(\\()/,\n      next: \"macro parameter value list\"\n    }, {\n      token: \"entity.name.function.preprocessor.csound\",\n      regex: /\\$[A-Z_a-z]\\w*(?:\\.|\\b)/\n    }];\n    this.numbers = [{\n      token: \"constant.numeric.float.csound\",\n      regex: /(?:\\d+[Ee][+-]?\\d+)|(?:\\d+\\.\\d*|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?/\n    }, {\n      token: [\"storage.type.number.csound\", \"constant.numeric.integer.hexadecimal.csound\"],\n      regex: /(0[Xx])([0-9A-Fa-f]+)/\n    }, {\n      token: \"constant.numeric.integer.decimal.csound\",\n      regex: /\\d+/\n    }];\n    this.bracedStringContents = [{\n      token: \"constant.character.escape.csound\",\n      regex: /\\\\(?:[\\\\abnrt\"]|[0-7]{1,3})/\n    }, {\n      token: \"constant.character.placeholder.csound\",\n      regex: /%[#0\\- +]*\\d*(?:\\.\\d+)?[diuoxXfFeEgGaAcs]/\n    }, {\n      token: \"constant.character.escape.csound\",\n      regex: /%%/\n    }];\n    this.quotedStringContents = [this.macroUses, this.bracedStringContents];\n    var start = [this.comments, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#(?:e(?:nd(?:if)?|lse)\\b|##)|@@?[ \\t]*\\d+/\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#include/,\n      push: [this.comments, {\n        token: \"string.csound\",\n        regex: /([^ \\t])(?:.*?\\1)/,\n        next: \"pop\"\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#includestr/,\n      push: [this.comments, {\n        token: \"string.csound\",\n        regex: /([^ \\t])(?:.*?\\1)/,\n        next: \"pop\"\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#[ \\t]*define/,\n      next: \"define directive\"\n    }, {\n      token: \"keyword.preprocessor.csound\",\n      regex: /#(?:ifn?def|undef)\\b/,\n      next: \"macro directive\"\n    }, this.macroUses];\n    this.$rules = {\n      \"start\": start,\n      \"define directive\": [this.comments, {\n        token: \"entity.name.function.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/\n      }, {\n        token: \"punctuation.definition.macro-parameter-name-list.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter name list\"\n      }, {\n        token: \"punctuation.definition.macro.begin.csound\",\n        regex: /#/,\n        next: \"macro body\"\n      }],\n      \"macro parameter name list\": [{\n        token: \"variable.parameter.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/\n      }, {\n        token: \"punctuation.definition.macro-parameter-name-list.end.csound\",\n        regex: /\\)/,\n        next: \"define directive\"\n      }],\n      \"macro body\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\#/\n      }, {\n        token: \"punctuation.definition.macro.end.csound\",\n        regex: /#/,\n        next: \"start\"\n      }, start],\n      \"macro directive\": [this.comments, {\n        token: \"entity.name.function.preprocessor.csound\",\n        regex: /[A-Z_a-z]\\w*/,\n        next: \"start\"\n      }],\n      \"macro parameter value list\": [{\n        token: \"punctuation.definition.macro-parameter-value-list.end.csound\",\n        regex: /\\)/,\n        next: \"start\"\n      }, {\n        token: \"punctuation.definition.string.begin.csound\",\n        regex: /\"/,\n        next: \"macro parameter value quoted string\"\n      }, this.pushRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter value parenthetical\"\n      }), {\n        token: \"punctuation.macro-parameter-value-separator.csound\",\n        regex: \"[#']\"\n      }],\n      \"macro parameter value quoted string\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\[#'()]/\n      }, {\n        token: \"invalid.illegal.csound\",\n        regex: /[#'()]/\n      }, {\n        token: \"punctuation.definition.string.end.csound\",\n        regex: /\"/,\n        next: \"macro parameter value list\"\n      }, this.quotedStringContents, {\n        defaultToken: \"string.quoted.csound\"\n      }],\n      \"macro parameter value parenthetical\": [{\n        token: \"constant.character.escape.csound\",\n        regex: /\\\\\\)/\n      }, this.popRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.end.csound\",\n        regex: /\\)/\n      }), this.pushRule({\n        token: \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n        regex: /\\(/,\n        next: \"macro parameter value parenthetical\"\n      }), start]\n    };\n  };\n\n  oop.inherits(CsoundPreprocessorHighlightRules, TextHighlightRules);\n  (function () {\n    this.pushRule = function (params) {\n      if (Array.isArray(params.next)) {\n        for (var i = 0; i < params.next.length; i++) {\n          params.next[i] = this.embeddedRulePrefix + params.next[i];\n        }\n      }\n\n      return {\n        regex: params.regex,\n        onMatch: function (value, currentState, stack, line) {\n          if (stack.length === 0) stack.push(currentState);\n\n          if (Array.isArray(params.next)) {\n            for (var i = 0; i < params.next.length; i++) {\n              stack.push(params.next[i]);\n            }\n          } else {\n            stack.push(params.next);\n          }\n\n          this.next = stack[stack.length - 1];\n          return params.token;\n        },\n\n        get next() {\n          return Array.isArray(params.next) ? params.next[params.next.length - 1] : params.next;\n        },\n\n        set next(next) {\n          if (!Array.isArray(params.next)) {\n            params.next = next;\n          }\n        },\n\n        get token() {\n          return params.token;\n        }\n\n      };\n    };\n\n    this.popRule = function (params) {\n      if (params.next) {\n        params.next = this.embeddedRulePrefix + params.next;\n      }\n\n      return {\n        regex: params.regex,\n        onMatch: function (value, currentState, stack, line) {\n          stack.pop();\n\n          if (params.next) {\n            stack.push(params.next);\n            this.next = stack[stack.length - 1];\n          } else {\n            this.next = stack.length > 1 ? stack[stack.length - 1] : stack.pop();\n          }\n\n          return params.token;\n        }\n      };\n    };\n  }).call(CsoundPreprocessorHighlightRules.prototype);\n  exports.CsoundPreprocessorHighlightRules = CsoundPreprocessorHighlightRules;\n});\nace.define(\"ace/mode/csound_score_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/csound_preprocessor_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var CsoundPreprocessorHighlightRules = require(\"./csound_preprocessor_highlight_rules\").CsoundPreprocessorHighlightRules;\n\n  var CsoundScoreHighlightRules = function (embeddedRulePrefix) {\n    CsoundPreprocessorHighlightRules.call(this, embeddedRulePrefix);\n    this.quotedStringContents.push({\n      token: \"invalid.illegal.csound-score\",\n      regex: /[^\"]*$/\n    });\n    var start = this.$rules.start;\n    start.push({\n      token: \"keyword.control.csound-score\",\n      regex: /[abCdefiqstvxy]/\n    }, {\n      token: \"invalid.illegal.csound-score\",\n      regex: /w/\n    }, {\n      token: \"constant.numeric.language.csound-score\",\n      regex: /z/\n    }, {\n      token: [\"keyword.control.csound-score\", \"constant.numeric.integer.decimal.csound-score\"],\n      regex: /([nNpP][pP])(\\d+)/\n    }, {\n      token: \"keyword.other.csound-score\",\n      regex: /[mn]/,\n      push: [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"pop\"\n      }, this.comments, {\n        token: \"entity.name.label.csound-score\",\n        regex: /[A-Z_a-z]\\w*/\n      }]\n    }, {\n      token: \"keyword.preprocessor.csound-score\",\n      regex: /r\\b/,\n      next: \"repeat section\"\n    }, this.numbers, {\n      token: \"keyword.operator.csound-score\",\n      regex: \"[!+\\\\-*/^%&|<>#~.]\"\n    }, this.pushRule({\n      token: \"punctuation.definition.string.begin.csound-score\",\n      regex: /\"/,\n      next: \"quoted string\"\n    }), this.pushRule({\n      token: \"punctuation.braced-loop.begin.csound-score\",\n      regex: /{/,\n      next: \"loop after left brace\"\n    }));\n    this.addRules({\n      \"repeat section\": [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"start\"\n      }, this.comments, {\n        token: \"constant.numeric.integer.decimal.csound-score\",\n        regex: /\\d+/,\n        next: \"repeat section before label\"\n      }],\n      \"repeat section before label\": [{\n        token: \"empty\",\n        regex: /$/,\n        next: \"start\"\n      }, this.comments, {\n        token: \"entity.name.label.csound-score\",\n        regex: /[A-Z_a-z]\\w*/,\n        next: \"start\"\n      }],\n      \"quoted string\": [this.popRule({\n        token: \"punctuation.definition.string.end.csound-score\",\n        regex: /\"/\n      }), this.quotedStringContents, {\n        defaultToken: \"string.quoted.csound-score\"\n      }],\n      \"loop after left brace\": [this.popRule({\n        token: \"constant.numeric.integer.decimal.csound-score\",\n        regex: /\\d+/,\n        next: \"loop after repeat count\"\n      }), this.comments, {\n        token: \"invalid.illegal.csound\",\n        regex: /\\S.*/\n      }],\n      \"loop after repeat count\": [this.popRule({\n        token: \"entity.name.function.preprocessor.csound-score\",\n        regex: /[A-Z_a-z]\\w*\\b/,\n        next: \"loop after macro name\"\n      }), this.comments, {\n        token: \"invalid.illegal.csound\",\n        regex: /\\S.*/\n      }],\n      \"loop after macro name\": [start, this.popRule({\n        token: \"punctuation.braced-loop.end.csound-score\",\n        regex: /}/\n      })]\n    });\n    this.normalizeRules();\n  };\n\n  oop.inherits(CsoundScoreHighlightRules, CsoundPreprocessorHighlightRules);\n  exports.CsoundScoreHighlightRules = CsoundScoreHighlightRules;\n});\nace.define(\"ace/mode/csound_score\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text\", \"ace/mode/csound_score_highlight_rules\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var TextMode = require(\"./text\").Mode;\n\n  var CsoundScoreHighlightRules = require(\"./csound_score_highlight_rules\").CsoundScoreHighlightRules;\n\n  var Mode = function () {\n    this.HighlightRules = CsoundScoreHighlightRules;\n  };\n\n  oop.inherits(Mode, TextMode);\n  (function () {\n    this.lineCommentStart = \";\";\n    this.blockComment = {\n      start: \"/*\",\n      end: \"*/\"\n    };\n    this.$id = \"ace/mode/csound_score\";\n  }).call(Mode.prototype);\n  exports.Mode = Mode;\n});\n\n(function () {\n  ace.require([\"ace/mode/csound_score\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/ace-builds/src-noconflict/mode-csound_score.js"],"names":["ace","define","require","exports","module","oop","TextHighlightRules","CsoundPreprocessorHighlightRules","embeddedRulePrefix","undefined","semicolonComments","token","regex","comments","push","next","defaultToken","macroUses","numbers","bracedStringContents","quotedStringContents","start","$rules","pushRule","popRule","inherits","params","Array","isArray","i","length","onMatch","value","currentState","stack","line","pop","call","prototype","CsoundScoreHighlightRules","addRules","normalizeRules","TextMode","Mode","HighlightRules","lineCommentStart","blockComment","end","$id","m"],"mappings":"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","sourcesContent":["ace.define(\"ace/mode/csound_preprocessor_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\n\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar CsoundPreprocessorHighlightRules = function(embeddedRulePrefix) {\n\n    this.embeddedRulePrefix = embeddedRulePrefix === undefined ? \"\" : embeddedRulePrefix;\n\n    this.semicolonComments = {\n        token : \"comment.line.semicolon.csound\",\n        regex : \";.*$\"\n    };\n\n    this.comments = [\n        {\n            token : \"punctuation.definition.comment.begin.csound\",\n            regex : \"/\\\\*\",\n            push  : [\n                {\n                    token : \"punctuation.definition.comment.end.csound\",\n                    regex : \"\\\\*/\",\n                    next  : \"pop\"\n                }, {\n                    defaultToken: \"comment.block.csound\"\n                }\n            ]\n        }, {\n            token : \"comment.line.double-slash.csound\",\n            regex : \"//.*$\"\n        },\n        this.semicolonComments\n    ];\n\n    this.macroUses = [\n        {\n            token : [\"entity.name.function.preprocessor.csound\", \"punctuation.definition.macro-parameter-value-list.begin.csound\"],\n            regex : /(\\$[A-Z_a-z]\\w*\\.?)(\\()/,\n            next  : \"macro parameter value list\"\n        }, {\n            token : \"entity.name.function.preprocessor.csound\",\n            regex : /\\$[A-Z_a-z]\\w*(?:\\.|\\b)/\n        }\n    ];\n\n    this.numbers = [\n        {\n            token : \"constant.numeric.float.csound\",\n            regex : /(?:\\d+[Ee][+-]?\\d+)|(?:\\d+\\.\\d*|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?/\n        }, {\n            token : [\"storage.type.number.csound\", \"constant.numeric.integer.hexadecimal.csound\"],\n            regex : /(0[Xx])([0-9A-Fa-f]+)/\n        }, {\n            token : \"constant.numeric.integer.decimal.csound\",\n            regex : /\\d+/\n        }\n    ];\n\n    this.bracedStringContents = [\n        {\n            token : \"constant.character.escape.csound\",\n            regex : /\\\\(?:[\\\\abnrt\"]|[0-7]{1,3})/\n        },\n        {\n            token : \"constant.character.placeholder.csound\",\n            regex : /%[#0\\- +]*\\d*(?:\\.\\d+)?[diuoxXfFeEgGaAcs]/\n        }, {\n            token : \"constant.character.escape.csound\",\n            regex : /%%/\n        }\n    ];\n\n    this.quotedStringContents = [\n        this.macroUses,\n        this.bracedStringContents\n    ];\n\n    var start = [\n        this.comments,\n\n        {\n            token : \"keyword.preprocessor.csound\",\n            regex : /#(?:e(?:nd(?:if)?|lse)\\b|##)|@@?[ \\t]*\\d+/\n        }, {\n            token : \"keyword.preprocessor.csound\",\n            regex : /#include/,\n            push  : [\n                this.comments,\n                {\n                    token : \"string.csound\",\n                    regex : /([^ \\t])(?:.*?\\1)/,\n                    next  : \"pop\"\n                }\n            ]\n        }, {\n            token : \"keyword.preprocessor.csound\",\n            regex : /#includestr/,\n            push  : [\n                this.comments,\n                {\n                    token : \"string.csound\",\n                    regex : /([^ \\t])(?:.*?\\1)/,\n                    next  : \"pop\"\n                }\n            ]\n        }, {\n            token : \"keyword.preprocessor.csound\",\n            regex : /#[ \\t]*define/,\n            next  : \"define directive\"\n        }, {\n            token : \"keyword.preprocessor.csound\",\n            regex : /#(?:ifn?def|undef)\\b/,\n            next  : \"macro directive\"\n        },\n\n        this.macroUses\n    ];\n\n    this.$rules = {\n        \"start\": start,\n\n        \"define directive\": [\n            this.comments,\n            {\n                token : \"entity.name.function.preprocessor.csound\",\n                regex : /[A-Z_a-z]\\w*/\n            }, {\n                token : \"punctuation.definition.macro-parameter-name-list.begin.csound\",\n                regex : /\\(/,\n                next  : \"macro parameter name list\"\n            }, {\n                token : \"punctuation.definition.macro.begin.csound\",\n                regex : /#/,\n                next  : \"macro body\"\n            }\n        ],\n        \"macro parameter name list\": [\n            {\n                token : \"variable.parameter.preprocessor.csound\",\n                regex : /[A-Z_a-z]\\w*/\n            }, {\n                token : \"punctuation.definition.macro-parameter-name-list.end.csound\",\n                regex : /\\)/,\n                next  : \"define directive\"\n            }\n        ],\n        \"macro body\": [\n            {\n                token : \"constant.character.escape.csound\",\n                regex : /\\\\#/\n            }, {\n                token : \"punctuation.definition.macro.end.csound\",\n                regex : /#/,\n                next  : \"start\"\n            },\n            start\n        ],\n\n        \"macro directive\": [\n            this.comments,\n            {\n                token : \"entity.name.function.preprocessor.csound\",\n                regex : /[A-Z_a-z]\\w*/,\n                next  : \"start\"\n            }\n        ],\n\n        \"macro parameter value list\": [\n            {\n                token : \"punctuation.definition.macro-parameter-value-list.end.csound\",\n                regex : /\\)/,\n                next  : \"start\"\n            }, {\n                token : \"punctuation.definition.string.begin.csound\",\n                regex : /\"/,\n                next  : \"macro parameter value quoted string\"\n            }, this.pushRule({\n                token : \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n                regex : /\\(/,\n                next  : \"macro parameter value parenthetical\"\n            }), {\n                token : \"punctuation.macro-parameter-value-separator.csound\",\n                regex : \"[#']\"\n            }\n        ],\n        \"macro parameter value quoted string\": [\n            {\n                token : \"constant.character.escape.csound\",\n                regex : /\\\\[#'()]/\n            }, {\n                token : \"invalid.illegal.csound\",\n                regex : /[#'()]/\n            }, {\n                token : \"punctuation.definition.string.end.csound\",\n                regex : /\"/,\n                next  : \"macro parameter value list\"\n            },\n            this.quotedStringContents,\n            {\n                defaultToken: \"string.quoted.csound\"\n            }\n        ],\n        \"macro parameter value parenthetical\": [\n            {\n                token : \"constant.character.escape.csound\",\n                regex : /\\\\\\)/\n            }, this.popRule({\n                token : \"punctuation.macro-parameter-value-parenthetical.end.csound\",\n                regex : /\\)/\n            }), this.pushRule({\n                token : \"punctuation.macro-parameter-value-parenthetical.begin.csound\",\n                regex : /\\(/,\n                next  : \"macro parameter value parenthetical\"\n            }),\n            start\n        ]\n    };\n};\n\noop.inherits(CsoundPreprocessorHighlightRules, TextHighlightRules);\n\n(function() {\n\n    this.pushRule = function(params) {\n        if (Array.isArray(params.next)) {\n            for (var i = 0; i < params.next.length; i++) {\n                params.next[i] = this.embeddedRulePrefix + params.next[i];\n            }\n        }\n\n        return {\n            regex : params.regex, onMatch: function(value, currentState, stack, line) {\n                if (stack.length === 0)\n                    stack.push(currentState);\n                if (Array.isArray(params.next)) {\n                    for (var i = 0; i < params.next.length; i++) {\n                        stack.push(params.next[i]);\n                    }\n                } else {\n                    stack.push(params.next);\n                }\n                this.next = stack[stack.length - 1];\n                return params.token;\n            },\n\n            get next() { return Array.isArray(params.next) ? params.next[params.next.length - 1] : params.next; },\n            set next(next) {\n                if (!Array.isArray(params.next)) {\n                    params.next = next;\n                }\n            },\n\n            get token() { return params.token; }\n        };\n    };\n\n    this.popRule = function(params) {\n        if (params.next) {\n            params.next = this.embeddedRulePrefix + params.next;\n        }\n\n        return {\n            regex : params.regex, onMatch: function(value, currentState, stack, line) {\n                stack.pop();\n                if (params.next) {\n                    stack.push(params.next);\n                    this.next = stack[stack.length - 1];\n                } else {\n                    this.next = stack.length > 1 ? stack[stack.length - 1] : stack.pop();\n                }\n                return params.token;\n            }\n        };\n    };\n\n}).call(CsoundPreprocessorHighlightRules.prototype);\n\nexports.CsoundPreprocessorHighlightRules = CsoundPreprocessorHighlightRules;\n});\n\nace.define(\"ace/mode/csound_score_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/csound_preprocessor_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\n\nvar CsoundPreprocessorHighlightRules = require(\"./csound_preprocessor_highlight_rules\").CsoundPreprocessorHighlightRules;\n\nvar CsoundScoreHighlightRules = function(embeddedRulePrefix) {\n\n    CsoundPreprocessorHighlightRules.call(this, embeddedRulePrefix);\n\n    this.quotedStringContents.push({\n        token : \"invalid.illegal.csound-score\",\n        regex : /[^\"]*$/\n    });\n\n    var start = this.$rules.start;\n    start.push(\n        {\n            token : \"keyword.control.csound-score\",\n            regex : /[abCdefiqstvxy]/\n        }, {\n            token : \"invalid.illegal.csound-score\",\n            regex : /w/\n        }, {\n            token : \"constant.numeric.language.csound-score\",\n            regex : /z/\n        }, {\n            token : [\"keyword.control.csound-score\", \"constant.numeric.integer.decimal.csound-score\"],\n            regex : /([nNpP][pP])(\\d+)/\n        }, {\n            token : \"keyword.other.csound-score\",\n            regex : /[mn]/,\n            push  : [\n                {\n                    token : \"empty\",\n                    regex : /$/,\n                    next  : \"pop\"\n                },\n                this.comments,\n                {\n                    token : \"entity.name.label.csound-score\",\n                    regex : /[A-Z_a-z]\\w*/\n                }\n            ]\n        }, {\n            token : \"keyword.preprocessor.csound-score\",\n            regex : /r\\b/,\n            next  : \"repeat section\"\n        },\n\n        this.numbers,\n\n        {\n            token : \"keyword.operator.csound-score\",\n            regex : \"[!+\\\\-*/^%&|<>#~.]\"\n        },\n\n        this.pushRule({\n            token : \"punctuation.definition.string.begin.csound-score\",\n            regex : /\"/,\n            next  : \"quoted string\"\n        }),\n\n        this.pushRule({\n            token : \"punctuation.braced-loop.begin.csound-score\",\n            regex : /{/,\n            next  : \"loop after left brace\"\n        })\n    );\n\n    this.addRules({\n        \"repeat section\": [\n            {\n                token : \"empty\",\n                regex : /$/,\n                next  : \"start\"\n            },\n            this.comments,\n            {\n                token : \"constant.numeric.integer.decimal.csound-score\",\n                regex : /\\d+/,\n                next  : \"repeat section before label\"\n            }\n        ],\n        \"repeat section before label\": [\n            {\n                token : \"empty\",\n                regex : /$/,\n                next  : \"start\"\n            },\n            this.comments,\n            {\n                token : \"entity.name.label.csound-score\",\n                regex : /[A-Z_a-z]\\w*/,\n                next  : \"start\"\n            }\n        ],\n\n        \"quoted string\": [\n            this.popRule({\n                token : \"punctuation.definition.string.end.csound-score\",\n                regex : /\"/\n            }),\n            this.quotedStringContents,\n            {\n                defaultToken: \"string.quoted.csound-score\"\n            }\n        ],\n\n        \"loop after left brace\": [\n            this.popRule({\n                token : \"constant.numeric.integer.decimal.csound-score\",\n                regex : /\\d+/,\n                next  : \"loop after repeat count\"\n            }),\n            this.comments,\n            {\n                token : \"invalid.illegal.csound\",\n                regex : /\\S.*/\n            }\n        ],\n        \"loop after repeat count\": [\n            this.popRule({\n                token : \"entity.name.function.preprocessor.csound-score\",\n                regex : /[A-Z_a-z]\\w*\\b/,\n                next  : \"loop after macro name\"\n            }),\n            this.comments,\n            {\n                token : \"invalid.illegal.csound\",\n                regex : /\\S.*/\n            }\n        ],\n        \"loop after macro name\": [\n            start,\n            this.popRule({\n                token : \"punctuation.braced-loop.end.csound-score\",\n                regex : /}/\n            })\n        ]\n    });\n\n    this.normalizeRules();\n};\n\noop.inherits(CsoundScoreHighlightRules, CsoundPreprocessorHighlightRules);\n\nexports.CsoundScoreHighlightRules = CsoundScoreHighlightRules;\n});\n\nace.define(\"ace/mode/csound_score\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/csound_score_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar CsoundScoreHighlightRules = require(\"./csound_score_highlight_rules\").CsoundScoreHighlightRules;\n\nvar Mode = function() {\n    this.HighlightRules = CsoundScoreHighlightRules;\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.lineCommentStart = \";\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.$id = \"ace/mode/csound_score\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});                (function() {\n                    ace.require([\"ace/mode/csound_score\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "]},"metadata":{},"sourceType":"script"}