{"ast":null,"code":"\"no use strict\";\n\n!function (window) {\n  if (typeof window.window != \"undefined\" && window.document) return;\n  if (window.require && window.define) return;\n\n  if (!window.console) {\n    window.console = function () {\n      var msgs = Array.prototype.slice.call(arguments, 0);\n      postMessage({\n        type: \"log\",\n        data: msgs\n      });\n    };\n\n    window.console.error = window.console.warn = window.console.log = window.console.trace = window.console;\n  }\n\n  window.window = window;\n  window.ace = window;\n\n  window.onerror = function (message, file, line, col, err) {\n    postMessage({\n      type: \"error\",\n      data: {\n        message: message,\n        data: err.data,\n        file: file,\n        line: line,\n        col: col,\n        stack: err.stack\n      }\n    });\n  };\n\n  window.normalizeModule = function (parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    } // normalize relative requires\n\n\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n      moduleName = (base ? base + \"/\" : \"\") + moduleName;\n\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n\n    return moduleName;\n  };\n\n  window.require = function require(parentId, id) {\n    if (!id) {\n      id = parentId;\n      parentId = null;\n    }\n\n    if (!id.charAt) throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n    id = window.normalizeModule(parentId, id);\n    var module = window.require.modules[id];\n\n    if (module) {\n      if (!module.initialized) {\n        module.initialized = true;\n        module.exports = module.factory().exports;\n      }\n\n      return module.exports;\n    }\n\n    if (!window.require.tlns) return console.log(\"unable to load \" + id);\n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n\n    importScripts(path);\n    return window.require(parentId, id);\n  };\n\n  function resolveModuleId(id, paths) {\n    var testPath = id,\n        tail = \"\";\n\n    while (testPath) {\n      var alias = paths[testPath];\n\n      if (typeof alias == \"string\") {\n        return alias + tail;\n      } else if (alias) {\n        return alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n      } else if (alias === false) {\n        return \"\";\n      }\n\n      var i = testPath.lastIndexOf(\"/\");\n      if (i === -1) break;\n      tail = testPath.substr(i) + tail;\n      testPath = testPath.slice(0, i);\n    }\n\n    return id;\n  }\n\n  window.require.modules = {};\n  window.require.tlns = {};\n\n  window.define = function (id, deps, factory) {\n    if (arguments.length == 2) {\n      factory = deps;\n\n      if (typeof id != \"string\") {\n        deps = id;\n        id = window.require.id;\n      }\n    } else if (arguments.length == 1) {\n      factory = id;\n      deps = [];\n      id = window.require.id;\n    }\n\n    if (typeof factory != \"function\") {\n      window.require.modules[id] = {\n        exports: factory,\n        initialized: true\n      };\n      return;\n    }\n\n    if (!deps.length) // If there is no dependencies, we inject \"require\", \"exports\" and\n      // \"module\" as dependencies, to provide CommonJS compatibility.\n      deps = [\"require\", \"exports\", \"module\"];\n\n    var req = function (childId) {\n      return window.require(id, childId);\n    };\n\n    window.require.modules[id] = {\n      exports: {},\n      factory: function () {\n        var module = this;\n        var returnExports = factory.apply(this, deps.slice(0, factory.length).map(function (dep) {\n          switch (dep) {\n            // Because \"require\", \"exports\" and \"module\" aren't actual\n            // dependencies, we must handle them seperately.\n            case \"require\":\n              return req;\n\n            case \"exports\":\n              return module.exports;\n\n            case \"module\":\n              return module;\n            // But for all other dependencies, we can just go ahead and\n            // require them.\n\n            default:\n              return req(dep);\n          }\n        }));\n        if (returnExports) module.exports = returnExports;\n        return module;\n      }\n    };\n  };\n\n  window.define.amd = {};\n  require.tlns = {};\n\n  window.initBaseUrls = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces) require.tlns[i] = topLevelNamespaces[i];\n  };\n\n  window.initSender = function initSender() {\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n\n    var oop = window.require(\"ace/lib/oop\");\n\n    var Sender = function () {};\n\n    (function () {\n      oop.implement(this, EventEmitter);\n\n      this.callback = function (data, callbackId) {\n        postMessage({\n          type: \"call\",\n          id: callbackId,\n          data: data\n        });\n      };\n\n      this.emit = function (name, data) {\n        postMessage({\n          type: \"event\",\n          name: name,\n          data: data\n        });\n      };\n    }).call(Sender.prototype);\n    return new Sender();\n  };\n\n  var main = window.main = null;\n  var sender = window.sender = null;\n\n  window.onmessage = function (e) {\n    var msg = e.data;\n\n    if (msg.event && sender) {\n      sender._signal(msg.event, msg.data);\n    } else if (msg.command) {\n      if (main[msg.command]) main[msg.command].apply(main, msg.args);else if (window[msg.command]) window[msg.command].apply(window, msg.args);else throw new Error(\"Unknown command:\" + msg.command);\n    } else if (msg.init) {\n      window.initBaseUrls(msg.tlns);\n\n      require(\"ace/lib/es5-shim\");\n\n      sender = window.sender = window.initSender();\n\n      var clazz = require(msg.module)[msg.classname];\n\n      main = window.main = new clazz(sender);\n    }\n  };\n}(this);\nace.define(\"ace/lib/oop\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n\n  exports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n\n    return obj;\n  };\n\n  exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\nace.define(\"ace/lib/lang\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.last = function (a) {\n    return a[a.length - 1];\n  };\n\n  exports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n  };\n\n  exports.stringRepeat = function (string, count) {\n    var result = '';\n\n    while (count > 0) {\n      if (count & 1) result += string;\n      if (count >>= 1) string += string;\n    }\n\n    return result;\n  };\n\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n\n  exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  };\n\n  exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  };\n\n  exports.copyObject = function (obj) {\n    var copy = {};\n\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n\n    return copy;\n  };\n\n  exports.copyArray = function (array) {\n    var copy = [];\n\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n    }\n\n    return copy;\n  };\n\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n\n    if (Array.isArray(obj)) {\n      copy = [];\n\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n\n      return copy;\n    }\n\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n    copy = {};\n\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n\n    return copy;\n  };\n\n  exports.arrayToMap = function (arr) {\n    var map = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n\n    return map;\n  };\n\n  exports.createMap = function (props) {\n    var map = Object.create(null);\n\n    for (var i in props) {\n      map[i] = props[i];\n    }\n\n    return map;\n  };\n\n  exports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n\n  exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  };\n\n  exports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n  };\n\n  exports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n    return matches;\n  };\n\n  exports.deferredCall = function (fcn) {\n    var timer = null;\n\n    var callback = function () {\n      timer = null;\n      fcn();\n    };\n\n    var deferred = function (timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function () {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n\n    deferred.cancel = function () {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n\n    deferred.isPending = function () {\n      return timer;\n    };\n\n    return deferred;\n  };\n\n  exports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n\n    var callback = function () {\n      timer = null;\n      fcn();\n    };\n\n    var _self = function (timeout) {\n      if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function (timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.schedule = _self;\n\n    _self.call = function () {\n      this.cancel();\n      fcn();\n    };\n\n    _self.cancel = function () {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n\n    _self.isPending = function () {\n      return timer;\n    };\n\n    return _self;\n  };\n});\nace.define(\"ace/range\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  var Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n      row: startRow,\n      column: startColumn\n    };\n    this.end = {\n      row: endRow,\n      column: endColumn\n    };\n  };\n\n  (function () {\n    this.isEqual = function (range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n    };\n\n    this.toString = function () {\n      return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n    };\n\n    this.contains = function (row, column) {\n      return this.compare(row, column) == 0;\n    };\n\n    this.compareRange = function (range) {\n      var cmp,\n          end = range.end,\n          start = range.start;\n      cmp = this.compare(end.row, end.column);\n\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n\n    this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    };\n\n    this.containsRange = function (range) {\n      return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n\n    this.intersects = function (range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n\n    this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n\n    this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n\n    this.setStart = function (row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n\n    this.setEnd = function (row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n\n    this.inside = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideStart = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideEnd = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.compare = function (row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n        }\n      }\n\n      if (row < this.start.row) return -1;\n      if (row > this.end.row) return 1;\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n      return 0;\n    };\n\n    this.compareStart = function (row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareEnd = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareInside = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.end.row < firstRow) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.start.row < firstRow) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.extend = function (row, column) {\n      var cmp = this.compare(row, column);\n      if (cmp == 0) return this;else if (cmp == -1) var start = {\n        row: row,\n        column: column\n      };else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function () {\n      return this.start.row === this.end.row && this.start.column === this.end.column;\n    };\n\n    this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    };\n\n    this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    };\n\n    this.collapseRows = function () {\n      if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n\n    this.toScreenRange = function (session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n\n    this.moveBy = function (row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n  }).call(Range.prototype);\n\n  Range.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n\n  Range.comparePoints = comparePoints;\n\n  Range.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  exports.Range = Range;\n});\nace.define(\"ace/apply_delta\", [], function (require, exports, module) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n\n  function positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n  }\n\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n\n  exports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n\n        if (lines.length === 1) {\n          docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n\n        break;\n\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n\n        if (row === endRow) {\n          docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n        }\n\n        break;\n    }\n  };\n});\nace.define(\"ace/lib/event_emitter\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var EventEmitter = {};\n\n  var stopPropagation = function () {\n    this.propagationStopped = true;\n  };\n\n  var preventDefault = function () {\n    this.defaultPrevented = true;\n  };\n\n  EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n    if (typeof e != \"object\" || !e) e = {};\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n\n  EventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) listeners[i](e, this);\n  };\n\n  EventEmitter.once = function (eventName, callback) {\n    var _self = this;\n\n    this.on(eventName, function newCallback() {\n      _self.off(eventName, newCallback);\n\n      callback.apply(null, arguments);\n    });\n\n    if (!callback) {\n      return new Promise(function (resolve) {\n        callback = resolve;\n      });\n    }\n  };\n\n  EventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = {\n      _disabled_: {}\n    };\n\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n\n    handlers[eventName] = callback;\n  };\n\n  EventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n\n    if (handlers[eventName] == callback) {\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n\n  EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n    if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n\n  EventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n  };\n\n  exports.EventEmitter = EventEmitter;\n});\nace.define(\"ace/anchor\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.getPosition = function () {\n      return this.$clipPositionToDocument(this.row, this.column);\n    };\n\n    this.getDocument = function () {\n      return this.document;\n    };\n\n    this.$insertRight = false;\n\n    this.onChange = function (delta) {\n      if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n      if (delta.start.row > this.row) return;\n      var point = $getTransformedPoint(delta, {\n        row: this.row,\n        column: this.column\n      }, this.$insertRight);\n      this.setPosition(point.row, point.column, true);\n    };\n\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n    }\n\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = delta.action == \"insert\";\n      var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n      var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n      var deltaStart = delta.start;\n      var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n\n      if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n          row: point.row,\n          column: point.column\n        };\n      }\n\n      if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n          row: point.row + deltaRowShift,\n          column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n      }\n\n      return {\n        row: deltaStart.row,\n        column: deltaStart.column\n      };\n    }\n\n    this.setPosition = function (row, column, noClip) {\n      var pos;\n\n      if (noClip) {\n        pos = {\n          row: row,\n          column: column\n        };\n      } else {\n        pos = this.$clipPositionToDocument(row, column);\n      }\n\n      if (this.row == pos.row && this.column == pos.column) return;\n      var old = {\n        row: this.row,\n        column: this.column\n      };\n      this.row = pos.row;\n      this.column = pos.column;\n\n      this._signal(\"change\", {\n        old: old,\n        value: pos\n      });\n    };\n\n    this.detach = function () {\n      this.document.off(\"change\", this.$onChange);\n    };\n\n    this.attach = function (doc) {\n      this.document = doc || this.document;\n      this.document.on(\"change\", this.$onChange);\n    };\n\n    this.$clipPositionToDocument = function (row, column) {\n      var pos = {};\n\n      if (row >= this.document.getLength()) {\n        pos.row = Math.max(0, this.document.getLength() - 1);\n        pos.column = this.document.getLine(pos.row).length;\n      } else if (row < 0) {\n        pos.row = 0;\n        pos.column = 0;\n      } else {\n        pos.row = row;\n        pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n      }\n\n      if (column < 0) pos.column = 0;\n      return pos;\n    };\n  }).call(Anchor.prototype);\n});\nace.define(\"ace/document\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var applyDelta = require(\"./apply_delta\").applyDelta;\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Range = require(\"./range\").Range;\n\n  var Anchor = require(\"./anchor\").Anchor;\n\n  var Document = function (textOrLines) {\n    this.$lines = [\"\"];\n\n    if (textOrLines.length === 0) {\n      this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n      this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    } else {\n      this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    }\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setValue = function (text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length));\n      this.insert({\n        row: 0,\n        column: 0\n      }, text);\n    };\n\n    this.getValue = function () {\n      return this.getAllLines().join(this.getNewLineCharacter());\n    };\n\n    this.createAnchor = function (row, column) {\n      return new Anchor(this, row, column);\n    };\n\n    if (\"aaa\".split(/a/).length === 0) {\n      this.$split = function (text) {\n        return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n      };\n    } else {\n      this.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n      };\n    }\n\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : \"\\n\";\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineCharacter = function () {\n      switch (this.$newLineMode) {\n        case \"windows\":\n          return \"\\r\\n\";\n\n        case \"unix\":\n          return \"\\n\";\n\n        default:\n          return this.$autoNewLine || \"\\n\";\n      }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n\n    this.setNewLineMode = function (newLineMode) {\n      if (this.$newLineMode === newLineMode) return;\n      this.$newLineMode = newLineMode;\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineMode = function () {\n      return this.$newLineMode;\n    };\n\n    this.isNewLine = function (text) {\n      return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n    };\n\n    this.getLine = function (row) {\n      return this.$lines[row] || \"\";\n    };\n\n    this.getLines = function (firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1);\n    };\n\n    this.getAllLines = function () {\n      return this.getLines(0, this.getLength());\n    };\n\n    this.getLength = function () {\n      return this.$lines.length;\n    };\n\n    this.getTextRange = function (range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n\n    this.getLinesForRange = function (range) {\n      var lines;\n\n      if (range.start.row === range.end.row) {\n        lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      } else {\n        lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n      }\n\n      return lines;\n    };\n\n    this.insertLines = function (row, lines) {\n      console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n      return this.insertFullLines(row, lines);\n    };\n\n    this.removeLines = function (firstRow, lastRow) {\n      console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n      return this.removeFullLines(firstRow, lastRow);\n    };\n\n    this.insertNewLine = function (position) {\n      console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n      return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n\n    this.insert = function (position, text) {\n      if (this.getLength() <= 1) this.$detectNewLine(text);\n      return this.insertMergedLines(position, this.$split(text));\n    };\n\n    this.insertInLine = function (position, text) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = this.pos(position.row, position.column + text.length);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: [text]\n      }, true);\n      return this.clonePos(end);\n    };\n\n    this.clippedPos = function (row, column) {\n      var length = this.getLength();\n\n      if (row === undefined) {\n        row = length;\n      } else if (row < 0) {\n        row = 0;\n      } else if (row >= length) {\n        row = length - 1;\n        column = undefined;\n      }\n\n      var line = this.getLine(row);\n      if (column == undefined) column = line.length;\n      column = Math.min(Math.max(column, 0), line.length);\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.clonePos = function (pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      };\n    };\n\n    this.pos = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.$clipPosition = function (position) {\n      var length = this.getLength();\n\n      if (position.row >= length) {\n        position.row = Math.max(0, length - 1);\n        position.column = this.getLine(length - 1).length;\n      } else {\n        position.row = Math.max(0, position.row);\n        position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n      }\n\n      return position;\n    };\n\n    this.insertFullLines = function (row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n\n      if (row < this.getLength()) {\n        lines = lines.concat([\"\"]);\n        column = 0;\n      } else {\n        lines = [\"\"].concat(lines);\n        row--;\n        column = this.$lines[row].length;\n      }\n\n      this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines);\n    };\n\n    this.insertMergedLines = function (position, lines) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = {\n        row: start.row + lines.length - 1,\n        column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n      };\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: lines\n      });\n      return this.clonePos(end);\n    };\n\n    this.remove = function (range) {\n      var start = this.clippedPos(range.start.row, range.start.column);\n      var end = this.clippedPos(range.end.row, range.end.column);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      });\n      return this.clonePos(start);\n    };\n\n    this.removeInLine = function (row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn);\n      var end = this.clippedPos(row, endColumn);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, true);\n      return this.clonePos(start);\n    };\n\n    this.removeFullLines = function (firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n      lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n      var deleteLastNewLine = lastRow < this.getLength() - 1;\n      var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n      var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n      var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n      var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n      var range = new Range(startRow, startCol, endRow, endCol);\n      var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: \"remove\",\n        lines: this.getLinesForRange(range)\n      });\n      return deletedLines;\n    };\n\n    this.removeNewLine = function (row) {\n      if (row < this.getLength() - 1 && row >= 0) {\n        this.applyDelta({\n          start: this.pos(row, this.getLine(row).length),\n          end: this.pos(row + 1, 0),\n          action: \"remove\",\n          lines: [\"\", \"\"]\n        });\n      }\n    };\n\n    this.replace = function (range, text) {\n      if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n      if (text.length === 0 && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n\n      if (text) {\n        end = this.insert(range.start, text);\n      } else {\n        end = range.start;\n      }\n\n      return end;\n    };\n\n    this.applyDeltas = function (deltas) {\n      for (var i = 0; i < deltas.length; i++) {\n        this.applyDelta(deltas[i]);\n      }\n    };\n\n    this.revertDeltas = function (deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) {\n        this.revertDelta(deltas[i]);\n      }\n    };\n\n    this.applyDelta = function (delta, doNotValidate) {\n      var isInsert = delta.action == \"insert\";\n\n      if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n        return;\n      }\n\n      if (isInsert && delta.lines.length > 20000) {\n        this.$splitAndapplyLargeDelta(delta, 20000);\n      } else {\n        applyDelta(this.$lines, delta, doNotValidate);\n\n        this._signal(\"change\", delta);\n      }\n    };\n\n    this.$safeApplyDelta = function (delta) {\n      var docLength = this.$lines.length;\n\n      if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength || delta.action == \"insert\" && delta.start.row <= docLength) {\n        this.applyDelta(delta);\n      }\n    };\n\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n      var lines = delta.lines;\n      var l = lines.length - MAX + 1;\n      var row = delta.start.row;\n      var column = delta.start.column;\n\n      for (var from = 0, to = 0; from < l; from = to) {\n        to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        chunk.push(\"\");\n        this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, true);\n      }\n\n      delta.lines = lines.slice(from);\n      delta.start.row = row + from;\n      delta.start.column = column;\n      this.applyDelta(delta, true);\n    };\n\n    this.revertDelta = function (delta) {\n      this.$safeApplyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n        lines: delta.lines.slice()\n      });\n    };\n\n    this.indexToPosition = function (index, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n\n      for (var i = startRow || 0, l = lines.length; i < l; i++) {\n        index -= lines[i].length + newlineLength;\n        if (index < 0) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      }\n\n      return {\n        row: l - 1,\n        column: index + lines[l - 1].length + newlineLength\n      };\n    };\n\n    this.positionToIndex = function (pos, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      var index = 0;\n      var row = Math.min(pos.row, lines.length);\n\n      for (var i = startRow || 0; i < row; ++i) index += lines[i].length + newlineLength;\n\n      return index + pos.column;\n    };\n  }).call(Document.prototype);\n  exports.Document = Document;\n});\nace.define(\"ace/worker/mirror\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"../range\").Range;\n\n  var Document = require(\"../document\").Document;\n\n  var lang = require(\"../lib/lang\");\n\n  var Mirror = exports.Mirror = function (sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n\n    var _self = this;\n\n    sender.on(\"change\", function (e) {\n      var data = e.data;\n\n      if (data[0].start) {\n        doc.applyDeltas(data);\n      } else {\n        for (var i = 0; i < data.length; i += 2) {\n          if (Array.isArray(data[i + 1])) {\n            var d = {\n              action: \"insert\",\n              start: data[i],\n              lines: data[i + 1]\n            };\n          } else {\n            var d = {\n              action: \"remove\",\n              start: data[i],\n              end: data[i + 1]\n            };\n          }\n\n          doc.applyDelta(d, true);\n        }\n      }\n\n      if (_self.$timeout) return deferredUpdate.schedule(_self.$timeout);\n\n      _self.onUpdate();\n    });\n  };\n\n  (function () {\n    this.$timeout = 500;\n\n    this.setTimeout = function (timeout) {\n      this.$timeout = timeout;\n    };\n\n    this.setValue = function (value) {\n      this.doc.setValue(value);\n      this.deferredUpdate.schedule(this.$timeout);\n    };\n\n    this.getValue = function (callbackId) {\n      this.sender.callback(this.doc.getValue(), callbackId);\n    };\n\n    this.onUpdate = function () {};\n\n    this.isPending = function () {\n      return this.deferredUpdate.isPending();\n    };\n  }).call(Mirror.prototype);\n});\nace.define(\"ace/mode/xml/sax\", [], function (require, exports, module) {\n  var nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n\n  var nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\u00B7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\n  var tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$');\n  var S_TAG = 0; //tag name offerring\n\n  var S_ATTR = 1; //attr name offerring \n\n  var S_ATTR_S = 2; //attr name end and space offer\n\n  var S_EQ = 3; //=space?\n\n  var S_V = 4; //attr value(no quot value only)\n\n  var S_E = 5; //attr value end and no space(quot end)\n\n  var S_S = 6; //(attr value end || tag end ) && (space offer)\n\n  var S_C = 7; //closed el<el />\n\n  function XMLReader() {}\n\n  XMLReader.prototype = {\n    parse: function (source, defaultNSMap, entityMap) {\n      var domBuilder = this.domBuilder;\n      domBuilder.startDocument();\n\n      _copy(defaultNSMap, defaultNSMap = {});\n\n      parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n      domBuilder.endDocument();\n    }\n  };\n\n  function parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n    function fixedFromCharCode(code) {\n      if (code > 0xffff) {\n        code -= 0x10000;\n        var surrogate1 = 0xd800 + (code >> 10),\n            surrogate2 = 0xdc00 + (code & 0x3ff);\n        return String.fromCharCode(surrogate1, surrogate2);\n      } else {\n        return String.fromCharCode(code);\n      }\n    }\n\n    function entityReplacer(a) {\n      var k = a.slice(1, -1);\n\n      if (k in entityMap) {\n        return entityMap[k];\n      } else if (k.charAt(0) === '#') {\n        return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n      } else {\n        errorHandler.error('entity not found:' + a);\n        return a;\n      }\n    }\n\n    function appendText(end) {\n      //has some bugs\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n\n    function position(start, m) {\n      while (start >= endPos && (m = linePattern.exec(source))) {\n        startPos = m.index;\n        endPos = startPos + m[0].length;\n        locator.lineNumber++;\n      }\n\n      locator.columnNumber = start - startPos + 1;\n    }\n\n    var startPos = 0;\n    var endPos = 0;\n    var linePattern = /.+(?:\\r\\n?|\\n)|.*$/g;\n    var locator = domBuilder.locator;\n    var parseStack = [{\n      currentNSMap: defaultNSMapCopy\n    }];\n    var closeMap = {};\n    var start = 0;\n\n    while (true) {\n      var i = source.indexOf('<', start);\n\n      if (i < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.document;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n\n        return;\n      }\n\n      if (i > start) {\n        appendText(i);\n      }\n\n      switch (source.charAt(i + 1)) {\n        case '/':\n          var end = source.indexOf('>', i + 3);\n          var tagName = source.substring(i + 2, end);\n          var config;\n\n          if (parseStack.length > 1) {\n            config = parseStack.pop();\n          } else {\n            errorHandler.fatalError(\"end tag name not found for: \" + tagName);\n            break;\n          }\n\n          var localNSMap = config.localNSMap;\n\n          if (config.tagName != tagName) {\n            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \" + config.tagName);\n          }\n\n          domBuilder.endElement(config.uri, config.localName, tagName);\n\n          if (localNSMap) {\n            for (var prefix in localNSMap) {\n              domBuilder.endPrefixMapping(prefix);\n            }\n          }\n\n          end++;\n          break;\n\n        case '?':\n          // <?...?>\n          locator && position(i);\n          end = parseInstruction(source, i, domBuilder);\n          break;\n\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(i);\n          end = parseDCC(source, i, domBuilder, errorHandler);\n          break;\n\n        default:\n          try {\n            locator && position(i);\n            var el = new ElementAttributes();\n            var end = parseElementStartPart(source, i, el, entityReplacer, errorHandler);\n            var len = el.length;\n\n            if (len && locator) {\n              var backup = copyLocator(locator, {});\n\n              for (var i = 0; i < len; i++) {\n                var a = el[i];\n                position(a.offset);\n                a.offset = copyLocator(locator, {});\n              }\n\n              copyLocator(backup, locator);\n            }\n\n            if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n              el.closed = true;\n\n              if (!entityMap.nbsp) {\n                errorHandler.warning('unclosed xml attribute');\n              }\n            }\n\n            appendElement(el, domBuilder, parseStack);\n\n            if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n              end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n            } else {\n              end++;\n            }\n          } catch (e) {\n            errorHandler.error('element parse error: ' + e);\n            end = -1;\n          }\n\n      }\n\n      if (end < 0) {\n        appendText(i + 1);\n      } else {\n        start = end;\n      }\n    }\n  }\n\n  function copyLocator(f, t) {\n    t.lineNumber = f.lineNumber;\n    t.columnNumber = f.columnNumber;\n    return t;\n  }\n\n  function parseElementStartPart(source, start, el, entityReplacer, errorHandler) {\n    var attrName;\n    var value;\n    var p = ++start;\n    var s = S_TAG; //status\n\n    while (true) {\n      var c = source.charAt(p);\n\n      switch (c) {\n        case '=':\n          if (s === S_ATTR) {\n            //attrName\n            attrName = source.slice(start, p);\n            s = S_EQ;\n          } else if (s === S_ATTR_S) {\n            s = S_EQ;\n          } else {\n            throw new Error('attribute equal must after attrName');\n          }\n\n          break;\n\n        case '\\'':\n        case '\"':\n          if (s === S_EQ) {\n            //equal\n            start = p + 1;\n            p = source.indexOf(c, start);\n\n            if (p > 0) {\n              value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              el.add(attrName, value, start - 1);\n              s = S_E;\n            } else {\n              throw new Error('attribute value no end \\'' + c + '\\' match');\n            }\n          } else if (s == S_V) {\n            value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n            el.add(attrName, value, start);\n            errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n            start = p + 1;\n            s = S_E;\n          } else {\n            throw new Error('attribute value must after \"=\"');\n          }\n\n          break;\n\n        case '/':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n\n            case S_E:\n            case S_S:\n            case S_C:\n              s = S_C;\n              el.closed = true;\n\n            case S_V:\n            case S_ATTR:\n            case S_ATTR_S:\n              break;\n\n            default:\n              throw new Error(\"attribute invalid close char('/')\");\n          }\n\n          break;\n\n        case '':\n          //end document\n          errorHandler.error('unexpected end of input');\n\n        case '>':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n\n            case S_E:\n            case S_S:\n            case S_C:\n              break;\n            //normal\n\n            case S_V: //Compatible state\n\n            case S_ATTR:\n              value = source.slice(start, p);\n\n              if (value.slice(-1) === '/') {\n                el.closed = true;\n                value = value.slice(0, -1);\n              }\n\n            case S_ATTR_S:\n              if (s === S_ATTR_S) {\n                value = attrName;\n              }\n\n              if (s == S_V) {\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start);\n              } else {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n                el.add(value, value, start);\n              }\n\n              break;\n\n            case S_EQ:\n              throw new Error('attribute value missed!!');\n          }\n\n          return p;\n\n        case '\\u0080':\n          c = ' ';\n\n        default:\n          if (c <= ' ') {\n            //space\n            switch (s) {\n              case S_TAG:\n                el.setTagName(source.slice(start, p)); //tagName\n\n                s = S_S;\n                break;\n\n              case S_ATTR:\n                attrName = source.slice(start, p);\n                s = S_ATTR_S;\n                break;\n\n              case S_V:\n                var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value, start);\n\n              case S_E:\n                s = S_S;\n                break;\n            }\n          } else {\n            //not space\n            switch (s) {\n              case S_ATTR_S:\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead!!');\n                el.add(attrName, attrName, start);\n                start = p;\n                s = S_ATTR;\n                break;\n\n              case S_E:\n                errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n\n              case S_S:\n                s = S_ATTR;\n                start = p;\n                break;\n\n              case S_EQ:\n                s = S_V;\n                start = p;\n                break;\n\n              case S_C:\n                throw new Error(\"elements closed character '/' and '>' must be connected to\");\n            }\n          }\n\n      }\n\n      p++;\n    }\n  }\n\n  function appendElement(el, domBuilder, parseStack) {\n    var tagName = el.tagName;\n    var localNSMap = null;\n    var currentNSMap = parseStack[parseStack.length - 1].currentNSMap;\n    var i = el.length;\n\n    while (i--) {\n      var a = el[i];\n      var qName = a.qName;\n      var value = a.value;\n      var nsp = qName.indexOf(':');\n\n      if (nsp > 0) {\n        var prefix = a.prefix = qName.slice(0, nsp);\n        var localName = qName.slice(nsp + 1);\n        var nsPrefix = prefix === 'xmlns' && localName;\n      } else {\n        localName = qName;\n        prefix = null;\n        nsPrefix = qName === 'xmlns' && '';\n      }\n\n      a.localName = localName;\n\n      if (nsPrefix !== false) {\n        //hack!!\n        if (localNSMap == null) {\n          localNSMap = {};\n\n          _copy(currentNSMap, currentNSMap = {});\n        }\n\n        currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n        a.uri = 'http://www.w3.org/2000/xmlns/';\n        domBuilder.startPrefixMapping(nsPrefix, value);\n      }\n    }\n\n    var i = el.length;\n\n    while (i--) {\n      a = el[i];\n      var prefix = a.prefix;\n\n      if (prefix) {\n        //no prefix attribute has no namespace\n        if (prefix === 'xml') {\n          a.uri = 'http://www.w3.org/XML/1998/namespace';\n        }\n\n        if (prefix !== 'xmlns') {\n          a.uri = currentNSMap[prefix];\n        }\n      }\n    }\n\n    var nsp = tagName.indexOf(':');\n\n    if (nsp > 0) {\n      prefix = el.prefix = tagName.slice(0, nsp);\n      localName = el.localName = tagName.slice(nsp + 1);\n    } else {\n      prefix = null; //important!!\n\n      localName = el.localName = tagName;\n    }\n\n    var ns = el.uri = currentNSMap[prefix || ''];\n    domBuilder.startElement(ns, localName, tagName, el);\n\n    if (el.closed) {\n      domBuilder.endElement(ns, localName, tagName);\n\n      if (localNSMap) {\n        for (prefix in localNSMap) {\n          domBuilder.endPrefixMapping(prefix);\n        }\n      }\n    } else {\n      el.currentNSMap = currentNSMap;\n      el.localNSMap = localNSMap;\n      parseStack.push(el);\n    }\n  }\n\n  function parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n    if (/^(?:script|textarea)$/i.test(tagName)) {\n      var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n      var text = source.substring(elStartEnd + 1, elEndStart);\n\n      if (/[&<]/.test(text)) {\n        if (/^script$/i.test(tagName)) {\n          domBuilder.characters(text, 0, text.length);\n          return elEndStart;\n        } //}else{//text area\n\n\n        text = text.replace(/&#?\\w+;/g, entityReplacer);\n        domBuilder.characters(text, 0, text.length);\n        return elEndStart;\n      }\n    }\n\n    return elStartEnd + 1;\n  }\n\n  function fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n    var pos = closeMap[tagName];\n\n    if (pos == null) {\n      pos = closeMap[tagName] = source.lastIndexOf('</' + tagName + '>');\n    }\n\n    return pos < elStartEnd;\n  }\n\n  function _copy(source, target) {\n    for (var n in source) {\n      target[n] = source[n];\n    }\n  }\n\n  function parseDCC(source, start, domBuilder, errorHandler) {\n    //sure start with '<!'\n    var next = source.charAt(start + 2);\n\n    switch (next) {\n      case '-':\n        if (source.charAt(start + 3) === '-') {\n          var end = source.indexOf('-->', start + 4);\n\n          if (end > start) {\n            domBuilder.comment(source, start + 4, end - start - 4);\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed comment\");\n            return -1;\n          }\n        } else {\n          return -1;\n        }\n\n      default:\n        if (source.substr(start + 3, 6) == 'CDATA[') {\n          var end = source.indexOf(']]>', start + 9);\n\n          if (end > start) {\n            domBuilder.startCDATA();\n            domBuilder.characters(source, start + 9, end - start - 9);\n            domBuilder.endCDATA();\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed CDATA\");\n            return -1;\n          }\n        }\n\n        var matchs = split(source, start);\n        var len = matchs.length;\n\n        if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n          var name = matchs[1][0];\n          var pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0];\n          var sysid = len > 4 && matchs[4][0];\n          var lastMatch = matchs[len - 1];\n          domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'), sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'));\n          domBuilder.endDTD();\n          return lastMatch.index + lastMatch[0].length;\n        }\n\n    }\n\n    return -1;\n  }\n\n  function parseInstruction(source, start, domBuilder) {\n    var end = source.indexOf('?>', start);\n\n    if (end) {\n      var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\n      if (match) {\n        var len = match[0].length;\n        domBuilder.processingInstruction(match[1], match[2]);\n        return end + 2;\n      } else {\n        //error\n        return -1;\n      }\n    }\n\n    return -1;\n  }\n\n  function ElementAttributes(source) {}\n\n  ElementAttributes.prototype = {\n    setTagName: function (tagName) {\n      if (!tagNamePattern.test(tagName)) {\n        throw new Error('invalid tagName:' + tagName);\n      }\n\n      this.tagName = tagName;\n    },\n    add: function (qName, value, offset) {\n      if (!tagNamePattern.test(qName)) {\n        throw new Error('invalid attribute:' + qName);\n      }\n\n      this[this.length++] = {\n        qName: qName,\n        value: value,\n        offset: offset\n      };\n    },\n    length: 0,\n    getLocalName: function (i) {\n      return this[i].localName;\n    },\n    getOffset: function (i) {\n      return this[i].offset;\n    },\n    getQName: function (i) {\n      return this[i].qName;\n    },\n    getURI: function (i) {\n      return this[i].uri;\n    },\n    getValue: function (i) {\n      return this[i].value;\n    }\n  };\n\n  function _set_proto_(thiz, parent) {\n    thiz.__proto__ = parent;\n    return thiz;\n  }\n\n  if (!(_set_proto_({}, _set_proto_.prototype) instanceof _set_proto_)) {\n    _set_proto_ = function (thiz, parent) {\n      function p() {}\n\n      ;\n      p.prototype = parent;\n      p = new p();\n\n      for (parent in thiz) {\n        p[parent] = thiz[parent];\n      }\n\n      return p;\n    };\n  }\n\n  function split(source, start) {\n    var match;\n    var buf = [];\n    var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n    reg.lastIndex = start;\n    reg.exec(source); //skip <\n\n    while (match = reg.exec(source)) {\n      buf.push(match);\n      if (match[1]) return buf;\n    }\n  }\n\n  return XMLReader;\n});\nace.define(\"ace/mode/xml/dom\", [], function (require, exports, module) {\n  function copy(src, dest) {\n    for (var p in src) {\n      dest[p] = src[p];\n    }\n  }\n\n  function _extends(Class, Super) {\n    var t = function () {};\n\n    var pt = Class.prototype;\n\n    if (Object.create) {\n      var ppt = Object.create(Super.prototype);\n      pt.__proto__ = ppt;\n    }\n\n    if (!(pt instanceof Super)) {\n      t.prototype = Super.prototype;\n      t = new t();\n      copy(pt, t);\n      Class.prototype = pt = t;\n    }\n\n    if (pt.constructor != Class) {\n      if (typeof Class != 'function') {\n        console.error(\"unknown Class:\" + Class);\n      }\n\n      pt.constructor = Class;\n    }\n  }\n\n  var htmlns = 'http://www.w3.org/1999/xhtml';\n  var NodeType = {};\n  var ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\n  var ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\n  var TEXT_NODE = NodeType.TEXT_NODE = 3;\n  var CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\n  var ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\n  var ENTITY_NODE = NodeType.ENTITY_NODE = 6;\n  var PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\n  var COMMENT_NODE = NodeType.COMMENT_NODE = 8;\n  var DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\n  var DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\n  var DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\n  var NOTATION_NODE = NodeType.NOTATION_NODE = 12;\n  var ExceptionCode = {};\n  var ExceptionMessage = {};\n  var INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\n  var DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\n  var HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\n  var WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\n  var INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\n  var NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\n  var NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\n  var NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\n  var NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\n  var INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10);\n  var INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\n  var SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\n  var INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\n  var NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\n  var INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n\n  function DOMException(code, message) {\n    if (message instanceof Error) {\n      var error = message;\n    } else {\n      error = this;\n      Error.call(this, ExceptionMessage[code]);\n      this.message = ExceptionMessage[code];\n      if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n    }\n\n    error.code = code;\n    if (message) this.message = this.message + \": \" + message;\n    return error;\n  }\n\n  ;\n  DOMException.prototype = Error.prototype;\n  copy(ExceptionCode, DOMException);\n\n  function NodeList() {}\n\n  ;\n  NodeList.prototype = {\n    length: 0,\n    item: function (index) {\n      return this[index] || null;\n    }\n  };\n\n  function LiveNodeList(node, refresh) {\n    this._node = node;\n    this._refresh = refresh;\n\n    _updateLiveList(this);\n  }\n\n  function _updateLiveList(list) {\n    var inc = list._node._inc || list._node.ownerDocument._inc;\n\n    if (list._inc != inc) {\n      var ls = list._refresh(list._node);\n\n      __set__(list, 'length', ls.length);\n\n      copy(ls, list);\n      list._inc = inc;\n    }\n  }\n\n  LiveNodeList.prototype.item = function (i) {\n    _updateLiveList(this);\n\n    return this[i];\n  };\n\n  _extends(LiveNodeList, NodeList);\n\n  function NamedNodeMap() {}\n\n  ;\n\n  function _findNodeIndex(list, node) {\n    var i = list.length;\n\n    while (i--) {\n      if (list[i] === node) {\n        return i;\n      }\n    }\n  }\n\n  function _addNamedNode(el, list, newAttr, oldAttr) {\n    if (oldAttr) {\n      list[_findNodeIndex(list, oldAttr)] = newAttr;\n    } else {\n      list[list.length++] = newAttr;\n    }\n\n    if (el) {\n      newAttr.ownerElement = el;\n      var doc = el.ownerDocument;\n\n      if (doc) {\n        oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n\n        _onAddAttribute(doc, el, newAttr);\n      }\n    }\n  }\n\n  function _removeNamedNode(el, list, attr) {\n    var i = _findNodeIndex(list, attr);\n\n    if (i >= 0) {\n      var lastIndex = list.length - 1;\n\n      while (i < lastIndex) {\n        list[i] = list[++i];\n      }\n\n      list.length = lastIndex;\n\n      if (el) {\n        var doc = el.ownerDocument;\n\n        if (doc) {\n          _onRemoveAttribute(doc, el, attr);\n\n          attr.ownerElement = null;\n        }\n      }\n    } else {\n      throw new DOMException(NOT_FOUND_ERR, new Error());\n    }\n  }\n\n  NamedNodeMap.prototype = {\n    length: 0,\n    item: NodeList.prototype.item,\n    getNamedItem: function (key) {\n      var i = this.length;\n\n      while (i--) {\n        var attr = this[i];\n\n        if (attr.nodeName == key) {\n          return attr;\n        }\n      }\n    },\n    setNamedItem: function (attr) {\n      var el = attr.ownerElement;\n\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n\n      var oldAttr = this.getNamedItem(attr.nodeName);\n\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n      return oldAttr;\n    },\n    setNamedItemNS: function (attr) {\n      // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n      var el = attr.ownerElement,\n          oldAttr;\n\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n\n      oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n      return oldAttr;\n    },\n    removeNamedItem: function (key) {\n      var attr = this.getNamedItem(key);\n\n      _removeNamedNode(this._ownerElement, this, attr);\n\n      return attr;\n    },\n    // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n    removeNamedItemNS: function (namespaceURI, localName) {\n      var attr = this.getNamedItemNS(namespaceURI, localName);\n\n      _removeNamedNode(this._ownerElement, this, attr);\n\n      return attr;\n    },\n    getNamedItemNS: function (namespaceURI, localName) {\n      var i = this.length;\n\n      while (i--) {\n        var node = this[i];\n\n        if (node.localName == localName && node.namespaceURI == namespaceURI) {\n          return node;\n        }\n      }\n\n      return null;\n    }\n  };\n\n  function DOMImplementation(\n  /* Object */\n  features) {\n    this._features = {};\n\n    if (features) {\n      for (var feature in features) {\n        this._features = features[feature];\n      }\n    }\n  }\n\n  ;\n  DOMImplementation.prototype = {\n    hasFeature: function (\n    /* string */\n    feature,\n    /* string */\n    version) {\n      var versions = this._features[feature.toLowerCase()];\n\n      if (versions && (!version || version in versions)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    createDocument: function (namespaceURI, qualifiedName, doctype) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n      var doc = new Document();\n      doc.implementation = this;\n      doc.childNodes = new NodeList();\n      doc.doctype = doctype;\n\n      if (doctype) {\n        doc.appendChild(doctype);\n      }\n\n      if (qualifiedName) {\n        var root = doc.createElementNS(namespaceURI, qualifiedName);\n        doc.appendChild(root);\n      }\n\n      return doc;\n    },\n    createDocumentType: function (qualifiedName, publicId, systemId) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n      var node = new DocumentType();\n      node.name = qualifiedName;\n      node.nodeName = qualifiedName;\n      node.publicId = publicId;\n      node.systemId = systemId;\n      return node;\n    }\n  };\n\n  function Node() {}\n\n  ;\n  Node.prototype = {\n    firstChild: null,\n    lastChild: null,\n    previousSibling: null,\n    nextSibling: null,\n    attributes: null,\n    parentNode: null,\n    childNodes: null,\n    ownerDocument: null,\n    nodeValue: null,\n    namespaceURI: null,\n    prefix: null,\n    localName: null,\n    insertBefore: function (newChild, refChild) {\n      //raises\n      return _insertBefore(this, newChild, refChild);\n    },\n    replaceChild: function (newChild, oldChild) {\n      //raises\n      this.insertBefore(newChild, oldChild);\n\n      if (oldChild) {\n        this.removeChild(oldChild);\n      }\n    },\n    removeChild: function (oldChild) {\n      return _removeChild(this, oldChild);\n    },\n    appendChild: function (newChild) {\n      return this.insertBefore(newChild, null);\n    },\n    hasChildNodes: function () {\n      return this.firstChild != null;\n    },\n    cloneNode: function (deep) {\n      return cloneNode(this.ownerDocument || this, this, deep);\n    },\n    normalize: function () {\n      var child = this.firstChild;\n\n      while (child) {\n        var next = child.nextSibling;\n\n        if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n          this.removeChild(next);\n          child.appendData(next.data);\n        } else {\n          child.normalize();\n          child = next;\n        }\n      }\n    },\n    isSupported: function (feature, version) {\n      return this.ownerDocument.implementation.hasFeature(feature, version);\n    },\n    hasAttributes: function () {\n      return this.attributes.length > 0;\n    },\n    lookupPrefix: function (namespaceURI) {\n      var el = this;\n\n      while (el) {\n        var map = el._nsMap;\n\n        if (map) {\n          for (var n in map) {\n            if (map[n] == namespaceURI) {\n              return n;\n            }\n          }\n        }\n\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n\n      return null;\n    },\n    lookupNamespaceURI: function (prefix) {\n      var el = this;\n\n      while (el) {\n        var map = el._nsMap;\n\n        if (map) {\n          if (prefix in map) {\n            return map[prefix];\n          }\n        }\n\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n\n      return null;\n    },\n    isDefaultNamespace: function (namespaceURI) {\n      var prefix = this.lookupPrefix(namespaceURI);\n      return prefix == null;\n    }\n  };\n\n  function _xmlEncoder(c) {\n    return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n  }\n\n  copy(NodeType, Node);\n  copy(NodeType, Node.prototype);\n\n  function _visitNode(node, callback) {\n    if (callback(node)) {\n      return true;\n    }\n\n    if (node = node.firstChild) {\n      do {\n        if (_visitNode(node, callback)) {\n          return true;\n        }\n      } while (node = node.nextSibling);\n    }\n  }\n\n  function Document() {}\n\n  function _onAddAttribute(doc, el, newAttr) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n    }\n  }\n\n  function _onRemoveAttribute(doc, el, newAttr, remove) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n    }\n  }\n\n  function _onUpdateChild(doc, el, newChild) {\n    if (doc && doc._inc) {\n      doc._inc++;\n      var cs = el.childNodes;\n\n      if (newChild) {\n        cs[cs.length++] = newChild;\n      } else {\n        var child = el.firstChild;\n        var i = 0;\n\n        while (child) {\n          cs[i++] = child;\n          child = child.nextSibling;\n        }\n\n        cs.length = i;\n      }\n    }\n  }\n\n  function _removeChild(parentNode, child) {\n    var previous = child.previousSibling;\n    var next = child.nextSibling;\n\n    if (previous) {\n      previous.nextSibling = next;\n    } else {\n      parentNode.firstChild = next;\n    }\n\n    if (next) {\n      next.previousSibling = previous;\n    } else {\n      parentNode.lastChild = previous;\n    }\n\n    _onUpdateChild(parentNode.ownerDocument, parentNode);\n\n    return child;\n  }\n\n  function _insertBefore(parentNode, newChild, nextChild) {\n    var cp = newChild.parentNode;\n\n    if (cp) {\n      cp.removeChild(newChild); //remove and update\n    }\n\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      var newFirst = newChild.firstChild;\n\n      if (newFirst == null) {\n        return newChild;\n      }\n\n      var newLast = newChild.lastChild;\n    } else {\n      newFirst = newLast = newChild;\n    }\n\n    var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n    newFirst.previousSibling = pre;\n    newLast.nextSibling = nextChild;\n\n    if (pre) {\n      pre.nextSibling = newFirst;\n    } else {\n      parentNode.firstChild = newFirst;\n    }\n\n    if (nextChild == null) {\n      parentNode.lastChild = newLast;\n    } else {\n      nextChild.previousSibling = newLast;\n    }\n\n    do {\n      newFirst.parentNode = parentNode;\n    } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n\n    _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode);\n\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      newChild.firstChild = newChild.lastChild = null;\n    }\n\n    return newChild;\n  }\n\n  function _appendSingleChild(parentNode, newChild) {\n    var cp = newChild.parentNode;\n\n    if (cp) {\n      var pre = parentNode.lastChild;\n      cp.removeChild(newChild); //remove and update\n\n      var pre = parentNode.lastChild;\n    }\n\n    var pre = parentNode.lastChild;\n    newChild.parentNode = parentNode;\n    newChild.previousSibling = pre;\n    newChild.nextSibling = null;\n\n    if (pre) {\n      pre.nextSibling = newChild;\n    } else {\n      parentNode.firstChild = newChild;\n    }\n\n    parentNode.lastChild = newChild;\n\n    _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\n    return newChild;\n  }\n\n  Document.prototype = {\n    nodeName: '#document',\n    nodeType: DOCUMENT_NODE,\n    doctype: null,\n    documentElement: null,\n    _inc: 1,\n    insertBefore: function (newChild, refChild) {\n      //raises\n      if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n        var child = newChild.firstChild;\n\n        while (child) {\n          var next = child.nextSibling;\n          this.insertBefore(child, refChild);\n          child = next;\n        }\n\n        return newChild;\n      }\n\n      if (this.documentElement == null && newChild.nodeType == 1) {\n        this.documentElement = newChild;\n      }\n\n      return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n    },\n    removeChild: function (oldChild) {\n      if (this.documentElement == oldChild) {\n        this.documentElement = null;\n      }\n\n      return _removeChild(this, oldChild);\n    },\n    importNode: function (importedNode, deep) {\n      return importNode(this, importedNode, deep);\n    },\n    getElementById: function (id) {\n      var rtv = null;\n\n      _visitNode(this.documentElement, function (node) {\n        if (node.nodeType == 1) {\n          if (node.getAttribute('id') == id) {\n            rtv = node;\n            return true;\n          }\n        }\n      });\n\n      return rtv;\n    },\n    createElement: function (tagName) {\n      var node = new Element();\n      node.ownerDocument = this;\n      node.nodeName = tagName;\n      node.tagName = tagName;\n      node.childNodes = new NodeList();\n      var attrs = node.attributes = new NamedNodeMap();\n      attrs._ownerElement = node;\n      return node;\n    },\n    createDocumentFragment: function () {\n      var node = new DocumentFragment();\n      node.ownerDocument = this;\n      node.childNodes = new NodeList();\n      return node;\n    },\n    createTextNode: function (data) {\n      var node = new Text();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createComment: function (data) {\n      var node = new Comment();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createCDATASection: function (data) {\n      var node = new CDATASection();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createProcessingInstruction: function (target, data) {\n      var node = new ProcessingInstruction();\n      node.ownerDocument = this;\n      node.tagName = node.target = target;\n      node.nodeValue = node.data = data;\n      return node;\n    },\n    createAttribute: function (name) {\n      var node = new Attr();\n      node.ownerDocument = this;\n      node.name = name;\n      node.nodeName = name;\n      node.localName = name;\n      node.specified = true;\n      return node;\n    },\n    createEntityReference: function (name) {\n      var node = new EntityReference();\n      node.ownerDocument = this;\n      node.nodeName = name;\n      return node;\n    },\n    createElementNS: function (namespaceURI, qualifiedName) {\n      var node = new Element();\n      var pl = qualifiedName.split(':');\n      var attrs = node.attributes = new NamedNodeMap();\n      node.childNodes = new NodeList();\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.tagName = qualifiedName;\n      node.namespaceURI = namespaceURI;\n\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n\n      attrs._ownerElement = node;\n      return node;\n    },\n    createAttributeNS: function (namespaceURI, qualifiedName) {\n      var node = new Attr();\n      var pl = qualifiedName.split(':');\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.name = qualifiedName;\n      node.namespaceURI = namespaceURI;\n      node.specified = true;\n\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n\n      return node;\n    }\n  };\n\n  _extends(Document, Node);\n\n  function Element() {\n    this._nsMap = {};\n  }\n\n  ;\n  Element.prototype = {\n    nodeType: ELEMENT_NODE,\n    hasAttribute: function (name) {\n      return this.getAttributeNode(name) != null;\n    },\n    getAttribute: function (name) {\n      var attr = this.getAttributeNode(name);\n      return attr && attr.value || '';\n    },\n    getAttributeNode: function (name) {\n      return this.attributes.getNamedItem(name);\n    },\n    setAttribute: function (name, value) {\n      var attr = this.ownerDocument.createAttribute(name);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    removeAttribute: function (name) {\n      var attr = this.getAttributeNode(name);\n      attr && this.removeAttributeNode(attr);\n    },\n    appendChild: function (newChild) {\n      if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n        return this.insertBefore(newChild, null);\n      } else {\n        return _appendSingleChild(this, newChild);\n      }\n    },\n    setAttributeNode: function (newAttr) {\n      return this.attributes.setNamedItem(newAttr);\n    },\n    setAttributeNodeNS: function (newAttr) {\n      return this.attributes.setNamedItemNS(newAttr);\n    },\n    removeAttributeNode: function (oldAttr) {\n      return this.attributes.removeNamedItem(oldAttr.nodeName);\n    },\n    removeAttributeNS: function (namespaceURI, localName) {\n      var old = this.getAttributeNodeNS(namespaceURI, localName);\n      old && this.removeAttributeNode(old);\n    },\n    hasAttributeNS: function (namespaceURI, localName) {\n      return this.getAttributeNodeNS(namespaceURI, localName) != null;\n    },\n    getAttributeNS: function (namespaceURI, localName) {\n      var attr = this.getAttributeNodeNS(namespaceURI, localName);\n      return attr && attr.value || '';\n    },\n    setAttributeNS: function (namespaceURI, qualifiedName, value) {\n      var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    getAttributeNodeNS: function (namespaceURI, localName) {\n      return this.attributes.getNamedItemNS(namespaceURI, localName);\n    },\n    getElementsByTagName: function (tagName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n            ls.push(node);\n          }\n        });\n\n        return ls;\n      });\n    },\n    getElementsByTagNameNS: function (namespaceURI, localName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n            ls.push(node);\n          }\n        });\n\n        return ls;\n      });\n    }\n  };\n  Document.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\n  Document.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n  _extends(Element, Node);\n\n  function Attr() {}\n\n  ;\n  Attr.prototype.nodeType = ATTRIBUTE_NODE;\n\n  _extends(Attr, Node);\n\n  function CharacterData() {}\n\n  ;\n  CharacterData.prototype = {\n    data: '',\n    substringData: function (offset, count) {\n      return this.data.substring(offset, offset + count);\n    },\n    appendData: function (text) {\n      text = this.data + text;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    },\n    insertData: function (offset, text) {\n      this.replaceData(offset, 0, text);\n    },\n    appendChild: function (newChild) {\n      throw new Error(ExceptionMessage[3]);\n      return Node.prototype.appendChild.apply(this, arguments);\n    },\n    deleteData: function (offset, count) {\n      this.replaceData(offset, count, \"\");\n    },\n    replaceData: function (offset, count, text) {\n      var start = this.data.substring(0, offset);\n      var end = this.data.substring(offset + count);\n      text = start + text + end;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    }\n  };\n\n  _extends(CharacterData, Node);\n\n  function Text() {}\n\n  ;\n  Text.prototype = {\n    nodeName: \"#text\",\n    nodeType: TEXT_NODE,\n    splitText: function (offset) {\n      var text = this.data;\n      var newText = text.substring(offset);\n      text = text.substring(0, offset);\n      this.data = this.nodeValue = text;\n      this.length = text.length;\n      var newNode = this.ownerDocument.createTextNode(newText);\n\n      if (this.parentNode) {\n        this.parentNode.insertBefore(newNode, this.nextSibling);\n      }\n\n      return newNode;\n    }\n  };\n\n  _extends(Text, CharacterData);\n\n  function Comment() {}\n\n  ;\n  Comment.prototype = {\n    nodeName: \"#comment\",\n    nodeType: COMMENT_NODE\n  };\n\n  _extends(Comment, CharacterData);\n\n  function CDATASection() {}\n\n  ;\n  CDATASection.prototype = {\n    nodeName: \"#cdata-section\",\n    nodeType: CDATA_SECTION_NODE\n  };\n\n  _extends(CDATASection, CharacterData);\n\n  function DocumentType() {}\n\n  DocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n\n  _extends(DocumentType, Node);\n\n  function Notation() {}\n\n  Notation.prototype.nodeType = NOTATION_NODE;\n\n  _extends(Notation, Node);\n\n  function Entity() {}\n\n  Entity.prototype.nodeType = ENTITY_NODE;\n\n  _extends(Entity, Node);\n\n  function EntityReference() {}\n\n  EntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n\n  _extends(EntityReference, Node);\n\n  function DocumentFragment() {}\n\n  DocumentFragment.prototype.nodeName = \"#document-fragment\";\n  DocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n\n  _extends(DocumentFragment, Node);\n\n  function ProcessingInstruction() {}\n\n  ProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n\n  _extends(ProcessingInstruction, Node);\n\n  function XMLSerializer() {}\n\n  XMLSerializer.prototype.serializeToString = function (node) {\n    var buf = [];\n    serializeToString(node, buf);\n    return buf.join('');\n  };\n\n  Node.prototype.toString = function () {\n    return XMLSerializer.prototype.serializeToString(this);\n  };\n\n  function serializeToString(node, buf) {\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var len = attrs.length;\n        var child = node.firstChild;\n        var nodeName = node.tagName;\n        var isHTML = htmlns === node.namespaceURI;\n        buf.push('<', nodeName);\n\n        for (var i = 0; i < len; i++) {\n          serializeToString(attrs.item(i), buf);\n        }\n\n        if (child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)) {\n          buf.push('>');\n\n          if (isHTML && /^script$/i.test(nodeName)) {\n            if (child) {\n              buf.push(child.data);\n            }\n          } else {\n            while (child) {\n              serializeToString(child, buf);\n              child = child.nextSibling;\n            }\n          }\n\n          buf.push('</', nodeName, '>');\n        } else {\n          buf.push('/>');\n        }\n\n        return;\n\n      case DOCUMENT_NODE:\n      case DOCUMENT_FRAGMENT_NODE:\n        var child = node.firstChild;\n\n        while (child) {\n          serializeToString(child, buf);\n          child = child.nextSibling;\n        }\n\n        return;\n\n      case ATTRIBUTE_NODE:\n        return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"');\n\n      case TEXT_NODE:\n        return buf.push(node.data.replace(/[<&]/g, _xmlEncoder));\n\n      case CDATA_SECTION_NODE:\n        return buf.push('<![CDATA[', node.data, ']]>');\n\n      case COMMENT_NODE:\n        return buf.push(\"<!--\", node.data, \"-->\");\n\n      case DOCUMENT_TYPE_NODE:\n        var pubid = node.publicId;\n        var sysid = node.systemId;\n        buf.push('<!DOCTYPE ', node.name);\n\n        if (pubid) {\n          buf.push(' PUBLIC \"', pubid);\n\n          if (sysid && sysid != '.') {\n            buf.push('\" \"', sysid);\n          }\n\n          buf.push('\">');\n        } else if (sysid && sysid != '.') {\n          buf.push(' SYSTEM \"', sysid, '\">');\n        } else {\n          var sub = node.internalSubset;\n\n          if (sub) {\n            buf.push(\" [\", sub, \"]\");\n          }\n\n          buf.push(\">\");\n        }\n\n        return;\n\n      case PROCESSING_INSTRUCTION_NODE:\n        return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n\n      case ENTITY_REFERENCE_NODE:\n        return buf.push('&', node.nodeName, ';');\n\n      default:\n        buf.push('??', node.nodeName);\n    }\n  }\n\n  function importNode(doc, node, deep) {\n    var node2;\n\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        node2 = node.cloneNode(false);\n        node2.ownerDocument = doc;\n\n      case DOCUMENT_FRAGMENT_NODE:\n        break;\n\n      case ATTRIBUTE_NODE:\n        deep = true;\n        break;\n    }\n\n    if (!node2) {\n      node2 = node.cloneNode(false); //false\n    }\n\n    node2.ownerDocument = doc;\n    node2.parentNode = null;\n\n    if (deep) {\n      var child = node.firstChild;\n\n      while (child) {\n        node2.appendChild(importNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n\n    return node2;\n  }\n\n  function cloneNode(doc, node, deep) {\n    var node2 = new node.constructor();\n\n    for (var n in node) {\n      var v = node[n];\n\n      if (typeof v != 'object') {\n        if (v != node2[n]) {\n          node2[n] = v;\n        }\n      }\n    }\n\n    if (node.childNodes) {\n      node2.childNodes = new NodeList();\n    }\n\n    node2.ownerDocument = doc;\n\n    switch (node2.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var attrs2 = node2.attributes = new NamedNodeMap();\n        var len = attrs.length;\n        attrs2._ownerElement = node2;\n\n        for (var i = 0; i < len; i++) {\n          node2.setAttributeNode(cloneNode(doc, attrs.item(i), true));\n        }\n\n        break;\n\n      case ATTRIBUTE_NODE:\n        deep = true;\n    }\n\n    if (deep) {\n      var child = node.firstChild;\n\n      while (child) {\n        node2.appendChild(cloneNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n\n    return node2;\n  }\n\n  function __set__(object, key, value) {\n    object[key] = value;\n  }\n\n  function getTextContent(node) {\n    switch (node.nodeType) {\n      case 1:\n      case 11:\n        var buf = [];\n        node = node.firstChild;\n\n        while (node) {\n          if (node.nodeType !== 7 && node.nodeType !== 8) {\n            buf.push(getTextContent(node));\n          }\n\n          node = node.nextSibling;\n        }\n\n        return buf.join('');\n\n      default:\n        return node.nodeValue;\n    }\n  }\n\n  try {\n    if (Object.defineProperty) {\n      Object.defineProperty(LiveNodeList.prototype, 'length', {\n        get: function () {\n          _updateLiveList(this);\n\n          return this.$$length;\n        }\n      });\n      Object.defineProperty(Node.prototype, 'textContent', {\n        get: function () {\n          return getTextContent(this);\n        },\n        set: function (data) {\n          switch (this.nodeType) {\n            case 1:\n            case 11:\n              while (this.firstChild) {\n                this.removeChild(this.firstChild);\n              }\n\n              if (data || String(data)) {\n                this.appendChild(this.ownerDocument.createTextNode(data));\n              }\n\n              break;\n\n            default:\n              this.data = data;\n              this.value = value;\n              this.nodeValue = data;\n          }\n        }\n      });\n\n      __set__ = function (object, key, value) {\n        object['$$' + key] = value;\n      };\n    }\n  } catch (e) {//ie8\n  }\n\n  return DOMImplementation;\n});\nace.define(\"ace/mode/xml/dom-parser\", [], function (require, exports, module) {\n  'use strict';\n\n  var XMLReader = require('./sax'),\n      DOMImplementation = require('./dom');\n\n  function DOMParser(options) {\n    this.options = options || {\n      locator: {}\n    };\n  }\n\n  DOMParser.prototype.parseFromString = function (source, mimeType) {\n    var options = this.options;\n    var sax = new XMLReader();\n    var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n\n    var errorHandler = options.errorHandler;\n    var locator = options.locator;\n    var defaultNSMap = options.xmlns || {};\n    var entityMap = {\n      'lt': '<',\n      'gt': '>',\n      'amp': '&',\n      'quot': '\"',\n      'apos': \"'\"\n    };\n\n    if (locator) {\n      domBuilder.setDocumentLocator(locator);\n    }\n\n    sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n    sax.domBuilder = options.domBuilder || domBuilder;\n\n    if (/\\/x?html?$/.test(mimeType)) {\n      entityMap.nbsp = '\\xa0';\n      entityMap.copy = '\\xa9';\n      defaultNSMap[''] = 'http://www.w3.org/1999/xhtml';\n    }\n\n    if (source) {\n      sax.parse(source, defaultNSMap, entityMap);\n    } else {\n      sax.errorHandler.error(\"invalid document source\");\n    }\n\n    return domBuilder.document;\n  };\n\n  function buildErrorHandler(errorImpl, domBuilder, locator) {\n    if (!errorImpl) {\n      if (domBuilder instanceof DOMHandler) {\n        return domBuilder;\n      }\n\n      errorImpl = domBuilder;\n    }\n\n    var errorHandler = {};\n    var isCallback = errorImpl instanceof Function;\n    locator = locator || {};\n\n    function build(key) {\n      var fn = errorImpl[key];\n\n      if (!fn) {\n        if (isCallback) {\n          fn = errorImpl.length == 2 ? function (msg) {\n            errorImpl(key, msg);\n          } : errorImpl;\n        } else {\n          var i = arguments.length;\n\n          while (--i) {\n            if (fn = errorImpl[arguments[i]]) {\n              break;\n            }\n          }\n        }\n      }\n\n      errorHandler[key] = fn && function (msg) {\n        fn(msg + _locator(locator), msg, locator);\n      } || function () {};\n    }\n\n    build('warning', 'warn');\n    build('error', 'warn', 'warning');\n    build('fatalError', 'warn', 'warning', 'error');\n    return errorHandler;\n  }\n\n  function DOMHandler() {\n    this.cdata = false;\n  }\n\n  function position(locator, node) {\n    node.lineNumber = locator.lineNumber;\n    node.columnNumber = locator.columnNumber;\n  }\n\n  DOMHandler.prototype = {\n    startDocument: function () {\n      this.document = new DOMImplementation().createDocument(null, null, null);\n\n      if (this.locator) {\n        this.document.documentURI = this.locator.systemId;\n      }\n    },\n    startElement: function (namespaceURI, localName, qName, attrs) {\n      var doc = this.document;\n      var el = doc.createElementNS(namespaceURI, qName || localName);\n      var len = attrs.length;\n      appendElement(this, el);\n      this.currentElement = el;\n      this.locator && position(this.locator, el);\n\n      for (var i = 0; i < len; i++) {\n        var namespaceURI = attrs.getURI(i);\n        var value = attrs.getValue(i);\n        var qName = attrs.getQName(i);\n        var attr = doc.createAttributeNS(namespaceURI, qName);\n\n        if (attr.getOffset) {\n          position(attr.getOffset(1), attr);\n        }\n\n        attr.value = attr.nodeValue = value;\n        el.setAttributeNode(attr);\n      }\n    },\n    endElement: function (namespaceURI, localName, qName) {\n      var current = this.currentElement;\n      var tagName = current.tagName;\n      this.currentElement = current.parentNode;\n    },\n    startPrefixMapping: function (prefix, uri) {},\n    endPrefixMapping: function (prefix) {},\n    processingInstruction: function (target, data) {\n      var ins = this.document.createProcessingInstruction(target, data);\n      this.locator && position(this.locator, ins);\n      appendElement(this, ins);\n    },\n    ignorableWhitespace: function (ch, start, length) {},\n    characters: function (chars, start, length) {\n      chars = _toString.apply(this, arguments);\n\n      if (this.currentElement && chars) {\n        if (this.cdata) {\n          var charNode = this.document.createCDATASection(chars);\n          this.currentElement.appendChild(charNode);\n        } else {\n          var charNode = this.document.createTextNode(chars);\n          this.currentElement.appendChild(charNode);\n        }\n\n        this.locator && position(this.locator, charNode);\n      }\n    },\n    skippedEntity: function (name) {},\n    endDocument: function () {\n      this.document.normalize();\n    },\n    setDocumentLocator: function (locator) {\n      if (this.locator = locator) {\n        // && !('lineNumber' in locator)){\n        locator.lineNumber = 0;\n      }\n    },\n    comment: function (chars, start, length) {\n      chars = _toString.apply(this, arguments);\n      var comm = this.document.createComment(chars);\n      this.locator && position(this.locator, comm);\n      appendElement(this, comm);\n    },\n    startCDATA: function () {\n      this.cdata = true;\n    },\n    endCDATA: function () {\n      this.cdata = false;\n    },\n    startDTD: function (name, publicId, systemId) {\n      var impl = this.document.implementation;\n\n      if (impl && impl.createDocumentType) {\n        var dt = impl.createDocumentType(name, publicId, systemId);\n        this.locator && position(this.locator, dt);\n        appendElement(this, dt);\n      }\n    },\n    warning: function (error) {\n      console.warn(error, _locator(this.locator));\n    },\n    error: function (error) {\n      console.error(error, _locator(this.locator));\n    },\n    fatalError: function (error) {\n      console.error(error, _locator(this.locator));\n      throw error;\n    }\n  };\n\n  function _locator(l) {\n    if (l) {\n      return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n    }\n  }\n\n  function _toString(chars, start, length) {\n    if (typeof chars == 'string') {\n      return chars.substr(start, length);\n    } else {\n      //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n      if (chars.length >= start + length || start) {\n        return new java.lang.String(chars, start, length) + '';\n      }\n\n      return chars;\n    }\n  }\n\n  \"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n    DOMHandler.prototype[key] = function () {\n      return null;\n    };\n  });\n\n  function appendElement(hander, node) {\n    if (!hander.currentElement) {\n      hander.document.appendChild(node);\n    } else {\n      hander.currentElement.appendChild(node);\n    }\n  } //appendChild and setAttributeNS are preformance key\n\n\n  return {\n    DOMParser: DOMParser\n  };\n});\nace.define(\"ace/mode/xml_worker\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var lang = require(\"../lib/lang\");\n\n  var Mirror = require(\"../worker/mirror\").Mirror;\n\n  var DOMParser = require(\"./xml/dom-parser\").DOMParser;\n\n  var Worker = exports.Worker = function (sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n  };\n\n  oop.inherits(Worker, Mirror);\n  (function () {\n    this.setOptions = function (options) {\n      this.context = options.context;\n    };\n\n    this.onUpdate = function () {\n      var value = this.doc.getValue();\n      if (!value) return;\n      var parser = new DOMParser();\n      var errors = [];\n      parser.options.errorHandler = {\n        fatalError: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        error: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        warning: function (fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"warning\"\n          });\n        }\n      };\n      parser.parseFromString(value);\n      this.sender.emit(\"error\", errors);\n    };\n  }).call(Worker.prototype);\n});\nace.define(\"ace/lib/es5-shim\", [], function (require, exports, module) {\n  function Empty() {}\n\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) {\n      // .length is 1\n      var target = this;\n\n      if (typeof target != \"function\") {\n        throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n      }\n\n      var args = slice.call(arguments, 1); // for normal call\n\n      var bound = function () {\n        if (this instanceof bound) {\n          var result = target.apply(this, args.concat(slice.call(arguments)));\n\n          if (Object(result) === result) {\n            return result;\n          }\n\n          return this;\n        } else {\n          return target.apply(that, args.concat(slice.call(arguments)));\n        }\n      };\n\n      if (target.prototype) {\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n      }\n\n      return bound;\n    };\n  }\n\n  var call = Function.prototype.call;\n  var prototypeOfArray = Array.prototype;\n  var prototypeOfObject = Object.prototype;\n  var slice = prototypeOfArray.slice;\n\n  var _toString = call.bind(prototypeOfObject.toString);\n\n  var owns = call.bind(prototypeOfObject.hasOwnProperty);\n  var defineGetter;\n  var defineSetter;\n  var lookupGetter;\n  var lookupSetter;\n  var supportsAccessors;\n\n  if (supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\")) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n  }\n\n  if ([1, 2].splice(0).length != 2) {\n    if (function () {\n      // test IE < 9 to splice bug - see issue #138\n      function makeArray(l) {\n        var a = new Array(l + 2);\n        a[0] = a[1] = 0;\n        return a;\n      }\n\n      var array = [],\n          lengthBefore;\n      array.splice.apply(array, makeArray(20));\n      array.splice.apply(array, makeArray(26));\n      lengthBefore = array.length; //46\n\n      array.splice(5, 0, \"XXX\"); // add one element\n\n      lengthBefore + 1 == array.length;\n\n      if (lengthBefore + 1 == array.length) {\n        return true; // has right splice implementation without bugs\n      }\n    }()) {\n      //IE 6/7\n      var array_splice = Array.prototype.splice;\n\n      Array.prototype.splice = function (start, deleteCount) {\n        if (!arguments.length) {\n          return [];\n        } else {\n          return array_splice.apply(this, [start === void 0 ? 0 : start, deleteCount === void 0 ? this.length - start : deleteCount].concat(slice.call(arguments, 2)));\n        }\n      };\n    } else {\n      //IE8\n      Array.prototype.splice = function (pos, removeCount) {\n        var length = this.length;\n\n        if (pos > 0) {\n          if (pos > length) pos = length;\n        } else if (pos == void 0) {\n          pos = 0;\n        } else if (pos < 0) {\n          pos = Math.max(length + pos, 0);\n        }\n\n        if (!(pos + removeCount < length)) removeCount = length - pos;\n        var removed = this.slice(pos, pos + removeCount);\n        var insert = slice.call(arguments, 2);\n        var add = insert.length;\n\n        if (pos === length) {\n          if (add) {\n            this.push.apply(this, insert);\n          }\n        } else {\n          var remove = Math.min(removeCount, length - pos);\n          var tailOldPos = pos + remove;\n          var tailNewPos = tailOldPos + add - remove;\n          var tailCount = length - tailOldPos;\n          var lengthAfterRemove = length - remove;\n\n          if (tailNewPos < tailOldPos) {\n            // case A\n            for (var i = 0; i < tailCount; ++i) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } else if (tailNewPos > tailOldPos) {\n            // case B\n            for (i = tailCount; i--;) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } // else, add == remove (nothing to do)\n\n\n          if (add && pos === lengthAfterRemove) {\n            this.length = lengthAfterRemove; // truncate array\n\n            this.push.apply(this, insert);\n          } else {\n            this.length = lengthAfterRemove + add; // reserves space\n\n            for (i = 0; i < add; ++i) {\n              this[pos + i] = insert[i];\n            }\n          }\n        }\n\n        return removed;\n      };\n    }\n  }\n\n  if (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n      return _toString(obj) == \"[object Array]\";\n    };\n  }\n\n  var boxedString = Object(\"a\"),\n      splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun\n    /*, thisp*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          thisp = arguments[1],\n          i = -1,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(); // TODO message\n      }\n\n      while (++i < length) {\n        if (i in self) {\n          fun.call(thisp, self[i], i, object);\n        }\n      }\n    };\n  }\n\n  if (!Array.prototype.map) {\n    Array.prototype.map = function map(fun\n    /*, thisp*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          result = Array(length),\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) result[i] = fun.call(thisp, self[i], i, object);\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          result = [],\n          value,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) {\n          value = self[i];\n\n          if (fun.call(thisp, value, i, object)) {\n            result.push(value);\n          }\n        }\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.every) {\n    Array.prototype.every = function every(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && !fun.call(thisp, self[i], i, object)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n  }\n\n  if (!Array.prototype.some) {\n    Array.prototype.some = function some(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && fun.call(thisp, self[i], i, object)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n\n  if (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun\n    /*, initial*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduce of empty array with no initial value\");\n      }\n\n      var i = 0;\n      var result;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i++];\n            break;\n          }\n\n          if (++i >= length) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n          }\n        } while (true);\n      }\n\n      for (; i < length; i++) {\n        if (i in self) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun\n    /*, initial*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduceRight of empty array with no initial value\");\n      }\n\n      var result,\n          i = length - 1;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i--];\n            break;\n          }\n\n          if (--i < 0) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n          }\n        } while (true);\n      }\n\n      do {\n        if (i in this) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      } while (i--);\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.indexOf || [0, 1].indexOf(1, 2) != -1) {\n    Array.prototype.indexOf = function indexOf(sought\n    /*, fromIndex */\n    ) {\n      var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n          length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n\n      var i = 0;\n\n      if (arguments.length > 1) {\n        i = toInteger(arguments[1]);\n      }\n\n      i = i >= 0 ? i : Math.max(0, length + i);\n\n      for (; i < length; i++) {\n        if (i in self && self[i] === sought) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n  }\n\n  if (!Array.prototype.lastIndexOf || [0, 1].lastIndexOf(0, -3) != -1) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought\n    /*, fromIndex */\n    ) {\n      var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n          length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n\n      var i = length - 1;\n\n      if (arguments.length > 1) {\n        i = Math.min(i, toInteger(arguments[1]));\n      }\n\n      i = i >= 0 ? i : length - Math.abs(i);\n\n      for (; i >= 0; i--) {\n        if (i in self && sought === self[i]) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n  }\n\n  if (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n      return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject);\n    };\n  }\n\n  if (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" + \"non-object: \";\n\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT + object);\n      if (!owns(object, property)) return;\n      var descriptor, getter, setter;\n      descriptor = {\n        enumerable: true,\n        configurable: true\n      };\n\n      if (supportsAccessors) {\n        var prototype = object.__proto__;\n        object.__proto__ = prototypeOfObject;\n        var getter = lookupGetter(object, property);\n        var setter = lookupSetter(object, property);\n        object.__proto__ = prototype;\n\n        if (getter || setter) {\n          if (getter) descriptor.get = getter;\n          if (setter) descriptor.set = setter;\n          return descriptor;\n        }\n      }\n\n      descriptor.value = object[property];\n      return descriptor;\n    };\n  }\n\n  if (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n      return Object.keys(object);\n    };\n  }\n\n  if (!Object.create) {\n    var createEmpty;\n\n    if (Object.prototype.__proto__ === null) {\n      createEmpty = function () {\n        return {\n          \"__proto__\": null\n        };\n      };\n    } else {\n      createEmpty = function () {\n        var empty = {};\n\n        for (var i in empty) empty[i] = null;\n\n        empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null;\n        return empty;\n      };\n    }\n\n    Object.create = function create(prototype, properties) {\n      var object;\n\n      if (prototype === null) {\n        object = createEmpty();\n      } else {\n        if (typeof prototype != \"object\") throw new TypeError(\"typeof prototype[\" + typeof prototype + \"] != 'object'\");\n\n        var Type = function () {};\n\n        Type.prototype = prototype;\n        object = new Type();\n        object.__proto__ = prototype;\n      }\n\n      if (properties !== void 0) Object.defineProperties(object, properties);\n      return object;\n    };\n  }\n\n  function doesDefinePropertyWork(object) {\n    try {\n      Object.defineProperty(object, \"sentinel\", {});\n      return \"sentinel\" in object;\n    } catch (exception) {}\n  }\n\n  if (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" || doesDefinePropertyWork(document.createElement(\"div\"));\n\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n      var definePropertyFallback = Object.defineProperty;\n    }\n  }\n\n  if (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \";\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" + \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n      if (typeof descriptor != \"object\" && typeof descriptor != \"function\" || descriptor === null) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n\n      if (definePropertyFallback) {\n        try {\n          return definePropertyFallback.call(Object, object, property, descriptor);\n        } catch (exception) {}\n      }\n\n      if (owns(descriptor, \"value\")) {\n        if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          delete object[property];\n          object[property] = descriptor.value;\n          object.__proto__ = prototype;\n        } else {\n          object[property] = descriptor.value;\n        }\n      } else {\n        if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n        if (owns(descriptor, \"get\")) defineGetter(object, property, descriptor.get);\n        if (owns(descriptor, \"set\")) defineSetter(object, property, descriptor.set);\n      }\n\n      return object;\n    };\n  }\n\n  if (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n      for (var property in properties) {\n        if (owns(properties, property)) Object.defineProperty(object, property, properties[property]);\n      }\n\n      return object;\n    };\n  }\n\n  if (!Object.seal) {\n    Object.seal = function seal(object) {\n      return object;\n    };\n  }\n\n  if (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n      return object;\n    };\n  }\n\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = function freeze(freezeObject) {\n      return function freeze(object) {\n        if (typeof object == \"function\") {\n          return object;\n        } else {\n          return freezeObject(object);\n        }\n      };\n    }(Object.freeze);\n  }\n\n  if (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n      return object;\n    };\n  }\n\n  if (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n      return false;\n    };\n  }\n\n  if (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n      return false;\n    };\n  }\n\n  if (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n      if (Object(object) === object) {\n        throw new TypeError(); // TODO message\n      }\n\n      var name = '';\n\n      while (owns(object, name)) {\n        name += '?';\n      }\n\n      object[name] = true;\n      var returnValue = owns(object, name);\n      delete object[name];\n      return returnValue;\n    };\n  }\n\n  if (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\"toString\", \"toLocaleString\", \"valueOf\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"constructor\"],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\n      \"toString\": null\n    }) {\n      hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) {\n        throw new TypeError(\"Object.keys called on a non-object\");\n      }\n\n      var keys = [];\n\n      for (var name in object) {\n        if (owns(object, name)) {\n          keys.push(name);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n          var dontEnum = dontEnums[i];\n\n          if (owns(object, dontEnum)) {\n            keys.push(dontEnum);\n          }\n        }\n      }\n\n      return keys;\n    };\n  }\n\n  if (!Date.now) {\n    Date.now = function now() {\n      return new Date().getTime();\n    };\n  }\n\n  var ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\" + \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" + \"\\u2029\\uFEFF\";\n\n  if (!String.prototype.trim) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n\n    String.prototype.trim = function trim() {\n      return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n  }\n\n  function toInteger(n) {\n    n = +n;\n\n    if (n !== n) {\n      // isNaN\n      n = 0;\n    } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n      n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n\n    return n;\n  }\n\n  function isPrimitive(input) {\n    var type = typeof input;\n    return input === null || type === \"undefined\" || type === \"boolean\" || type === \"number\" || type === \"string\";\n  }\n\n  function toPrimitive(input) {\n    var val, valueOf, toString;\n\n    if (isPrimitive(input)) {\n      return input;\n    }\n\n    valueOf = input.valueOf;\n\n    if (typeof valueOf === \"function\") {\n      val = valueOf.call(input);\n\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n\n    toString = input.toString;\n\n    if (typeof toString === \"function\") {\n      val = toString.call(input);\n\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n\n    throw new TypeError();\n  }\n\n  var toObject = function (o) {\n    if (o == null) {\n      // this matches both null and undefined\n      throw new TypeError(\"can't convert \" + o + \" to object\");\n    }\n\n    return Object(o);\n  };\n});","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/ace-builds/src-noconflict/worker-xml.js"],"names":["window","document","require","define","console","msgs","Array","prototype","slice","call","arguments","postMessage","type","data","error","warn","log","trace","ace","onerror","message","file","line","col","err","stack","normalizeModule","parentId","moduleName","indexOf","chunks","split","charAt","base","join","previous","replace","id","Error","module","modules","initialized","exports","factory","tlns","path","resolveModuleId","importScripts","paths","testPath","tail","alias","location","main","name","i","lastIndexOf","substr","deps","length","req","childId","returnExports","apply","map","dep","amd","initBaseUrls","topLevelNamespaces","initSender","EventEmitter","oop","Sender","implement","callback","callbackId","emit","sender","onmessage","e","msg","event","_signal","command","args","init","clazz","classname","inherits","ctor","superCtor","super_","Object","create","constructor","value","enumerable","writable","configurable","mixin","obj","key","proto","last","a","stringReverse","string","reverse","stringRepeat","count","result","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","l","deepCopy","isArray","toString","arrayToMap","arr","createMap","props","arrayRemove","splice","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","push","offset","deferredCall","fcn","timer","deferred","timeout","cancel","setTimeout","schedule","clearTimeout","isPending","delayedCall","defaultTimeout","_self","delay","comparePoints","p1","p2","row","column","Range","startRow","startColumn","endRow","endColumn","start","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","Math","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","throwDeltaError","delta","errorText","positionInDocument","docLines","position","validateDelta","action","lines","numRangeRows","numRangeLastLineChars","applyDelta","doNotValidate","substring","concat","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","on","newCallback","off","Promise","resolve","setDefaultHandler","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","addEventListener","capturing","removeListener","removeEventListener","index","removeAllListeners","undefined","Anchor","doc","$onChange","onChange","bind","attach","setPosition","getPosition","$clipPositionToDocument","getDocument","$insertRight","point","$getTransformedPoint","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","noClip","pos","detach","getLength","getLine","min","Document","textOrLines","$lines","insertMergedLines","insert","setValue","text","len","remove","getValue","getAllLines","getNewLineCharacter","createAnchor","$split","$detectNewLine","match","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getTextRange","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","insertInLine","clippedPos","clonePos","$clipPosition","removeInLine","deleteFirstNewLine","deleteLastNewLine","startCol","endCol","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","lang","Mirror","deferredUpdate","onUpdate","d","$timeout","nameStartChar","nameChar","RegExp","source","tagNamePattern","S_TAG","S_ATTR","S_ATTR_S","S_EQ","S_V","S_E","S_S","S_C","XMLReader","parse","defaultNSMap","entityMap","domBuilder","startDocument","_copy","errorHandler","endDocument","defaultNSMapCopy","fixedFromCharCode","code","surrogate1","surrogate2","String","fromCharCode","entityReplacer","k","parseInt","appendText","xt","locator","characters","m","endPos","linePattern","exec","startPos","lineNumber","columnNumber","parseStack","currentNSMap","closeMap","createTextNode","appendChild","currentElement","tagName","config","fatalError","localNSMap","endElement","uri","localName","prefix","endPrefixMapping","parseInstruction","parseDCC","el","ElementAttributes","parseElementStartPart","backup","copyLocator","closed","fixSelfClosed","nbsp","warning","appendElement","parseHtmlSpecialContent","f","t","attrName","s","c","add","setTagName","qName","nsp","nsPrefix","startPrefixMapping","ns","startElement","elStartEnd","test","elEndStart","target","n","next","comment","startCDATA","endCDATA","matchs","pubid","sysid","lastMatch","startDTD","endDTD","processingInstruction","getLocalName","getOffset","getQName","getURI","_set_proto_","thiz","parent","__proto__","buf","reg","lastIndex","src","dest","_extends","Class","Super","pt","ppt","htmlns","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","item","LiveNodeList","node","refresh","_node","_refresh","_updateLiveList","list","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","attr","getNamedItem","nodeName","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","namespaceURI","removeNamedItem","removeNamedItemNS","DOMImplementation","features","_features","feature","hasFeature","version","versions","toLowerCase","createDocument","qualifiedName","doctype","implementation","childNodes","root","createElementNS","createDocumentType","publicId","systemId","DocumentType","Node","firstChild","lastChild","previousSibling","nextSibling","attributes","parentNode","nodeValue","insertBefore","newChild","refChild","_insertBefore","replaceChild","oldChild","removeChild","_removeChild","hasChildNodes","cloneNode","deep","normalize","child","nodeType","appendData","isSupported","hasAttributes","lookupPrefix","_nsMap","lookupNamespaceURI","isDefaultNamespace","_xmlEncoder","charCodeAt","_visitNode","_onUpdateChild","cs","nextChild","cp","newFirst","newLast","pre","_appendSingleChild","documentElement","importNode","importedNode","getElementById","rtv","getAttribute","createElement","Element","attrs","createDocumentFragment","DocumentFragment","Text","createComment","Comment","createCDATASection","CDATASection","createProcessingInstruction","ProcessingInstruction","createAttribute","Attr","specified","createEntityReference","EntityReference","pl","createAttributeNS","hasAttribute","getAttributeNode","setAttribute","setAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","CharacterData","substringData","insertData","replaceData","deleteData","splitText","newText","newNode","Notation","Entity","XMLSerializer","serializeToString","isHTML","sub","internalSubset","node2","v","attrs2","object","getTextContent","defineProperty","get","$$length","set","DOMParser","options","parseFromString","mimeType","sax","DOMHandler","xmlns","setDocumentLocator","buildErrorHandler","errorImpl","isCallback","Function","build","fn","_locator","cdata","documentURI","current","ins","ignorableWhitespace","ch","chars","_toString","charNode","skippedEntity","comm","impl","dt","java","hander","Worker","context","setOptions","parser","errors","fullMsg","errorMsg","Empty","that","TypeError","bound","prototypeOfArray","prototypeOfObject","owns","hasOwnProperty","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","makeArray","lengthBefore","array_splice","deleteCount","removeCount","removed","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","boxedString","splitString","forEach","fun","toObject","self","thisp","filter","every","some","reduce","reduceRight","sought","toInteger","abs","getPrototypeOf","getOwnPropertyDescriptor","ERR_NON_OBJECT","property","descriptor","getter","setter","getOwnPropertyNames","keys","createEmpty","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","doesDefinePropertyWork","exception","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freeze","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","ii","dontEnum","Date","now","getTime","ws","trim","floor","isPrimitive","input","toPrimitive","val","o"],"mappings":"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","sourcesContent":["\"no use strict\";\n!(function(window) {\nif (typeof window.window != \"undefined\" && window.document)\n    return;\nif (window.require && window.define)\n    return;\n\nif (!window.console) {\n    window.console = function() {\n        var msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({type: \"log\", data: msgs});\n    };\n    window.console.error =\n    window.console.warn = \n    window.console.log =\n    window.console.trace = window.console;\n}\nwindow.window = window;\nwindow.ace = window;\n\nwindow.onerror = function(message, file, line, col, err) {\n    postMessage({type: \"error\", data: {\n        message: message,\n        data: err.data,\n        file: file,\n        line: line, \n        col: col,\n        stack: err.stack\n    }});\n};\n\nwindow.normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = (base ? base + \"/\" : \"\") + moduleName;\n        \n        while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    \n    return moduleName;\n};\n\nwindow.require = function require(parentId, id) {\n    if (!id) {\n        id = parentId;\n        parentId = null;\n    }\n    if (!id.charAt)\n        throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n\n    id = window.normalizeModule(parentId, id);\n\n    var module = window.require.modules[id];\n    if (module) {\n        if (!module.initialized) {\n            module.initialized = true;\n            module.exports = module.factory().exports;\n        }\n        return module.exports;\n    }\n   \n    if (!window.require.tlns)\n        return console.log(\"unable to load \" + id);\n    \n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    \n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n    importScripts(path);\n    return window.require(parentId, id);\n};\nfunction resolveModuleId(id, paths) {\n    var testPath = id, tail = \"\";\n    while (testPath) {\n        var alias = paths[testPath];\n        if (typeof alias == \"string\") {\n            return alias + tail;\n        } else if (alias) {\n            return  alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n        } else if (alias === false) {\n            return \"\";\n        }\n        var i = testPath.lastIndexOf(\"/\");\n        if (i === -1) break;\n        tail = testPath.substr(i) + tail;\n        testPath = testPath.slice(0, i);\n    }\n    return id;\n}\nwindow.require.modules = {};\nwindow.require.tlns = {};\n\nwindow.define = function(id, deps, factory) {\n    if (arguments.length == 2) {\n        factory = deps;\n        if (typeof id != \"string\") {\n            deps = id;\n            id = window.require.id;\n        }\n    } else if (arguments.length == 1) {\n        factory = id;\n        deps = [];\n        id = window.require.id;\n    }\n    \n    if (typeof factory != \"function\") {\n        window.require.modules[id] = {\n            exports: factory,\n            initialized: true\n        };\n        return;\n    }\n\n    if (!deps.length)\n        // If there is no dependencies, we inject \"require\", \"exports\" and\n        // \"module\" as dependencies, to provide CommonJS compatibility.\n        deps = [\"require\", \"exports\", \"module\"];\n\n    var req = function(childId) {\n        return window.require(id, childId);\n    };\n\n    window.require.modules[id] = {\n        exports: {},\n        factory: function() {\n            var module = this;\n            var returnExports = factory.apply(this, deps.slice(0, factory.length).map(function(dep) {\n                switch (dep) {\n                    // Because \"require\", \"exports\" and \"module\" aren't actual\n                    // dependencies, we must handle them seperately.\n                    case \"require\": return req;\n                    case \"exports\": return module.exports;\n                    case \"module\":  return module;\n                    // But for all other dependencies, we can just go ahead and\n                    // require them.\n                    default:        return req(dep);\n                }\n            }));\n            if (returnExports)\n                module.exports = returnExports;\n            return module;\n        }\n    };\n};\nwindow.define.amd = {};\nrequire.tlns = {};\nwindow.initBaseUrls  = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces)\n        require.tlns[i] = topLevelNamespaces[i];\n};\n\nwindow.initSender = function initSender() {\n\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n    var oop = window.require(\"ace/lib/oop\");\n    \n    var Sender = function() {};\n    \n    (function() {\n        \n        oop.implement(this, EventEmitter);\n                \n        this.callback = function(data, callbackId) {\n            postMessage({\n                type: \"call\",\n                id: callbackId,\n                data: data\n            });\n        };\n    \n        this.emit = function(name, data) {\n            postMessage({\n                type: \"event\",\n                name: name,\n                data: data\n            });\n        };\n        \n    }).call(Sender.prototype);\n    \n    return new Sender();\n};\n\nvar main = window.main = null;\nvar sender = window.sender = null;\n\nwindow.onmessage = function(e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n        sender._signal(msg.event, msg.data);\n    }\n    else if (msg.command) {\n        if (main[msg.command])\n            main[msg.command].apply(main, msg.args);\n        else if (window[msg.command])\n            window[msg.command].apply(window, msg.args);\n        else\n            throw new Error(\"Unknown command:\" + msg.command);\n    }\n    else if (msg.init) {\n        window.initBaseUrls(msg.tlns);\n        require(\"ace/lib/es5-shim\");\n        sender = window.sender = window.initSender();\n        var clazz = require(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n    }\n};\n})(this);\n\nace.define(\"ace/lib/oop\",[], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/lang\",[], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/range\",[], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/apply_delta\",[], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/lib/event_emitter\",[], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/anchor\",[], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/worker/mirror\",[], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar Document = require(\"../document\").Document;\nvar lang = require(\"../lib/lang\");\n    \nvar Mirror = exports.Mirror = function(sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    \n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n    \n    var _self = this;\n    sender.on(\"change\", function(e) {\n        var data = e.data;\n        if (data[0].start) {\n            doc.applyDeltas(data);\n        } else {\n            for (var i = 0; i < data.length; i += 2) {\n                if (Array.isArray(data[i+1])) {\n                    var d = {action: \"insert\", start: data[i], lines: data[i+1]};\n                } else {\n                    var d = {action: \"remove\", start: data[i], end: data[i+1]};\n                }\n                doc.applyDelta(d, true);\n            }\n        }\n        if (_self.$timeout)\n            return deferredUpdate.schedule(_self.$timeout);\n        _self.onUpdate();\n    });\n};\n\n(function() {\n    \n    this.$timeout = 500;\n    \n    this.setTimeout = function(timeout) {\n        this.$timeout = timeout;\n    };\n    \n    this.setValue = function(value) {\n        this.doc.setValue(value);\n        this.deferredUpdate.schedule(this.$timeout);\n    };\n    \n    this.getValue = function(callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n    };\n    \n    this.onUpdate = function() {\n    };\n    \n    this.isPending = function() {\n        return this.deferredUpdate.isPending();\n    };\n    \n}).call(Mirror.prototype);\n\n});\n\nace.define(\"ace/mode/xml/sax\",[], function(require, exports, module) {\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\u00B7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_S=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_V = 4;//attr value(no quot value only)\nvar S_E = 5;//attr value end and no space(quot end)\nvar S_S = 6;//(attr value end || tag end ) && (space offer)\nvar S_C = 7;//closed el<el />\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n  function fixedFromCharCode(code) {\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\tlocator&&position(start);\n\t\tdomBuilder.characters(xt,0,end-start);\n\t\tstart = end\n\t}\n\tfunction position(start,m){\n\t\twhile(start>=endPos && (m = linePattern.exec(source))){\n\t\t\tstartPos = m.index;\n\t\t\tendPos = startPos + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t}\n\t\tlocator.columnNumber = start-startPos+1;\n\t}\n\tvar startPos = 0;\n\tvar endPos = 0;\n\tvar linePattern = /.+(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\tvar i = source.indexOf('<',start);\n\t\tif(i<0){\n\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\tvar doc = domBuilder.document;\n    \t\t\tvar text = doc.createTextNode(source.substr(start));\n    \t\t\tdoc.appendChild(text);\n    \t\t\tdomBuilder.currentElement = text;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(i>start){\n\t\t\tappendText(i);\n\t\t}\n\t\tswitch(source.charAt(i+1)){\n\t\tcase '/':\n\t\t\tvar end = source.indexOf('>',i+3);\n\t\t\tvar tagName = source.substring(i+2,end);\n\t\t\tvar config;\n\t\t\tif (parseStack.length > 1) {\n\t\t\t\tconfig = parseStack.pop();\n\t\t\t} else {\n\t\t\t\terrorHandler.fatalError(\"end tag name not found for: \"+tagName);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\n\t        if(config.tagName != tagName){\n\t            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \"+config.tagName );\n\t        }\n\t\t\tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\tif(localNSMap){\n\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tend++;\n\t\t\tbreak;\n\t\tcase '?':// <?...?>\n\t\t\tlocator&&position(i);\n\t\t\tend = parseInstruction(source,i,domBuilder);\n\t\t\tbreak;\n\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\tlocator&&position(i);\n\t\t\tend = parseDCC(source,i,domBuilder,errorHandler);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttry{\n\t\t\t\tlocator&&position(i);\n\t\t\t\t\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar end = parseElementStartPart(source,i,el,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\tif(len && locator){\n\t\t\t\t\tvar backup = copyLocator(locator,{});\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.offset = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tcopyLocator(backup,locator);\n\t\t\t\t}\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tappendElement(el,domBuilder,parseStack);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t}else{\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\terrorHandler.error('element parse error: '+e);\n\t\t\t\tend = -1;\n\t\t\t}\n\n\t\t}\n\t\tif(end<0){\n\t\t\tappendText(i+1);\n\t\t}else{\n\t\t\tstart = end;\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n\t\n}\nfunction parseElementStartPart(source,start,el,entityReplacer,errorHandler){\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_S){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute equal must after attrName');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ){//equal\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\tel.add(attrName,value,start-1);\n\t\t\t\t\ts = S_E;\n\t\t\t\t}else{\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_V){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tel.add(attrName,value,start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_E\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\ts = S_C;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_V:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_S:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_V://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_S:\n\t\t\t\tif(s === S_ATTR_S){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_V){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\n\t\t\t\t}else{\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\tel.add(value,value,start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_V:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value,start)\n\t\t\t\tcase S_E:\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{//not space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_ATTR_S:\n\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead!!')\n\t\t\t\t\tel.add(attrName,attrName,start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_E:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_S:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_V;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_C:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tp++;\n\t}\n}\nfunction appendElement(el,domBuilder,parseStack){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\ta.localName = localName ;\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix]\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\tparseStack.push(el);\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\treturn elEndStart;\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\tpos = closeMap[tagName] = source.lastIndexOf('</'+tagName+'>')\n\t}\n\treturn pos<elStartEnd;\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tif (end > start) {\n\t\t\t\tdomBuilder.startCDATA();\n\t\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\t\tdomBuilder.endCDATA() \n\t\t\t\treturn end+3;\n\t\t\t} else {\n\t\t\t\terrorHandler.error(\"Unclosed CDATA\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\n\t\t\tvar sysid = len>4 && matchs[4][0];\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\nfunction ElementAttributes(source){\n\t\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\tadd:function(qName,value,offset){\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetOffset:function(i){return this[i].offset},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n}\n\n\n\n\nfunction _set_proto_(thiz,parent){\n\tthiz.__proto__ = parent;\n\treturn thiz;\n}\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\n\t_set_proto_ = function(thiz,parent){\n\t\tfunction p(){};\n\t\tp.prototype = parent;\n\t\tp = new p();\n\t\tfor(parent in thiz){\n\t\t\tp[parent] = thiz[parent];\n\t\t}\n\t\treturn p;\n\t}\n}\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nreturn XMLReader;\n});\n\nace.define(\"ace/mode/xml/dom\",[], function(require, exports, module) {\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\nfunction _extends(Class,Super){\n\tvar t = function(){};\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype);\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class);\n\t\t}\n\t\tpt.constructor = Class;\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\nvar NodeType = {};\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\nfunction NodeList() {\n};\nNodeList.prototype = {\n\tlength:0,\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh;\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1;\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i];\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error());\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\treturn node;\n\t}\n};\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';';\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:''];\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n}\nDocument.prototype = {\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == 1){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == 1){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn rtv;\n\t},\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t},\n\tappendChild:function(newChild){\n\t\t\tthrow new Error(ExceptionMessage[3]);\n\t\treturn Node.prototype.appendChild.apply(this,arguments);\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n}\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n}\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n}\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n}\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n}\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node){\n\tvar buf = [];\n\tserializeToString(node,buf);\n\treturn buf.join('');\n}\nNode.prototype.toString =function(){\n\treturn XMLSerializer.prototype.serializeToString(this);\n}\nfunction serializeToString(node,buf){\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\tvar isHTML = htmlns === node.namespaceURI;\n\t\tbuf.push('<',nodeName);\n\t\tfor(var i=0;i<len;i++){\n\t\t\tserializeToString(attrs.item(i),buf);\n\t\t}\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\tif(child){\n\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length;\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value;\n}\nfunction getTextContent(node){\n\tswitch(node.nodeType){\n\tcase 1:\n\tcase 11:\n\t\tvar buf = [];\n\t\tnode = node.firstChild;\n\t\twhile(node){\n\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t\treturn buf.join('');\n\tdefault:\n\t\treturn node.nodeValue;\n\t}\n}\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase 1:\n\t\t\t\tcase 11:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = value;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t__set__ = function(object,key,value){\n\t\t\tobject['$$'+key] = value;\n\t\t};\n\t}\n}catch(e){//ie8\n}\n\nreturn DOMImplementation;\n});\n\nace.define(\"ace/mode/xml/dom-parser\",[], function(require, exports, module) {\n\t'use strict';\n\n\tvar XMLReader = require('./sax'),\n\t\tDOMImplementation = require('./dom');\n\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n\t\n}\nDOMParser.prototype.parseFromString = function(source,mimeType){\t\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\t\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(/\\/x?html?$/.test(mimeType)){\n\t\tentityMap.nbsp = '\\xa0';\n\t\tentityMap.copy = '\\xa9';\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\n\t}\n\tif(source){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid document source\");\n\t}\n\treturn domBuilder.document;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn){\n\t\t\tif(isCallback){\n\t\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t\t}else{\n\t\t\t\tvar i=arguments.length;\n\t\t\t\twhile(--i){\n\t\t\t\t\tif(fn = errorImpl[arguments[i]]){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn(msg+_locator(locator), msg, locator);\n\t\t}||function(){};\n\t}\n\tbuild('warning','warn');\n\tbuild('error','warn','warning');\n\tbuild('fatalError','warn','warning','error');\n\treturn errorHandler;\n}\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n} \nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.document = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.document.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.document;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\t    \n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tif( attr.getOffset){\n\t\t\t\tposition(attr.getOffset(1),attr)\n\t\t\t}\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t    var tagName = current.tagName;\n\t    this.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.document.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\tif(this.currentElement && chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.document.createCDATASection(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.document.createTextNode(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.document.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.document.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\t\n\tstartCDATA:function() {\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\t\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.document.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t    }\n\t},\n\twarning:function(error) {\n\t\tconsole.warn(error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t    throw error;\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.document.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nreturn {\n\t\tDOMParser: DOMParser\n\t };\n});\n\nace.define(\"ace/mode/xml_worker\",[], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar Mirror = require(\"../worker/mirror\").Mirror;\nvar DOMParser = require(\"./xml/dom-parser\").DOMParser;\n\nvar Worker = exports.Worker = function(sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n};\n\noop.inherits(Worker, Mirror);\n\n(function() {\n\n    this.setOptions = function(options) {\n        this.context = options.context;\n    };\n\n    this.onUpdate = function() {\n        var value = this.doc.getValue();\n        if (!value)\n            return;\n        var parser = new DOMParser();\n        var errors = [];\n        parser.options.errorHandler = {\n            fatalError: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            error: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            warning: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"warning\"\n                });\n            }\n        };\n        \n        parser.parseFromString(value);\n        this.sender.emit(\"error\", errors);\n    };\n\n}).call(Worker.prototype);\n\n});\n\nace.define(\"ace/lib/es5-shim\",[], function(require, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n"]},"metadata":{},"sourceType":"script"}