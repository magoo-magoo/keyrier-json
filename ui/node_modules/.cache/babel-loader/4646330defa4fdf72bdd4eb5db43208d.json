{"ast":null,"code":"ace.define(\"ace/ext/searchbox\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/event\", \"ace/keyboard/hash_handler\", \"ace/lib/keys\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var lang = require(\"../lib/lang\");\n\n  var event = require(\"../lib/event\");\n\n  var searchboxCss = \"\\\n.ace_search {\\\nbackground-color: #ddd;\\\ncolor: #666;\\\nborder: 1px solid #cbcbcb;\\\nborder-top: 0 none;\\\noverflow: hidden;\\\nmargin: 0;\\\npadding: 4px 6px 0 4px;\\\nposition: absolute;\\\ntop: 0;\\\nz-index: 99;\\\nwhite-space: normal;\\\n}\\\n.ace_search.left {\\\nborder-left: 0 none;\\\nborder-radius: 0px 0px 5px 0px;\\\nleft: 0;\\\n}\\\n.ace_search.right {\\\nborder-radius: 0px 0px 0px 5px;\\\nborder-right: 0 none;\\\nright: 0;\\\n}\\\n.ace_search_form, .ace_replace_form {\\\nmargin: 0 20px 4px 0;\\\noverflow: hidden;\\\nline-height: 1.9;\\\n}\\\n.ace_replace_form {\\\nmargin-right: 0;\\\n}\\\n.ace_search_form.ace_nomatch {\\\noutline: 1px solid red;\\\n}\\\n.ace_search_field {\\\nborder-radius: 3px 0 0 3px;\\\nbackground-color: white;\\\ncolor: black;\\\nborder: 1px solid #cbcbcb;\\\nborder-right: 0 none;\\\noutline: 0;\\\npadding: 0;\\\nfont-size: inherit;\\\nmargin: 0;\\\nline-height: inherit;\\\npadding: 0 6px;\\\nmin-width: 17em;\\\nvertical-align: top;\\\nmin-height: 1.8em;\\\nbox-sizing: content-box;\\\n}\\\n.ace_searchbtn {\\\nborder: 1px solid #cbcbcb;\\\nline-height: inherit;\\\ndisplay: inline-block;\\\npadding: 0 6px;\\\nbackground: #fff;\\\nborder-right: 0 none;\\\nborder-left: 1px solid #dcdcdc;\\\ncursor: pointer;\\\nmargin: 0;\\\nposition: relative;\\\ncolor: #666;\\\n}\\\n.ace_searchbtn:last-child {\\\nborder-radius: 0 3px 3px 0;\\\nborder-right: 1px solid #cbcbcb;\\\n}\\\n.ace_searchbtn:disabled {\\\nbackground: none;\\\ncursor: default;\\\n}\\\n.ace_searchbtn:hover {\\\nbackground-color: #eef1f6;\\\n}\\\n.ace_searchbtn.prev, .ace_searchbtn.next {\\\npadding: 0px 0.7em\\\n}\\\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\\\ncontent: \\\"\\\";\\\nborder: solid 2px #888;\\\nwidth: 0.5em;\\\nheight: 0.5em;\\\nborder-width:  2px 0 0 2px;\\\ndisplay:inline-block;\\\ntransform: rotate(-45deg);\\\n}\\\n.ace_searchbtn.next:after {\\\nborder-width: 0 2px 2px 0 ;\\\n}\\\n.ace_searchbtn_close {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\\\nborder-radius: 50%;\\\nborder: 0 none;\\\ncolor: #656565;\\\ncursor: pointer;\\\nfont: 16px/16px Arial;\\\npadding: 0;\\\nheight: 14px;\\\nwidth: 14px;\\\ntop: 9px;\\\nright: 7px;\\\nposition: absolute;\\\n}\\\n.ace_searchbtn_close:hover {\\\nbackground-color: #656565;\\\nbackground-position: 50% 100%;\\\ncolor: white;\\\n}\\\n.ace_button {\\\nmargin-left: 2px;\\\ncursor: pointer;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\noverflow: hidden;\\\nopacity: 0.7;\\\nborder: 1px solid rgba(100,100,100,0.23);\\\npadding: 1px;\\\nbox-sizing:    border-box!important;\\\ncolor: black;\\\n}\\\n.ace_button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_button.checked {\\\nborder-color: #3399ff;\\\nopacity:1;\\\n}\\\n.ace_search_options{\\\nmargin-bottom: 3px;\\\ntext-align: right;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\nclear: both;\\\n}\\\n.ace_search_counter {\\\nfloat: left;\\\nfont-family: arial;\\\npadding: 0 8px;\\\n}\";\n\n  var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n\n  var keyUtil = require(\"../lib/keys\");\n\n  var MAX_COUNT = 999;\n  dom.importCssString(searchboxCss, \"ace_searchbox\");\n\n  var SearchBox = function (editor, range, showReplaceForm) {\n    var div = dom.createElement(\"div\");\n    dom.buildDom([\"div\", {\n      class: \"ace_search right\"\n    }, [\"span\", {\n      action: \"hide\",\n      class: \"ace_searchbtn_close\"\n    }], [\"div\", {\n      class: \"ace_search_form\"\n    }, [\"input\", {\n      class: \"ace_search_field\",\n      placeholder: \"Search for\",\n      spellcheck: \"false\"\n    }], [\"span\", {\n      action: \"findPrev\",\n      class: \"ace_searchbtn prev\"\n    }, \"\\u200b\"], [\"span\", {\n      action: \"findNext\",\n      class: \"ace_searchbtn next\"\n    }, \"\\u200b\"], [\"span\", {\n      action: \"findAll\",\n      class: \"ace_searchbtn\",\n      title: \"Alt-Enter\"\n    }, \"All\"]], [\"div\", {\n      class: \"ace_replace_form\"\n    }, [\"input\", {\n      class: \"ace_search_field\",\n      placeholder: \"Replace with\",\n      spellcheck: \"false\"\n    }], [\"span\", {\n      action: \"replaceAndFindNext\",\n      class: \"ace_searchbtn\"\n    }, \"Replace\"], [\"span\", {\n      action: \"replaceAll\",\n      class: \"ace_searchbtn\"\n    }, \"All\"]], [\"div\", {\n      class: \"ace_search_options\"\n    }, [\"span\", {\n      action: \"toggleReplace\",\n      class: \"ace_button\",\n      title: \"Toggle Replace mode\",\n      style: \"float:left;margin-top:-2px;padding:0 5px;\"\n    }, \"+\"], [\"span\", {\n      class: \"ace_search_counter\"\n    }], [\"span\", {\n      action: \"toggleRegexpMode\",\n      class: \"ace_button\",\n      title: \"RegExp Search\"\n    }, \".*\"], [\"span\", {\n      action: \"toggleCaseSensitive\",\n      class: \"ace_button\",\n      title: \"CaseSensitive Search\"\n    }, \"Aa\"], [\"span\", {\n      action: \"toggleWholeWords\",\n      class: \"ace_button\",\n      title: \"Whole Word Search\"\n    }, \"\\\\b\"], [\"span\", {\n      action: \"searchInSelection\",\n      class: \"ace_button\",\n      title: \"Search In Selection\"\n    }, \"S\"]]], div);\n    this.element = div.firstChild;\n    this.setSession = this.setSession.bind(this);\n    this.$init();\n    this.setEditor(editor);\n    dom.importCssString(searchboxCss, \"ace_searchbox\", editor.container);\n  };\n\n  (function () {\n    this.setEditor = function (editor) {\n      editor.searchBox = this;\n      editor.renderer.scroller.appendChild(this.element);\n      this.editor = editor;\n    };\n\n    this.setSession = function (e) {\n      this.searchRange = null;\n      this.$syncOptions(true);\n    };\n\n    this.$initElements = function (sb) {\n      this.searchBox = sb.querySelector(\".ace_search_form\");\n      this.replaceBox = sb.querySelector(\".ace_replace_form\");\n      this.searchOption = sb.querySelector(\"[action=searchInSelection]\");\n      this.replaceOption = sb.querySelector(\"[action=toggleReplace]\");\n      this.regExpOption = sb.querySelector(\"[action=toggleRegexpMode]\");\n      this.caseSensitiveOption = sb.querySelector(\"[action=toggleCaseSensitive]\");\n      this.wholeWordOption = sb.querySelector(\"[action=toggleWholeWords]\");\n      this.searchInput = this.searchBox.querySelector(\".ace_search_field\");\n      this.replaceInput = this.replaceBox.querySelector(\".ace_search_field\");\n      this.searchCounter = sb.querySelector(\".ace_search_counter\");\n    };\n\n    this.$init = function () {\n      var sb = this.element;\n      this.$initElements(sb);\n\n      var _this = this;\n\n      event.addListener(sb, \"mousedown\", function (e) {\n        setTimeout(function () {\n          _this.activeInput.focus();\n        }, 0);\n        event.stopPropagation(e);\n      });\n      event.addListener(sb, \"click\", function (e) {\n        var t = e.target || e.srcElement;\n        var action = t.getAttribute(\"action\");\n        if (action && _this[action]) _this[action]();else if (_this.$searchBarKb.commands[action]) _this.$searchBarKb.commands[action].exec(_this);\n        event.stopPropagation(e);\n      });\n      event.addCommandKeyListener(sb, function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n\n        var command = _this.$searchBarKb.findKeyCommand(hashId, keyString);\n\n        if (command && command.exec) {\n          command.exec(_this);\n          event.stopEvent(e);\n        }\n      });\n      this.$onChange = lang.delayedCall(function () {\n        _this.find(false, false);\n      });\n      event.addListener(this.searchInput, \"input\", function () {\n        _this.$onChange.schedule(20);\n      });\n      event.addListener(this.searchInput, \"focus\", function () {\n        _this.activeInput = _this.searchInput;\n        _this.searchInput.value && _this.highlight();\n      });\n      event.addListener(this.replaceInput, \"focus\", function () {\n        _this.activeInput = _this.replaceInput;\n        _this.searchInput.value && _this.highlight();\n      });\n    };\n\n    this.$closeSearchBarKb = new HashHandler([{\n      bindKey: \"Esc\",\n      name: \"closeSearchBar\",\n      exec: function (editor) {\n        editor.searchBox.hide();\n      }\n    }]);\n    this.$searchBarKb = new HashHandler();\n    this.$searchBarKb.bindKeys({\n      \"Ctrl-f|Command-f\": function (sb) {\n        var isReplace = sb.isReplace = !sb.isReplace;\n        sb.replaceBox.style.display = isReplace ? \"\" : \"none\";\n        sb.replaceOption.checked = false;\n        sb.$syncOptions();\n        sb.searchInput.focus();\n      },\n      \"Ctrl-H|Command-Option-F\": function (sb) {\n        if (sb.editor.getReadOnly()) return;\n        sb.replaceOption.checked = true;\n        sb.$syncOptions();\n        sb.replaceInput.focus();\n      },\n      \"Ctrl-G|Command-G\": function (sb) {\n        sb.findNext();\n      },\n      \"Ctrl-Shift-G|Command-Shift-G\": function (sb) {\n        sb.findPrev();\n      },\n      \"esc\": function (sb) {\n        setTimeout(function () {\n          sb.hide();\n        });\n      },\n      \"Return\": function (sb) {\n        if (sb.activeInput == sb.replaceInput) sb.replace();\n        sb.findNext();\n      },\n      \"Shift-Return\": function (sb) {\n        if (sb.activeInput == sb.replaceInput) sb.replace();\n        sb.findPrev();\n      },\n      \"Alt-Return\": function (sb) {\n        if (sb.activeInput == sb.replaceInput) sb.replaceAll();\n        sb.findAll();\n      },\n      \"Tab\": function (sb) {\n        (sb.activeInput == sb.replaceInput ? sb.searchInput : sb.replaceInput).focus();\n      }\n    });\n    this.$searchBarKb.addCommands([{\n      name: \"toggleRegexpMode\",\n      bindKey: {\n        win: \"Alt-R|Alt-/\",\n        mac: \"Ctrl-Alt-R|Ctrl-Alt-/\"\n      },\n      exec: function (sb) {\n        sb.regExpOption.checked = !sb.regExpOption.checked;\n        sb.$syncOptions();\n      }\n    }, {\n      name: \"toggleCaseSensitive\",\n      bindKey: {\n        win: \"Alt-C|Alt-I\",\n        mac: \"Ctrl-Alt-R|Ctrl-Alt-I\"\n      },\n      exec: function (sb) {\n        sb.caseSensitiveOption.checked = !sb.caseSensitiveOption.checked;\n        sb.$syncOptions();\n      }\n    }, {\n      name: \"toggleWholeWords\",\n      bindKey: {\n        win: \"Alt-B|Alt-W\",\n        mac: \"Ctrl-Alt-B|Ctrl-Alt-W\"\n      },\n      exec: function (sb) {\n        sb.wholeWordOption.checked = !sb.wholeWordOption.checked;\n        sb.$syncOptions();\n      }\n    }, {\n      name: \"toggleReplace\",\n      exec: function (sb) {\n        sb.replaceOption.checked = !sb.replaceOption.checked;\n        sb.$syncOptions();\n      }\n    }, {\n      name: \"searchInSelection\",\n      exec: function (sb) {\n        sb.searchOption.checked = !sb.searchRange;\n        sb.setSearchRange(sb.searchOption.checked && sb.editor.getSelectionRange());\n        sb.$syncOptions();\n      }\n    }]);\n\n    this.setSearchRange = function (range) {\n      this.searchRange = range;\n\n      if (range) {\n        this.searchRangeMarker = this.editor.session.addMarker(range, \"ace_active-line\");\n      } else if (this.searchRangeMarker) {\n        this.editor.session.removeMarker(this.searchRangeMarker);\n        this.searchRangeMarker = null;\n      }\n    };\n\n    this.$syncOptions = function (preventScroll) {\n      dom.setCssClass(this.replaceOption, \"checked\", this.searchRange);\n      dom.setCssClass(this.searchOption, \"checked\", this.searchOption.checked);\n      this.replaceOption.textContent = this.replaceOption.checked ? \"-\" : \"+\";\n      dom.setCssClass(this.regExpOption, \"checked\", this.regExpOption.checked);\n      dom.setCssClass(this.wholeWordOption, \"checked\", this.wholeWordOption.checked);\n      dom.setCssClass(this.caseSensitiveOption, \"checked\", this.caseSensitiveOption.checked);\n      var readOnly = this.editor.getReadOnly();\n      this.replaceOption.style.display = readOnly ? \"none\" : \"\";\n      this.replaceBox.style.display = this.replaceOption.checked && !readOnly ? \"\" : \"none\";\n      this.find(false, false, preventScroll);\n    };\n\n    this.highlight = function (re) {\n      this.editor.session.highlight(re || this.editor.$search.$options.re);\n      this.editor.renderer.updateBackMarkers();\n    };\n\n    this.find = function (skipCurrent, backwards, preventScroll) {\n      var range = this.editor.find(this.searchInput.value, {\n        skipCurrent: skipCurrent,\n        backwards: backwards,\n        wrap: true,\n        regExp: this.regExpOption.checked,\n        caseSensitive: this.caseSensitiveOption.checked,\n        wholeWord: this.wholeWordOption.checked,\n        preventScroll: preventScroll,\n        range: this.searchRange\n      });\n      var noMatch = !range && this.searchInput.value;\n      dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n\n      this.editor._emit(\"findSearchBox\", {\n        match: !noMatch\n      });\n\n      this.highlight();\n      this.updateCounter();\n    };\n\n    this.updateCounter = function () {\n      var editor = this.editor;\n      var regex = editor.$search.$options.re;\n      var all = 0;\n      var before = 0;\n\n      if (regex) {\n        var value = this.searchRange ? editor.session.getTextRange(this.searchRange) : editor.getValue();\n        var offset = editor.session.doc.positionToIndex(editor.selection.anchor);\n        if (this.searchRange) offset -= editor.session.doc.positionToIndex(this.searchRange.start);\n        var last = regex.lastIndex = 0;\n        var m;\n\n        while (m = regex.exec(value)) {\n          all++;\n          last = m.index;\n          if (last <= offset) before++;\n          if (all > MAX_COUNT) break;\n\n          if (!m[0]) {\n            regex.lastIndex = last += 1;\n            if (last >= value.length) break;\n          }\n        }\n      }\n\n      this.searchCounter.textContent = before + \" of \" + (all > MAX_COUNT ? MAX_COUNT + \"+\" : all);\n    };\n\n    this.findNext = function () {\n      this.find(true, false);\n    };\n\n    this.findPrev = function () {\n      this.find(true, true);\n    };\n\n    this.findAll = function () {\n      var range = this.editor.findAll(this.searchInput.value, {\n        regExp: this.regExpOption.checked,\n        caseSensitive: this.caseSensitiveOption.checked,\n        wholeWord: this.wholeWordOption.checked\n      });\n      var noMatch = !range && this.searchInput.value;\n      dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n\n      this.editor._emit(\"findSearchBox\", {\n        match: !noMatch\n      });\n\n      this.highlight();\n      this.hide();\n    };\n\n    this.replace = function () {\n      if (!this.editor.getReadOnly()) this.editor.replace(this.replaceInput.value);\n    };\n\n    this.replaceAndFindNext = function () {\n      if (!this.editor.getReadOnly()) {\n        this.editor.replace(this.replaceInput.value);\n        this.findNext();\n      }\n    };\n\n    this.replaceAll = function () {\n      if (!this.editor.getReadOnly()) this.editor.replaceAll(this.replaceInput.value);\n    };\n\n    this.hide = function () {\n      this.active = false;\n      this.setSearchRange(null);\n      this.editor.off(\"changeSession\", this.setSession);\n      this.element.style.display = \"none\";\n      this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);\n      this.editor.focus();\n    };\n\n    this.show = function (value, isReplace) {\n      this.active = true;\n      this.editor.on(\"changeSession\", this.setSession);\n      this.element.style.display = \"\";\n      this.replaceOption.checked = isReplace;\n      if (value) this.searchInput.value = value;\n      this.searchInput.focus();\n      this.searchInput.select();\n      this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);\n      this.$syncOptions(true);\n    };\n\n    this.isFocused = function () {\n      var el = document.activeElement;\n      return el == this.searchInput || el == this.replaceInput;\n    };\n  }).call(SearchBox.prototype);\n  exports.SearchBox = SearchBox;\n\n  exports.Search = function (editor, isReplace) {\n    var sb = editor.searchBox || new SearchBox(editor);\n    sb.show(editor.session.getTextRange(), isReplace);\n  };\n});\n\n(function () {\n  ace.require([\"ace/ext/searchbox\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"sources":["/home/magoo/projects/keyrier-json/node_modules/ace-builds/src-noconflict/ext-searchbox.js"],"names":["ace","define","require","exports","module","dom","lang","event","searchboxCss","HashHandler","keyUtil","MAX_COUNT","importCssString","SearchBox","editor","range","showReplaceForm","div","createElement","buildDom","class","action","placeholder","spellcheck","title","style","element","firstChild","setSession","bind","$init","setEditor","container","searchBox","renderer","scroller","appendChild","e","searchRange","$syncOptions","$initElements","sb","querySelector","replaceBox","searchOption","replaceOption","regExpOption","caseSensitiveOption","wholeWordOption","searchInput","replaceInput","searchCounter","_this","addListener","setTimeout","activeInput","focus","stopPropagation","t","target","srcElement","getAttribute","$searchBarKb","commands","exec","addCommandKeyListener","hashId","keyCode","keyString","keyCodeToString","command","findKeyCommand","stopEvent","$onChange","delayedCall","find","schedule","value","highlight","$closeSearchBarKb","bindKey","name","hide","bindKeys","isReplace","display","checked","getReadOnly","findNext","findPrev","replace","replaceAll","findAll","addCommands","win","mac","setSearchRange","getSelectionRange","searchRangeMarker","session","addMarker","removeMarker","preventScroll","setCssClass","textContent","readOnly","re","$search","$options","updateBackMarkers","skipCurrent","backwards","wrap","regExp","caseSensitive","wholeWord","noMatch","_emit","match","updateCounter","regex","all","before","getTextRange","getValue","offset","doc","positionToIndex","selection","anchor","start","last","lastIndex","m","index","length","replaceAndFindNext","active","off","keyBinding","removeKeyboardHandler","show","on","select","addKeyboardHandler","isFocused","el","document","activeElement","call","prototype","Search"],"mappings":"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","sourcesContent":["ace.define(\"ace/ext/searchbox\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/keyboard/hash_handler\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar searchboxCss = \"\\\n.ace_search {\\\nbackground-color: #ddd;\\\ncolor: #666;\\\nborder: 1px solid #cbcbcb;\\\nborder-top: 0 none;\\\noverflow: hidden;\\\nmargin: 0;\\\npadding: 4px 6px 0 4px;\\\nposition: absolute;\\\ntop: 0;\\\nz-index: 99;\\\nwhite-space: normal;\\\n}\\\n.ace_search.left {\\\nborder-left: 0 none;\\\nborder-radius: 0px 0px 5px 0px;\\\nleft: 0;\\\n}\\\n.ace_search.right {\\\nborder-radius: 0px 0px 0px 5px;\\\nborder-right: 0 none;\\\nright: 0;\\\n}\\\n.ace_search_form, .ace_replace_form {\\\nmargin: 0 20px 4px 0;\\\noverflow: hidden;\\\nline-height: 1.9;\\\n}\\\n.ace_replace_form {\\\nmargin-right: 0;\\\n}\\\n.ace_search_form.ace_nomatch {\\\noutline: 1px solid red;\\\n}\\\n.ace_search_field {\\\nborder-radius: 3px 0 0 3px;\\\nbackground-color: white;\\\ncolor: black;\\\nborder: 1px solid #cbcbcb;\\\nborder-right: 0 none;\\\noutline: 0;\\\npadding: 0;\\\nfont-size: inherit;\\\nmargin: 0;\\\nline-height: inherit;\\\npadding: 0 6px;\\\nmin-width: 17em;\\\nvertical-align: top;\\\nmin-height: 1.8em;\\\nbox-sizing: content-box;\\\n}\\\n.ace_searchbtn {\\\nborder: 1px solid #cbcbcb;\\\nline-height: inherit;\\\ndisplay: inline-block;\\\npadding: 0 6px;\\\nbackground: #fff;\\\nborder-right: 0 none;\\\nborder-left: 1px solid #dcdcdc;\\\ncursor: pointer;\\\nmargin: 0;\\\nposition: relative;\\\ncolor: #666;\\\n}\\\n.ace_searchbtn:last-child {\\\nborder-radius: 0 3px 3px 0;\\\nborder-right: 1px solid #cbcbcb;\\\n}\\\n.ace_searchbtn:disabled {\\\nbackground: none;\\\ncursor: default;\\\n}\\\n.ace_searchbtn:hover {\\\nbackground-color: #eef1f6;\\\n}\\\n.ace_searchbtn.prev, .ace_searchbtn.next {\\\npadding: 0px 0.7em\\\n}\\\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\\\ncontent: \\\"\\\";\\\nborder: solid 2px #888;\\\nwidth: 0.5em;\\\nheight: 0.5em;\\\nborder-width:  2px 0 0 2px;\\\ndisplay:inline-block;\\\ntransform: rotate(-45deg);\\\n}\\\n.ace_searchbtn.next:after {\\\nborder-width: 0 2px 2px 0 ;\\\n}\\\n.ace_searchbtn_close {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\\\nborder-radius: 50%;\\\nborder: 0 none;\\\ncolor: #656565;\\\ncursor: pointer;\\\nfont: 16px/16px Arial;\\\npadding: 0;\\\nheight: 14px;\\\nwidth: 14px;\\\ntop: 9px;\\\nright: 7px;\\\nposition: absolute;\\\n}\\\n.ace_searchbtn_close:hover {\\\nbackground-color: #656565;\\\nbackground-position: 50% 100%;\\\ncolor: white;\\\n}\\\n.ace_button {\\\nmargin-left: 2px;\\\ncursor: pointer;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\noverflow: hidden;\\\nopacity: 0.7;\\\nborder: 1px solid rgba(100,100,100,0.23);\\\npadding: 1px;\\\nbox-sizing:    border-box!important;\\\ncolor: black;\\\n}\\\n.ace_button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_button.checked {\\\nborder-color: #3399ff;\\\nopacity:1;\\\n}\\\n.ace_search_options{\\\nmargin-bottom: 3px;\\\ntext-align: right;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\nclear: both;\\\n}\\\n.ace_search_counter {\\\nfloat: left;\\\nfont-family: arial;\\\npadding: 0 8px;\\\n}\";\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nvar keyUtil = require(\"../lib/keys\");\n\nvar MAX_COUNT = 999;\n\ndom.importCssString(searchboxCss, \"ace_searchbox\");\n\nvar SearchBox = function(editor, range, showReplaceForm) {\n    var div = dom.createElement(\"div\");\n    dom.buildDom([\"div\", {class:\"ace_search right\"},\n        [\"span\", {action: \"hide\", class: \"ace_searchbtn_close\"}],\n        [\"div\", {class: \"ace_search_form\"},\n            [\"input\", {class: \"ace_search_field\", placeholder: \"Search for\", spellcheck: \"false\"}],\n            [\"span\", {action: \"findPrev\", class: \"ace_searchbtn prev\"}, \"\\u200b\"],\n            [\"span\", {action: \"findNext\", class: \"ace_searchbtn next\"}, \"\\u200b\"],\n            [\"span\", {action: \"findAll\", class: \"ace_searchbtn\", title: \"Alt-Enter\"}, \"All\"]\n        ],\n        [\"div\", {class: \"ace_replace_form\"},\n            [\"input\", {class: \"ace_search_field\", placeholder: \"Replace with\", spellcheck: \"false\"}],\n            [\"span\", {action: \"replaceAndFindNext\", class: \"ace_searchbtn\"}, \"Replace\"],\n            [\"span\", {action: \"replaceAll\", class: \"ace_searchbtn\"}, \"All\"]\n        ],\n        [\"div\", {class: \"ace_search_options\"},\n            [\"span\", {action: \"toggleReplace\", class: \"ace_button\", title: \"Toggle Replace mode\",\n                style: \"float:left;margin-top:-2px;padding:0 5px;\"}, \"+\"],\n            [\"span\", {class: \"ace_search_counter\"}],\n            [\"span\", {action: \"toggleRegexpMode\", class: \"ace_button\", title: \"RegExp Search\"}, \".*\"],\n            [\"span\", {action: \"toggleCaseSensitive\", class: \"ace_button\", title: \"CaseSensitive Search\"}, \"Aa\"],\n            [\"span\", {action: \"toggleWholeWords\", class: \"ace_button\", title: \"Whole Word Search\"}, \"\\\\b\"],\n            [\"span\", {action: \"searchInSelection\", class: \"ace_button\", title: \"Search In Selection\"}, \"S\"]\n        ]\n    ], div);\n    this.element = div.firstChild;\n    \n    this.setSession = this.setSession.bind(this);\n\n    this.$init();\n    this.setEditor(editor);\n    dom.importCssString(searchboxCss, \"ace_searchbox\", editor.container);\n};\n\n(function() {\n    this.setEditor = function(editor) {\n        editor.searchBox = this;\n        editor.renderer.scroller.appendChild(this.element);\n        this.editor = editor;\n    };\n    \n    this.setSession = function(e) {\n        this.searchRange = null;\n        this.$syncOptions(true);\n    };\n\n    this.$initElements = function(sb) {\n        this.searchBox = sb.querySelector(\".ace_search_form\");\n        this.replaceBox = sb.querySelector(\".ace_replace_form\");\n        this.searchOption = sb.querySelector(\"[action=searchInSelection]\");\n        this.replaceOption = sb.querySelector(\"[action=toggleReplace]\");\n        this.regExpOption = sb.querySelector(\"[action=toggleRegexpMode]\");\n        this.caseSensitiveOption = sb.querySelector(\"[action=toggleCaseSensitive]\");\n        this.wholeWordOption = sb.querySelector(\"[action=toggleWholeWords]\");\n        this.searchInput = this.searchBox.querySelector(\".ace_search_field\");\n        this.replaceInput = this.replaceBox.querySelector(\".ace_search_field\");\n        this.searchCounter = sb.querySelector(\".ace_search_counter\");\n    };\n    \n    this.$init = function() {\n        var sb = this.element;\n        \n        this.$initElements(sb);\n        \n        var _this = this;\n        event.addListener(sb, \"mousedown\", function(e) {\n            setTimeout(function(){\n                _this.activeInput.focus();\n            }, 0);\n            event.stopPropagation(e);\n        });\n        event.addListener(sb, \"click\", function(e) {\n            var t = e.target || e.srcElement;\n            var action = t.getAttribute(\"action\");\n            if (action && _this[action])\n                _this[action]();\n            else if (_this.$searchBarKb.commands[action])\n                _this.$searchBarKb.commands[action].exec(_this);\n            event.stopPropagation(e);\n        });\n\n        event.addCommandKeyListener(sb, function(e, hashId, keyCode) {\n            var keyString = keyUtil.keyCodeToString(keyCode);\n            var command = _this.$searchBarKb.findKeyCommand(hashId, keyString);\n            if (command && command.exec) {\n                command.exec(_this);\n                event.stopEvent(e);\n            }\n        });\n\n        this.$onChange = lang.delayedCall(function() {\n            _this.find(false, false);\n        });\n\n        event.addListener(this.searchInput, \"input\", function() {\n            _this.$onChange.schedule(20);\n        });\n        event.addListener(this.searchInput, \"focus\", function() {\n            _this.activeInput = _this.searchInput;\n            _this.searchInput.value && _this.highlight();\n        });\n        event.addListener(this.replaceInput, \"focus\", function() {\n            _this.activeInput = _this.replaceInput;\n            _this.searchInput.value && _this.highlight();\n        });\n    };\n    this.$closeSearchBarKb = new HashHandler([{\n        bindKey: \"Esc\",\n        name: \"closeSearchBar\",\n        exec: function(editor) {\n            editor.searchBox.hide();\n        }\n    }]);\n    this.$searchBarKb = new HashHandler();\n    this.$searchBarKb.bindKeys({\n        \"Ctrl-f|Command-f\": function(sb) {\n            var isReplace = sb.isReplace = !sb.isReplace;\n            sb.replaceBox.style.display = isReplace ? \"\" : \"none\";\n            sb.replaceOption.checked = false;\n            sb.$syncOptions();\n            sb.searchInput.focus();\n        },\n        \"Ctrl-H|Command-Option-F\": function(sb) {\n            if (sb.editor.getReadOnly())\n                return;\n            sb.replaceOption.checked = true;\n            sb.$syncOptions();\n            sb.replaceInput.focus();\n        },\n        \"Ctrl-G|Command-G\": function(sb) {\n            sb.findNext();\n        },\n        \"Ctrl-Shift-G|Command-Shift-G\": function(sb) {\n            sb.findPrev();\n        },\n        \"esc\": function(sb) {\n            setTimeout(function() { sb.hide();});\n        },\n        \"Return\": function(sb) {\n            if (sb.activeInput == sb.replaceInput)\n                sb.replace();\n            sb.findNext();\n        },\n        \"Shift-Return\": function(sb) {\n            if (sb.activeInput == sb.replaceInput)\n                sb.replace();\n            sb.findPrev();\n        },\n        \"Alt-Return\": function(sb) {\n            if (sb.activeInput == sb.replaceInput)\n                sb.replaceAll();\n            sb.findAll();\n        },\n        \"Tab\": function(sb) {\n            (sb.activeInput == sb.replaceInput ? sb.searchInput : sb.replaceInput).focus();\n        }\n    });\n\n    this.$searchBarKb.addCommands([{\n        name: \"toggleRegexpMode\",\n        bindKey: {win: \"Alt-R|Alt-/\", mac: \"Ctrl-Alt-R|Ctrl-Alt-/\"},\n        exec: function(sb) {\n            sb.regExpOption.checked = !sb.regExpOption.checked;\n            sb.$syncOptions();\n        }\n    }, {\n        name: \"toggleCaseSensitive\",\n        bindKey: {win: \"Alt-C|Alt-I\", mac: \"Ctrl-Alt-R|Ctrl-Alt-I\"},\n        exec: function(sb) {\n            sb.caseSensitiveOption.checked = !sb.caseSensitiveOption.checked;\n            sb.$syncOptions();\n        }\n    }, {\n        name: \"toggleWholeWords\",\n        bindKey: {win: \"Alt-B|Alt-W\", mac: \"Ctrl-Alt-B|Ctrl-Alt-W\"},\n        exec: function(sb) {\n            sb.wholeWordOption.checked = !sb.wholeWordOption.checked;\n            sb.$syncOptions();\n        }\n    }, {\n        name: \"toggleReplace\",\n        exec: function(sb) {\n            sb.replaceOption.checked = !sb.replaceOption.checked;\n            sb.$syncOptions();\n        }\n    }, {\n        name: \"searchInSelection\",\n        exec: function(sb) {\n            sb.searchOption.checked = !sb.searchRange;\n            sb.setSearchRange(sb.searchOption.checked && sb.editor.getSelectionRange());\n            sb.$syncOptions();\n        }\n    }]);\n    \n    this.setSearchRange = function(range) {\n        this.searchRange = range;\n        if (range) {\n            this.searchRangeMarker = this.editor.session.addMarker(range, \"ace_active-line\");\n        } else if (this.searchRangeMarker) {\n            this.editor.session.removeMarker(this.searchRangeMarker);\n            this.searchRangeMarker = null;\n        }\n    };\n\n    this.$syncOptions = function(preventScroll) {\n        dom.setCssClass(this.replaceOption, \"checked\", this.searchRange);\n        dom.setCssClass(this.searchOption, \"checked\", this.searchOption.checked);\n        this.replaceOption.textContent = this.replaceOption.checked ? \"-\" : \"+\";\n        dom.setCssClass(this.regExpOption, \"checked\", this.regExpOption.checked);\n        dom.setCssClass(this.wholeWordOption, \"checked\", this.wholeWordOption.checked);\n        dom.setCssClass(this.caseSensitiveOption, \"checked\", this.caseSensitiveOption.checked);\n        var readOnly = this.editor.getReadOnly();\n        this.replaceOption.style.display = readOnly ? \"none\" : \"\";\n        this.replaceBox.style.display = this.replaceOption.checked && !readOnly ? \"\" : \"none\";\n        this.find(false, false, preventScroll);\n    };\n\n    this.highlight = function(re) {\n        this.editor.session.highlight(re || this.editor.$search.$options.re);\n        this.editor.renderer.updateBackMarkers();\n    };\n    this.find = function(skipCurrent, backwards, preventScroll) {\n        var range = this.editor.find(this.searchInput.value, {\n            skipCurrent: skipCurrent,\n            backwards: backwards,\n            wrap: true,\n            regExp: this.regExpOption.checked,\n            caseSensitive: this.caseSensitiveOption.checked,\n            wholeWord: this.wholeWordOption.checked,\n            preventScroll: preventScroll,\n            range: this.searchRange\n        });\n        var noMatch = !range && this.searchInput.value;\n        dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n        this.editor._emit(\"findSearchBox\", { match: !noMatch });\n        this.highlight();\n        this.updateCounter();\n    };\n    this.updateCounter = function() {\n        var editor = this.editor;\n        var regex = editor.$search.$options.re;\n        var all = 0;\n        var before = 0;\n        if (regex) {\n            var value = this.searchRange\n                ? editor.session.getTextRange(this.searchRange)\n                : editor.getValue();\n            \n            var offset = editor.session.doc.positionToIndex(editor.selection.anchor);\n            if (this.searchRange)\n                offset -= editor.session.doc.positionToIndex(this.searchRange.start);\n                \n            var last = regex.lastIndex = 0;\n            var m;\n            while ((m = regex.exec(value))) {\n                all++;\n                last = m.index;\n                if (last <= offset)\n                    before++;\n                if (all > MAX_COUNT)\n                    break;\n                if (!m[0]) {\n                    regex.lastIndex = last += 1;\n                    if (last >= value.length)\n                        break;\n                }\n            }\n        }\n        this.searchCounter.textContent = before + \" of \" + (all > MAX_COUNT ? MAX_COUNT + \"+\" : all);\n    };\n    this.findNext = function() {\n        this.find(true, false);\n    };\n    this.findPrev = function() {\n        this.find(true, true);\n    };\n    this.findAll = function(){\n        var range = this.editor.findAll(this.searchInput.value, {            \n            regExp: this.regExpOption.checked,\n            caseSensitive: this.caseSensitiveOption.checked,\n            wholeWord: this.wholeWordOption.checked\n        });\n        var noMatch = !range && this.searchInput.value;\n        dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n        this.editor._emit(\"findSearchBox\", { match: !noMatch });\n        this.highlight();\n        this.hide();\n    };\n    this.replace = function() {\n        if (!this.editor.getReadOnly())\n            this.editor.replace(this.replaceInput.value);\n    };    \n    this.replaceAndFindNext = function() {\n        if (!this.editor.getReadOnly()) {\n            this.editor.replace(this.replaceInput.value);\n            this.findNext();\n        }\n    };\n    this.replaceAll = function() {\n        if (!this.editor.getReadOnly())\n            this.editor.replaceAll(this.replaceInput.value);\n    };\n\n    this.hide = function() {\n        this.active = false;\n        this.setSearchRange(null);\n        this.editor.off(\"changeSession\", this.setSession);\n        \n        this.element.style.display = \"none\";\n        this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);\n        this.editor.focus();\n    };\n    this.show = function(value, isReplace) {\n        this.active = true;\n        this.editor.on(\"changeSession\", this.setSession);\n        this.element.style.display = \"\";\n        this.replaceOption.checked = isReplace;\n        \n        if (value)\n            this.searchInput.value = value;\n        \n        this.searchInput.focus();\n        this.searchInput.select();\n\n        this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);\n        \n        this.$syncOptions(true);\n    };\n\n    this.isFocused = function() {\n        var el = document.activeElement;\n        return el == this.searchInput || el == this.replaceInput;\n    };\n}).call(SearchBox.prototype);\n\nexports.SearchBox = SearchBox;\n\nexports.Search = function(editor, isReplace) {\n    var sb = editor.searchBox || new SearchBox(editor);\n    sb.show(editor.session.getTextRange(), isReplace);\n};\n\n});                (function() {\n                    ace.require([\"ace/ext/searchbox\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "]},"metadata":{},"sourceType":"script"}