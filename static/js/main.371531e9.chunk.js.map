{"version":3,"sources":["core/logging/logger.ts","actions/actions.ts","hooks/hooks.ts","store/selectors.ts","components/common/ErrorBoundary.tsx","core/converters/string.ts","models/array.ts","core/converters/json.ts","core/interpreters/sql.ts","core/interpreters/code.ts","state/State.ts","reducers/reducers.ts","store/persistence.ts","store/store.ts","themes/themes.ts","components/Header.tsx","components/source/RequestHeader.tsx","components/source/RequestSource.tsx","components/LateralMenu.tsx","components/App.tsx","registerServiceWorker.ts","index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","logError","logInfo","error","payload","console","message","info","updateAutoFormatSource","updateSource","updateQuery","resetEditor","undo","redo","clearEditor","toggleOutputTableModal","updateTableColumns","updateTableGroupBy","switchTheme","switchEditorTheme","updateSearchTerm","updateQueryMode","updateOutputTabSelection","active","type","source","query","columns","groupBy","theme","searchTerm","mode","tab","useToggleState","initial","arguments","length","undefined","_useState","useState","_useState2","Object","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","value","setValue","useChangeEventState","initialValue","_useState3","_useState4","useCallback","event","target","getOutputErrorMessage","state","app","present","output","errorMessage","getOutputIsArray","table","isArray","getOutputActiveTab","selectedTab","getOutputObject","obj","getOutputObjectSize","objSize","getOutputSearchTerm","getOutputSearchMatch","match","getisOutputTableModalOpen","isModalOpen","getTheme","userSettings","globalTheme","getEditorTheme","editorTheme","getdisplayedColumns","displayedColumns","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getOutputarray","Array","getColumns","getGroupBy","getQueryText","text","getQueryMode","getSourceText","getSourceAutoFormat","autoFormat","getCanRedo","future","getCanUndo","past","ErrorBoundary","_this2","this","setState","Error","notify","children","props","react__WEBPACK_IMPORTED_MODULE_5__","toast","JSON","stringify","position","hideProgressBar","autoClose","Component","withErrorBoundary","Wrapped","customToString","containsIgnoreCase","prettyPrintBytes","map","e","join","toString","str","part","toLocaleLowerCase","includes","UNITS","toLocaleString","locale","result","signed","Number","isFinite","TypeError","concat","isNegative","prefix","exponent","Math","min","floor","log10","pow","toPrecision","arrayElementName","jsonBeautify","trim","parsed","jsonParseSafe","safeStr","replace","parse","v","fields","constructor","nodes","Star","x","mapObject","executeQuery","sqlTree","sourceDataObject","fromPath","name","values","toConsumableArray","shift","_","chain","get","filter","where","conditions","leftValue","left","rightValue","right","operation","compareOperands","orderBy","order","orderings","direction","take","limit","toLowerCase","path","newPath","computePath","startsWith","endsWith","substring","indexOf","mapped","temp","forEach","field","val","index","alias","key","value2","codeEvaluation","sourceString","queryString","jsEvaluation","sqlEvaluation","window","lodash","code","evaluatedQuery","eval","apply","getDefaultAppState","initialStateJson","defaultAppState","emptyState","rootReducer","rootState","action","newState","objectSpread","newOutputState","computeOutput","previousState","outputObject","keyMap","is","keys","sort","ax","b","localeCompare","_containsTerm2","containsTerm","src","filteredObj","from","k","getOwnPropertyNames","propertyName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","propertyNameContains","_containsTerm","splice","err","return","groupByList","gb","rootReducers","combineReducers","undoable","undoType","redoType","persist","storage","getStorage","toBeSaved","setItem","warn","load","getDefault","savedStateString","getItem","loadFromStorage","merge","localStorage","sessionStorage","configureStore","appState","userSettingsState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","_latestUnfiltered","group","subscribe","appstate","getState","themeDeps","Map","then","t","bind","importThemeStyleCustom","themeLoader","availableGeneralThemes","availableEditorThemes","ThemeDropDownItem","setTheme","reloadOnChange","onClick","setTimeout","location","reload","react","DropdownItem","connect","currentTheme","currentEditorTheme","setGeneralTheme","setEditorTheme","memo","_ref","_useToggleState","_useToggleState2","slicedToArray","isOpen","switchIsOpen","_useToggleState3","_useToggleState4","dropDownIsOpen","toggleDropdown","Navbar","color","dark","expand","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","className","Dropdown","toggle","DropdownToggle","nav","caret","DropdownMenu","header","Header_ThemeDropDownItem","NavItem","NavLink","version","RenderHeaderInput","onRemove","onChange","id","_header","onKeyChange","onValueChange","onRemoveCallback","placeholder","Button","outline","HeaderList","_ref3","headers","h","onChangeCallback","setSource","onFinish","_useChangeEventState","_useChangeEventState2","method","setMethod","_useChangeEventState3","_useChangeEventState4","url","setUrl","_useChangeEventState5","_useChangeEventState6","body","setBody","setHeaders","setError","hasBody","setHasBody","submit","asyncToGenerator","regenerator_default","a","mark","_callee","request","json","wrap","_context","prev","Request","fetch","sent","t0","abrupt","stop","FormGroup","htmlFor","defaultValue","Form","inline","hidden","RequestSource_HeaderList","block","Alert","stack","canUndo","canRedo","onFileContentReady","onReset","onClear","onUndo","onRedo","changeAutoFormat","setQueryMode","dropdownIsOpen","modalIsOpen","toggleModal","_useToggleState5","_useToggleState6","modeOpen","switchModeOpen","setJsMode","setSqlMode","handleFileChange","files","fileReader","FileReader","onload","readAsText","handleAutoFormatChange","ButtonGroup","vertical","size","disabled","Label","check","ButtonDropdown","style","display","Modal","role","ModalHeader","ModalBody","RequestSource","ModalFooter","SourceEditor","lazy","Promise","all","Output","QueryEditor","App","components_Header","components_LateralMenu","fallback","react_toastify","Boolean","hostname","promises","ReactDOM","Concurrent","resolve","React","unstable_createRoot","document","getElementById","render","es","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.371531e9.chunk.js","sourcesContent":["// tslint:disable:no-console\n\nexport const logError = (error: string | Error, payload?: any) => {\n  console.error('Keyrier error', error)\n  if (typeof payload !== 'undefined') {\n    console.error(payload)\n  }\n}\n\nexport const logWarning = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.warn(message)\n  }\n  console.warn(message, payload)\n}\n\nexport const logInfo = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.info(message)\n  }\n  console.info(message, payload)\n}\n","import { QueryMode, tabType } from 'state/State'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\n\nexport const updateAutoFormatSource = (active: boolean) =>\n  ({\n    active,\n    type: 'UPDATE_AUTOFORMAT_SOURCE',\n  } as const)\n\nexport const updateSource = (source: string) =>\n  ({\n    source,\n    type: 'UPDATE_SOURCE_TEXT',\n  } as const)\n\nexport const updateQuery = (query: string) =>\n  ({\n    query,\n    type: 'UPDATE_QUERY',\n  } as const)\n\nexport const resetEditor = () =>\n  ({\n    type: 'RESET_EDITOR',\n  } as const)\n\nexport const undo = () =>\n  ({\n    type: 'APP_UNDO',\n  } as const)\n\nexport const redo = () =>\n  ({\n    type: 'APP_REDO',\n  } as const)\n\nexport const clearEditor = () =>\n  ({\n    type: 'CLEAR_EDITOR',\n  } as const)\n\nexport const evaluateCode = () =>\n  ({\n    type: 'EVALUATE_CODE',\n  } as const)\n\nexport const toggleOutputTableModal = () =>\n  ({\n    type: 'TOGGLE_OUTPUT_TABLE_MODAL',\n  } as const)\n\nexport const updateTableColumns = (columns: string[]) =>\n  ({\n    columns,\n    type: 'UPDATE_TABLE_COLUMNS',\n  } as const)\n\nexport const updateTableGroupBy = (groupBy: string[]) =>\n  ({\n    groupBy,\n    type: 'UPDATE_TABLE_GROUP_BY',\n  } as const)\n\nexport const switchTheme = (theme: GeneralTheme) => ({\n  theme,\n  type: 'SWITCH_GLOBAL_THEME' as const,\n})\n\nexport const switchEditorTheme = (theme: EditorTheme) => ({\n  theme,\n  type: 'SWITCH_EDITOR_THEME' as const,\n})\n\nexport const updateSearchTerm = (searchTerm: string) =>\n  ({\n    searchTerm,\n    type: 'UPDATE_OUTPUT_SEARCH_TERM',\n  } as const)\n\nexport const updateQueryMode = (mode: QueryMode) =>\n  ({\n    mode,\n    type: 'UPDATE_QUERY_MODE',\n  } as const)\n\nexport const updateOutputTabSelection = (tab: tabType) =>\n  ({\n    tab,\n    type: 'UPDATE_OUTPUT_TAB_SELECTION',\n  } as const)\n\ntype ReduxInitAction = {\n  type: '@@INIT'\n}\n\nexport type Action =\n  | Readonly<ReduxInitAction>\n  | ReturnType<typeof evaluateCode>\n  | ReturnType<typeof resetEditor>\n  | ReturnType<typeof clearEditor>\n  | ReturnType<typeof updateQuery>\n  | ReturnType<typeof toggleOutputTableModal>\n  | ReturnType<typeof updateTableColumns>\n  | ReturnType<typeof updateTableGroupBy>\n  | ReturnType<typeof switchTheme>\n  | ReturnType<typeof updateSearchTerm>\n  | ReturnType<typeof updateQueryMode>\n  | ReturnType<typeof updateOutputTabSelection>\n  | ReturnType<typeof updateSource>\n  | ReturnType<typeof updateAutoFormatSource>\n  | ReturnType<typeof switchEditorTheme>\n  | ReturnType<typeof undo>\n  | ReturnType<typeof redo>\n","import { useState, useCallback, ChangeEvent } from 'react'\n\nexport const useToggleState = (initial: boolean = false): readonly [boolean, () => void] => {\n  const [value, setValue] = useState(initial)\n  return [value, () => setValue(!value)]\n}\n\ntype HtmlElementHookable = HTMLSelectElement | HTMLInputElement\n\nexport const useChangeEventState = (\n  initialValue: string\n): readonly [string, (e: ChangeEvent<HtmlElementHookable>) => void] => {\n  const [value, setValue] = useState(initialValue)\n\n  const eventHandler = useCallback(\n    (event: ChangeEvent<HtmlElementHookable>) => {\n      if (event && event.target) {\n        setValue(event.target.value)\n      }\n    },\n    [setValue]\n  )\n\n  return [value, eventHandler]\n}\n","import { RootState } from 'state/State'\n\nexport const getOutputErrorMessage = (state: RootState) =>\n  state && state.app && state.app.present.output ? state.app.present.output.errorMessage : ''\n\nexport const getOutputIsArray = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.table\n    ? !!state.app.present.output.table.isArray\n    : false\nexport const getOutputActiveTab = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.selectedTab\n    ? state.app.present.output.selectedTab\n    : ('RawJson' as const)\nexport const getOutputObject = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.obj ? state.app.present.output.obj : {}\nexport const getOutputObjectSize = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.objSize\n    ? state.app.present.output.objSize\n    : 0\nexport const getOutputSearchTerm = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.searchTerm\nexport const getOutputSearchMatch = (state: RootState) =>\n  state && state.app && state.app.present.output ? !!state.app.present.output.match : false\nexport const getisOutputTableModalOpen = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.table\n    ? !!state.app.present.output.table.isModalOpen\n    : false\n\nexport const getTheme = (state: RootState) =>\n  state.userSettings && state.userSettings.globalTheme ? state.userSettings.globalTheme : ('pulse' as const)\nexport const getEditorTheme = (state: RootState) =>\n  state.userSettings && state.userSettings.editorTheme ? state.userSettings.editorTheme : ('github' as const)\n\nexport const getdisplayedColumns = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.displayedColumns\n    ? [...state.app.present.output.table.displayedColumns]\n    : []\nexport const getOutputarray = (state: RootState) =>\n  state && state.app && state.app.present.output && Array.isArray(state.app.present.output.obj)\n    ? [...state.app.present.output.obj]\n    : []\nexport const getColumns = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.columns\n    ? [...state.app.present.output.table.columns]\n    : []\nexport const getGroupBy = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.groupBy\n    ? [...state.app.present.output.table.groupBy]\n    : []\n\nexport const getQueryText = (state: RootState) =>\n  state && state.app && state.app.present.query && state.app.present.query.text ? state.app.present.query.text : ''\nexport const getQueryMode = (state: RootState) =>\n  state && state.app && state.app.present.query && state.app.present.query.mode\n    ? state.app.present.query.mode\n    : ('SQL' as const)\n\nexport const getSourceText = (state: RootState) =>\n  state && state.app && state.app.present.source && state.app.present.source.text ? state.app.present.source.text : ''\nexport const getSourceAutoFormat = (state: RootState) =>\n  state && state.app && state.app.present.source ? !!state.app.present.source.autoFormat : false\n\nexport const getCanRedo = (state: RootState) =>\n  state && state.app && state.app.future ? state.app.future.length !== 0 : false\nexport const getCanUndo = (state: RootState) =>\n  state && state.app && state.app.past ? state.app.past.length > 1 : false\n","import * as React from 'react'\nimport { logError } from 'core/logging/logger'\nimport { toast } from 'react-toastify'\nimport { Component, ComponentType } from 'react'\n\nconst MISSING_ERROR = 'Error was swallowed during propagation.'\n\ntype State = {\n  error?: Error\n}\n\nclass ErrorBoundary extends Component<{}, State> {\n  public readonly state: State = {\n    error: undefined,\n  }\n\n  public componentDidCatch(error: Error | null, info: object) {\n    this.setState({ error: error || new Error(MISSING_ERROR) }, () => this.notify(info))\n  }\n\n  public render() {\n    const { children } = this.props\n    const { error } = this.state\n\n    if (error) {\n      return <>An error occured</>\n    }\n\n    return children\n  }\n\n  private notify(info: object) {\n    logError('An error occured', this.state.error)\n    logError('error info:', info)\n    toast.error(JSON.stringify(info), { position: 'bottom-right', hideProgressBar: true, autoClose: false })\n  }\n}\n\nexport const withErrorBoundary = <T extends {}>(Wrapped: ComponentType<T>) => (props: T) => (\n  <ErrorBoundary>\n    <Wrapped {...props} />\n  </ErrorBoundary>\n)\n","export const customToString = (obj: {}): string => {\n  if (Array.isArray(obj)) {\n    const array: any[] = obj\n    return array.map(e => customToString(e)).join(',')\n  }\n  if (typeof obj === 'object') {\n    return JSON.stringify(obj)\n  }\n  if (typeof obj === 'undefined') {\n    return ''\n  }\n  if (obj !== null && obj !== undefined) {\n    return obj.toString()\n  }\n\n  return ''\n}\n\nexport const containsIgnoreCase = (str: string, part: string) => {\n  if (!str || !part) {\n    return false\n  }\n  if (str.toLocaleLowerCase().includes(part.toLocaleLowerCase())) {\n    return true\n  }\n\n  return false\n}\n\nconst UNITS = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\nconst toLocaleString = (value: number, locale: boolean | string = false) => {\n  let result = value.toString()\n  if (typeof locale === 'string') {\n    result = value.toLocaleString(locale)\n  } else if (locale === true) {\n    result = value.toLocaleString()\n  }\n\n  return result\n}\n\nexport const prettyPrintBytes = (value: number, signed = false, locale: boolean | string = false) => {\n  if (!Number.isFinite(value)) {\n    throw new TypeError(`Expected a finite number, got ${typeof value}: ${value}`)\n  }\n  if (value === 0) {\n    return '0 B'\n  }\n  const isNegative = value < 0\n  const prefix = isNegative ? '-' : signed ? '+' : ''\n  if (isNegative) {\n    value = -value\n  }\n  if (value < 1) {\n    const numberStr = toLocaleString(value, locale ? locale : false)\n    return prefix + numberStr + ' B'\n  }\n  const exponent = Math.min(Math.floor(Math.log10(value) / 3), UNITS.length - 1)\n  value = Number((value / Math.pow(1024, exponent)).toPrecision(3))\n  const numberString = toLocaleString(value, locale ? locale : false)\n  const unit = UNITS[exponent]\n  return prefix + numberString + ' ' + unit\n}\n","export const arrayElementName = 'arrayElement'\n","import { logError } from 'core/logging/logger'\n\nexport const jsonBeautify = (str: string) => {\n  if (!str || str.trim() === '') {\n    return ''\n  }\n\n  const parsed = jsonParseSafe(str)\n  if (typeof parsed === 'string') {\n    return parsed\n  }\n\n  try {\n    return JSON.stringify(parsed, null, 2)\n  } catch (error) {\n    logError(error, str)\n  }\n  return str\n}\n\nexport const jsonParseSafe = (str: string) => {\n  if (!str || str.trim() === '') {\n    return null\n  }\n\n  const safeStr = str\n    .replace(/\\\\n/g, '\\\\n')\n    .replace(/\\\\'/g, \"\\\\'\")\n    .replace(/\\\\\"/g, '\\\\\"')\n    .replace(/\\\\&/g, '\\\\&')\n    .replace(/\\\\r/g, '\\\\r')\n    .replace(/\\\\t/g, '\\\\t')\n    .replace(/\\\\b/g, '\\\\b')\n    .replace(/\\\\f/g, '\\\\f')\n  // .replace(/[\\u0000-\\u0019]+/g, '')\n\n  try {\n    return JSON.parse(safeStr)\n  } catch (error) {\n    return str\n  }\n}\n","import _ from 'lodash'\nimport { parse, nodes, Op, Field, SQLTree, Source } from 'sql-parser'\nimport { jsonParseSafe } from '../converters/json'\n\nexport const computePath = (path: string[]) => {\n  if (!path || path.length === 0) {\n    return []\n  }\n  if (path[0] === 'data') {\n    const newPath = [...path]\n    newPath.shift()\n    return newPath\n  }\n\n  return path\n}\n\nexport const sqlEvaluation = (sourceString: string, queryString: string) => {\n  try {\n    const sqlTree = parse(queryString.replace(/--(.*?)(\\n|$)/gm, ''))\n    if (sqlTree.source.name.values[0] !== 'data') {\n      return new Error(`${sqlTree.source.name.values[0]} table does not exist`)\n    }\n\n    const sourceDataObject = jsonParseSafe(sourceString)\n\n    const result = executeQuery(sqlTree, sourceDataObject)\n\n    return JSON.stringify(result)\n  } catch (e) {\n    return e as Error\n  }\n}\n\nconst map = (v: object, fields: Field[], source: Source) => {\n  if (fields[0].constructor === nodes.Star) {\n    return v\n  }\n\n  if (Array.isArray(v)) {\n    return v.map(x => mapObject(fields, x, source))\n  }\n\n  return mapObject(fields, v, source)\n}\n\nconst executeQuery = (sqlTree: SQLTree, sourceDataObject: object) => {\n  let fromPath: string[] = []\n\n  if (sqlTree.source.name.values && sqlTree.source.name.values.length > 1) {\n    if (sqlTree.source.name.values[0] === 'data') {\n      fromPath = [...sqlTree.source.name.values]\n      fromPath.shift()\n    }\n  }\n\n  let result = _.chain(sourceDataObject)\n\n  if (fromPath && fromPath.length > 0) {\n    result = result.get(fromPath)\n  }\n  sourceDataObject = result.value()\n  if (_.isArray(sourceDataObject)) {\n    return result\n      .filter(v => {\n        if (!sqlTree.where || !sqlTree.where.conditions) {\n          return true\n        }\n        const leftValue = sqlTree.where.conditions.left\n        const rightValue = sqlTree.where.conditions.right\n        const operation = sqlTree.where.conditions.operation\n        return compareOperands(operation, leftValue, rightValue, v)\n      })\n      .orderBy(\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.value.value) : undefined,\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.direction) : undefined\n      )\n      .map(v => map(v, sqlTree.fields, sqlTree.source))\n      .take(\n        sqlTree.limit && typeof sqlTree.limit.value.value === 'number' ? sqlTree.limit.value.value : 999999999999999\n      )\n      .value()\n  } else {\n    return map(sourceDataObject, sqlTree.fields, sqlTree.source)\n  }\n}\n\nconst compareOperands = (operation: string | null, left: Op, right: Op, value: object): boolean => {\n  if (!operation) {\n    return false\n  }\n\n  if (operation.toLowerCase() === 'or') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) ||\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (operation.toLowerCase() === 'and') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) &&\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (!left.value) {\n    return false\n  }\n\n  const leftValue = _.get(value, computePath(left.values))\n\n  if (operation === '=' && leftValue === right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is' && leftValue === right.value) {\n    return true\n  }\n  if (operation === '!=' && leftValue !== right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is not' && leftValue !== right.value) {\n    return true\n  }\n  if (operation === '<>' && leftValue !== right.value) {\n    return true\n  }\n\n  if (operation.toLocaleLowerCase() === 'like' && typeof right.value === 'string' && typeof leftValue === 'string') {\n    if (right.value.startsWith('%') && right.value.endsWith('%')) {\n      if (leftValue.includes(right.value.substring(1, right.value.length - 1))) {\n        return true\n      }\n    } else if (right.value.startsWith('%')) {\n      if (leftValue.endsWith(right.value.substring(right.value.indexOf('%') + 1))) {\n        return true\n      }\n    } else if (right.value.endsWith('%')) {\n      if (leftValue.startsWith(right.value.substring(0, right.value.indexOf('%')))) {\n        return true\n      }\n    }\n  }\n\n  if (right.value) {\n    if (operation === '>' && leftValue > right.value) {\n      return true\n    }\n    if (operation === '>=' && leftValue >= right.value) {\n      return true\n    }\n    if (operation === '<' && leftValue < right.value) {\n      return true\n    }\n    if (operation === '<=' && leftValue <= right.value) {\n      return true\n    }\n  }\n\n  if (\n    operation.toLowerCase() === 'in' &&\n    Array.isArray(right.value) &&\n    right.value.filter(x => x.value === leftValue).length > 0\n  ) {\n    return true\n  }\n\n  return false\n}\n\nconst mapObject = (fields: Field[], mapped: object, source: Source) => {\n  const temp: {\n    [key: string]: any\n  } = {}\n  fields.forEach(field => {\n    const value = _.get(\n      mapped,\n      field.field.values.filter((val, index) => !(index === 0 && source.alias && val === source.alias.value))\n    )\n    let key = field.field.value\n    if (field.field.value2) {\n      key = field.field.value2\n    }\n    if (field.name) {\n      key = field.name.value\n    }\n    temp[key] = value\n  })\n  mapped = temp\n  return mapped\n}\n","import { QueryMode } from 'state/State'\nimport { sqlEvaluation } from './sql'\nimport lodash from 'lodash'\n\nexport const codeEvaluation = (sourceString: string, queryString: string, mode: QueryMode) => {\n  if (mode === 'Javascript') {\n    return jsEvaluation(sourceString, queryString)\n  } else if (mode === 'SQL') {\n    return sqlEvaluation(sourceString, queryString)\n  }\n\n  return new Error('unsupported mode')\n}\n\nconst jsEvaluation = (sourceString: string, queryString: string): null | string | Error => {\n  if (!sourceString || sourceString.trim() === '') {\n    return null\n  }\n\n  if (!queryString || queryString.trim() === '') {\n    return null\n  }\n\n  try {\n    ;(window as any)._ = lodash\n    const code = `\n      \n        const data = eval(${sourceString})\n        JSON.stringify(${queryString}) \n      `\n    // eslint-disable-next-line\n    const evaluatedQuery = eval.apply(null, [code]) // DANGEROUS\n    const type = typeof evaluatedQuery\n    if (type !== 'string') {\n      return null\n    }\n    return evaluatedQuery as string\n  } catch (error) {\n    return error\n  } finally {\n    ;(window as any)._ = undefined\n  }\n}\n","import initialStateJson from './default-state.json'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\nimport { DeepReadonly } from 'utility-types'\nimport { PropType as PropertyTypeOf } from 'core/misc/utils'\nimport { StateWithHistory } from 'redux-undo'\n\nexport type itemType = any\n\nexport type All = PropertyTypeOf<AppState>\nexport type AppState = DeepReadonly<{\n  source?: SourceState\n  query?: QueryState\n  output?: OupoutState\n  error?: Error\n}>\nexport type QueryState = DeepReadonly<{\n  text?: string\n  mode?: QueryMode\n}>\nexport type SourceState = DeepReadonly<{\n  text?: string\n  autoFormat?: boolean\n}>\nexport type OupoutState = DeepReadonly<{\n  searchTerm?: string\n  match?: boolean\n  selectedTab?: tabType\n  obj?: object | null\n  objSize?: number\n  errorMessage?: string\n  table?: OupoutTableState\n}>\nexport type OupoutTableState = DeepReadonly<{\n  isArray?: boolean\n  isModalOpen?: boolean\n  displayedColumns?: readonly string[]\n  columns?: readonly string[]\n  groupBy?: readonly string[]\n}>\nexport type UserSettingsState = DeepReadonly<{\n  globalTheme?: GeneralTheme\n  editorTheme?: EditorTheme\n}>\n\nexport type tabType = 'RawJson' | 'Table'\nexport type QueryMode = 'Javascript' | 'SQL'\n\nexport type RootState = DeepReadonly<{\n  app?: StateWithHistory<AppState>\n  userSettings?: UserSettingsState\n}>\n\nexport const getDefaultAppState = () => initialStateJson as AppState\nexport const defaultAppState = initialStateJson as AppState\nexport const getDefaultUserSettingsState = () =>\n  ({\n    globalTheme: 'pulse',\n    editorTheme: 'github',\n  } as const)\n\nexport const emptyState = {\n  source: { text: '', autoFormat: true },\n  query: { text: '', mode: 'Javascript' },\n  output: {\n    match: false,\n    obj: {},\n    objSize: 2,\n    searchTerm: '',\n    selectedTab: 'RawJson',\n    table: {\n      isArray: false,\n      columns: [],\n      displayedColumns: [],\n      isModalOpen: false,\n      groupBy: [],\n    },\n  },\n} as const\n","import { combineReducers } from 'redux'\nimport { Action } from 'actions/actions'\nimport { codeEvaluation } from 'core/interpreters/code'\nimport { jsonParseSafe, jsonBeautify } from 'core/converters/json'\nimport {\n  OupoutState,\n  getDefaultAppState,\n  itemType,\n  getDefaultUserSettingsState,\n  QueryMode,\n  tabType,\n  emptyState,\n  AppState,\n  UserSettingsState,\n  OupoutTableState,\n  defaultAppState,\n  SourceState,\n  QueryState,\n} from 'state/State'\nimport { containsIgnoreCase } from 'core/converters/string'\nimport { arrayElementName } from 'models/array'\nimport undoable from 'redux-undo'\n\nexport const rootReducer = (rootState = getDefaultAppState(), action: Action) => {\n  if (action.type === 'CLEAR_EDITOR') {\n    return emptyState\n  }\n\n  const newState =\n    rootState && rootState.query && rootState.source\n      ? {\n          ...rootState,\n          query: query(rootState.query, action),\n          source: source(rootState.source, action),\n        }\n      : {}\n\n  const newOutputState = output(rootState, newState, action)\n  return {\n    ...newState,\n    output: {\n      ...newOutputState,\n      table: table(newOutputState ? newOutputState.table : {}, action),\n    },\n  }\n}\n\nexport const source = (state: SourceState, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_SOURCE_TEXT':\n      return {\n        ...state,\n        text: state && state.autoFormat ? jsonBeautify(action.source.trim()) : action.source,\n      }\n    case 'UPDATE_AUTOFORMAT_SOURCE':\n      return {\n        ...state,\n        text: action.active\n          ? state && state.text && jsonBeautify(state.text.trim())\n          : state && state.text\n          ? state.text\n          : '',\n        autoFormat: action.active,\n      }\n    default:\n      return state\n  }\n}\n\nexport const userSettings = (state: UserSettingsState | undefined = getDefaultUserSettingsState(), action: Action) => {\n  switch (action.type) {\n    case 'SWITCH_GLOBAL_THEME':\n      return { ...state, globalTheme: action.theme }\n    case 'SWITCH_EDITOR_THEME':\n      return { ...state, editorTheme: action.theme }\n    default:\n      return state\n  }\n}\n\nexport const query = (state: QueryState, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_QUERY':\n      return {\n        ...state,\n        text: action.query,\n      }\n    case 'UPDATE_QUERY_MODE':\n      return {\n        ...state,\n        mode: action.mode,\n        text:\n          action.mode === 'SQL'\n            ? defaultAppState && defaultAppState.query\n              ? defaultAppState.query.text\n              : ''\n            : \"// data is your JSON object\\n// you can use any correct javascript code to query it\\n// in addition of that,\\n// you can use lodash helper functions. see https://lodash.com/docs/\\n// ex: _.chain(data).orderBy('age', 'desc')\\n\\n      data\\n    \",\n      } as const\n    default:\n      return state\n  }\n}\n\nexport const computeOutput = (\n  previousState: OupoutState,\n  sourceString: string,\n  queryString: string,\n  action: Action,\n  mode: QueryMode\n) => {\n  const text = codeEvaluation(sourceString, queryString, mode)\n\n  if (!text) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n  if (text instanceof Error) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      errorMessage: text.message,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n\n  let displayedColumns = new Array<string>()\n  const outputObject: itemType[] | object = jsonParseSafe(text)\n  if (Array.isArray(outputObject)) {\n    const keyMap: { [key: string]: string } = {}\n    outputObject.forEach(d => {\n      if (d !== null && d !== undefined && !Object.is(d, {}) && !Array.isArray(d)) {\n        const keysToAdd = d ? (typeof d === 'object' ? Object.keys(d) : [arrayElementName]) : []\n        keysToAdd.forEach(key => (keyMap[key] = key))\n      }\n    })\n    displayedColumns = Object.keys(keyMap)\n      .filter(key => key && typeof key === 'string' && key.trim() !== '')\n      .sort((ax, b) => ax.toLowerCase().localeCompare(b.toLowerCase()))\n  }\n  const isModalOpen =\n    previousState && previousState.table && action.type === 'TOGGLE_OUTPUT_TABLE_MODAL'\n      ? previousState && !previousState.table.isModalOpen\n      : previousState && previousState.table\n      ? previousState.table.isModalOpen\n      : false\n\n  let selectedTab: tabType = Array.isArray(outputObject) ? 'Table' : 'RawJson'\n\n  if (action.type === 'UPDATE_OUTPUT_TAB_SELECTION') {\n    selectedTab = action.tab\n  }\n  return {\n    selectedTab,\n    obj: outputObject,\n    objSize: text ? text.length : 0,\n    searchTerm: '',\n    match: false,\n    table: {\n      isArray: Array.isArray(outputObject),\n      isModalOpen,\n      displayedColumns,\n      columns: displayedColumns,\n      groupBy: [],\n    },\n  } as const\n}\n\nexport const output = (previousState: AppState, newState: AppState, action: Action) => {\n  switch (action.type) {\n    case 'EVALUATE_CODE':\n    case 'UPDATE_QUERY':\n    case 'UPDATE_SOURCE_TEXT':\n      if (\n        previousState &&\n        previousState.source &&\n        newState &&\n        newState.source &&\n        previousState.query &&\n        newState.query &&\n        previousState.source.text === newState.source.text &&\n        previousState.query.text === newState.query.text\n      ) {\n        return previousState.output\n      }\n      if (newState && newState.output) {\n        return computeOutput(\n          newState.output,\n          newState.source && newState.source.text ? newState.source.text : '',\n          newState.query && newState.query.text ? newState.query.text : '',\n          action,\n          newState.query && newState.query.mode ? newState.query.mode : 'SQL'\n        )\n      }\n      break\n    case 'TOGGLE_OUTPUT_TABLE_MODAL':\n      return newState\n        ? {\n            ...newState.output,\n            table: {\n              ...(newState.output ? newState.output.table : {}),\n              isModalOpen: newState.output && newState.output.table ? !newState.output.table.isModalOpen : false,\n            },\n          }\n        : {}\n    case 'UPDATE_OUTPUT_TAB_SELECTION':\n      if (newState) {\n        return {\n          ...newState.output,\n          selectedTab: action.tab,\n        }\n      }\n      break\n    case 'UPDATE_OUTPUT_SEARCH_TERM':\n      if (newState && newState.output) {\n        return {\n          ...filter(newState.output, action.searchTerm),\n          searchTerm: action.searchTerm,\n          selectedTab: 'RawJson',\n        } as const\n      }\n      break\n    default:\n      if (newState && newState.output) {\n        return computeOutput(\n          newState.output,\n          newState.source && newState.source.text ? newState.source.text : '',\n          newState.query && newState.query.text ? newState.query.text : '',\n          action,\n          newState.query && newState.query.mode ? newState.query.mode : 'SQL'\n        )\n      }\n      break\n  }\n  return {}\n}\n\nexport const containsTerm = (src: any | any[] | null, searchTerm: string) => {\n  if (typeof src !== 'string' && typeof src !== 'object') {\n    return { match: false, filteredObj: src }\n  }\n\n  if (typeof src === 'string') {\n    if (containsIgnoreCase(src, searchTerm)) {\n      return { match: true, filteredObj: src }\n    }\n    return { match: false, filteredObj: src }\n  }\n  const obj: { [key: string]: any } = Array.isArray(src) ? [...src] : { ...src }\n\n  const keys = Array.isArray(obj)\n    ? Array.from({ length: obj.length }, (_, k) => k)\n    : Object.getOwnPropertyNames(obj).filter(propertyName => propertyName)\n\n  let result = false\n\n  for (const propertyName of keys) {\n    const propertyNameContains = typeof propertyName === 'string' && containsIgnoreCase(propertyName, searchTerm)\n    if (propertyNameContains) {\n      result = true\n      continue\n    }\n    const child = obj[propertyName]\n    const { match, filteredObj } = containsTerm(child, searchTerm)\n    if (propertyNameContains || match) {\n      result = true\n      obj[propertyName] = filteredObj\n    } else {\n      if (Array.isArray(obj) && typeof propertyName === 'number') {\n        obj.splice(propertyName, 1)\n      } else {\n        delete obj[propertyName]\n      }\n    }\n  }\n  if (!result) {\n    if (!Array.isArray(obj)) {\n      ;(keys as string[]).forEach((propertyName: string) => delete obj[propertyName])\n    } else {\n      obj.length = 0\n    }\n  }\n  return { match: result, filteredObj: obj }\n}\n\nconst filter = (state: OupoutState, searchTerm: string) => {\n  if (!searchTerm || searchTerm.trim() === '' || !state) {\n    return { ...state, match: false }\n  }\n  const { filteredObj, match } = containsTerm(state.obj, searchTerm)\n  if (match) {\n    return { ...state, obj: filteredObj, match }\n  }\n\n  return state\n}\n\nexport const table = (state: OupoutTableState | undefined, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_TABLE_COLUMNS':\n      let groupByList = state && state.groupBy ? state.groupBy : []\n      groupByList.forEach(groupBy => {\n        if (action.columns.indexOf(groupBy) === -1) {\n          groupByList = groupByList.filter(gb => action.columns.indexOf(gb) !== -1)\n        }\n      })\n      return {\n        ...state,\n        displayedColumns: action.columns,\n        groupBy: groupByList,\n      }\n    case 'UPDATE_TABLE_GROUP_BY':\n      return {\n        ...state,\n        groupBy: action.groupBy\n          .filter(gb => state && state.displayedColumns && state.displayedColumns.indexOf(gb) !== -1)\n          .filter(gb => gb !== 'Group by...'),\n      }\n    default:\n      return state\n  }\n}\n\nexport const rootReducerReset = (state = getDefaultAppState(), action: Action) => {\n  if (action.type === 'RESET_EDITOR') {\n    return rootReducer({ ...getDefaultAppState() }, action)\n  }\n  return rootReducer(state, action)\n}\nconst rootReducers = combineReducers({\n  app: undoable(rootReducerReset, { undoType: 'APP_UNDO', redoType: 'APP_REDO' }),\n  userSettings,\n})\nexport default rootReducers\n","import { AppState, UserSettingsState, getDefaultAppState, getDefaultUserSettingsState } from 'state/State'\nimport { logError } from 'core/logging/logger'\nimport lodash from 'lodash'\nimport { toast } from 'react-toastify'\nimport { prettyPrintBytes } from 'core/converters/string'\n\nexport const persistAppState = (appstate: AppState) => {\n  persist('keyrier-json.app.state', appstate)\n}\n\nexport const persistUserSettings = (userSettings: UserSettingsState) => {\n  persist('keyrier-json.user.settings', userSettings)\n}\n\nexport const getUserSettings = () => load('keyrier-json.user.settings') as UserSettingsState\nexport const getAppState = () => load('keyrier-json.app.state') as AppState\n\ntype StorageKey = 'keyrier-json.app.state' | 'keyrier-json.user.settings'\n\nconst persist = (key: StorageKey, value: object | undefined) => {\n  const storage = getStorage()\n  if (!storage) {\n    toast.warn(\"Browser does'nt support required storage\")\n    return\n  }\n  const toBeSaved = JSON.stringify(value)\n  try {\n    storage.setItem(key, toBeSaved)\n  } catch (error) {\n    toast.warn(`Error while saving ${key} to storage. size: ${prettyPrintBytes(toBeSaved.length)}`)\n  }\n}\n\nconst loadFromStorage = (key: StorageKey) => {\n  const storage = getStorage()\n  if (storage) {\n    return storage.getItem(key)\n  }\n  return null\n}\n\nconst getDefault = (key: StorageKey) => {\n  switch (key) {\n    case 'keyrier-json.app.state':\n      return getDefaultAppState()\n    case 'keyrier-json.user.settings':\n      return getDefaultUserSettingsState()\n    default:\n      throw new Error(`no defaul value for ${key}`)\n  }\n}\n\nconst load = (key: StorageKey) => {\n  let state = getDefault(key)\n  try {\n    const savedStateString = loadFromStorage(key)\n    if (savedStateString) {\n      state = JSON.parse(savedStateString)\n      state = lodash.merge({}, state)\n    }\n  } catch (error) {\n    logError(error)\n  }\n\n  return state\n}\n\nconst getStorage = () => {\n  if (window.localStorage) {\n    return window.localStorage\n  }\n  if (window.sessionStorage) {\n    return window.sessionStorage\n  }\n  return null\n}\n","import { createStore, compose } from 'redux'\nimport rootReducers from 'reducers/reducers'\nimport { persistAppState, persistUserSettings, getAppState, getUserSettings } from './persistence'\n\nexport const configureStore = () => {\n  const appState = getAppState()\n  const userSettingsState = getUserSettings()\n\n  const composeEnhancers =\n    typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose\n\n  const store = createStore(\n    rootReducers,\n    {\n      app: {\n        past: [],\n        present: appState,\n        future: [],\n        _latestUnfiltered: appState,\n        group: undefined,\n        index: undefined,\n        limit: undefined,\n      },\n      userSettings: userSettingsState,\n    },\n    composeEnhancers()\n  )\n\n  store.subscribe(() => {\n    persistAppState(store.getState().app.present)\n    persistUserSettings(store.getState().userSettings)\n  })\n\n  return store\n}\n","import { logError } from 'core/logging/logger'\n\nexport const themeDeps = new Map([\n  [\n    'materia' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/materia\" */ 'bootswatch/dist/materia/bootstrap.min.css'),\n  ],\n  [\n    'darkly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/darkly\" */ 'bootswatch/dist/darkly/bootstrap.min.css'),\n  ],\n  [\n    'sandstone' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/sandstone\" */ 'bootswatch/dist/sandstone/bootstrap.min.css'),\n  ],\n  [\n    'cosmo' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cosmo\" */ 'bootswatch/dist/cosmo/bootstrap.min.css'),\n  ],\n  [\n    'cyborg' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cyborg\" */ 'bootswatch/dist/cyborg/bootstrap.min.css'),\n  ],\n  [\n    'flatly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/flatly\" */ 'bootswatch/dist/flatly/bootstrap.min.css'),\n  ],\n  [\n    'journal' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/journal\" */ 'bootswatch/dist/journal/bootstrap.min.css'),\n  ],\n  [\n    'litera' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/litera\" */ 'bootswatch/dist/litera/bootstrap.min.css'),\n  ],\n  [\n    'lumen' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/lumen\" */ 'bootswatch/dist/lumen/bootstrap.min.css'),\n  ],\n  ['lux' as const, () => import(/* webpackChunkName: \"bootswatch/dist/lux\" */ 'bootswatch/dist/lux/bootstrap.min.css')],\n  [\n    'minty' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/minty\" */ 'bootswatch/dist/minty/bootstrap.min.css'),\n  ],\n  [\n    'pulse' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/pulse\" */ 'bootswatch/dist/pulse/bootstrap.min.css'),\n  ],\n  [\n    'simplex' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/simplex\" */ 'bootswatch/dist/simplex/bootstrap.min.css'),\n  ],\n  [\n    'slate' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/slate\" */ 'bootswatch/dist/slate/bootstrap.min.css'),\n  ],\n  [\n    'solar' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/solar\" */ 'bootswatch/dist/solar/bootstrap.min.css'),\n  ],\n  [\n    'spacelab' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/spacelab\" */ 'bootswatch/dist/spacelab/bootstrap.min.css'),\n  ],\n  [\n    'superhero' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/superhero\" */ 'bootswatch/dist/superhero/bootstrap.min.css'),\n  ],\n  [\n    'united' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/united\" */ 'bootswatch/dist/united/bootstrap.min.css'),\n  ],\n  [\n    'yeti' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/yeti\" */ 'bootswatch/dist/yeti/bootstrap.min.css'),\n  ],\n])\n\nexport const importThemeStyleCustom = (theme: GeneralTheme | null) => {\n  if (theme) {\n    const themeLoader = themeDeps.get(theme)\n    if (themeLoader) {\n      return themeLoader()\n    }\n  }\n\n  logError(`${theme}: theme is not defined`)\n\n  return themeDeps\n    .values()\n    .next()\n    .value()\n}\n\nexport const availableGeneralThemes = [\n  'materia',\n  'darkly',\n  'sandstone',\n  'cosmo',\n  'cyborg',\n  'flatly',\n  'journal',\n  'litera',\n  'lumen',\n  'lux',\n  'minty',\n  'pulse',\n  'simplex',\n  'slate',\n  'solar',\n  'spacelab',\n  'superhero',\n  'united',\n  'yeti',\n] as const\nexport type GeneralTheme = typeof availableGeneralThemes[number]\n\nexport const availableEditorThemes = ['github', 'monokai', 'tomorrow', 'solarized_dark', 'terminal'] as const\nexport type EditorTheme = typeof availableEditorThemes[number]\n","import * as React from 'react'\nimport { version } from '../../package.json'\nimport { GeneralTheme, availableGeneralThemes, availableEditorThemes, EditorTheme } from 'themes/themes'\nimport { switchTheme, switchEditorTheme } from 'actions/actions'\nimport { connect } from 'react-redux'\nimport { getTheme, getEditorTheme } from 'store/selectors'\nimport { RootState } from 'state/State'\nimport { useToggleState } from 'hooks/hooks'\nimport {\n  Navbar,\n  NavbarBrand,\n  NavbarToggler,\n  Collapse,\n  Nav,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  NavItem,\n  NavLink,\n  Dropdown,\n} from 'reactstrap'\nimport { withErrorBoundary } from './common/ErrorBoundary'\nimport { memo, useCallback, FC } from 'react'\n\ninterface Props {\n  setGeneralTheme: typeof switchTheme\n  setEditorTheme: typeof switchEditorTheme\n  currentTheme: GeneralTheme | null\n  currentEditorTheme: EditorTheme\n}\n\nconst Header: FC<Props> = ({ setGeneralTheme, currentTheme, setEditorTheme, currentEditorTheme }) => {\n  const [isOpen, switchIsOpen] = useToggleState()\n  const [dropDownIsOpen, toggleDropdown] = useToggleState()\n\n  return (\n    <>\n      <Navbar color=\"dark\" dark={true} expand=\"md\">\n        <NavbarBrand href=\"/\">Keyrier JSON</NavbarBrand>\n        <NavbarToggler onClick={switchIsOpen} />\n        <Collapse isOpen={isOpen} navbar={true}>\n          <Nav className=\"ml-auto\" navbar={true}>\n            <Dropdown isOpen={dropDownIsOpen} toggle={toggleDropdown}>\n              <DropdownToggle nav={true} caret={true}>\n                Theme\n              </DropdownToggle>\n              <DropdownMenu right={true}>\n                <DropdownItem header={true}>Choose editor theme</DropdownItem>\n                {availableEditorThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setEditorTheme}\n                    key={index}\n                    active={currentEditorTheme === theme}\n                    theme={theme}\n                    reloadOnChange={false}\n                  />\n                ))}\n                <DropdownItem header={true}>Choose general theme</DropdownItem>\n\n                {availableGeneralThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setGeneralTheme}\n                    key={index}\n                    active={currentTheme === theme}\n                    theme={theme}\n                    reloadOnChange={true}\n                  />\n                ))}\n              </DropdownMenu>\n            </Dropdown>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json/releases/latest\">v{version}</NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json\">GitHub</NavLink>\n            </NavItem>\n          </Nav>\n        </Collapse>\n      </Navbar>\n    </>\n  )\n}\n\ntype ThemeDropDownItemProps<T extends GeneralTheme | EditorTheme> = {\n  theme: T\n  active: boolean\n  setTheme: (v: T) => void\n  reloadOnChange: boolean\n}\n\nconst ThemeDropDownItem = <T extends GeneralTheme | EditorTheme>(props: ThemeDropDownItemProps<T>) => {\n  const { theme, active, setTheme, reloadOnChange } = props\n  const onClick = useCallback(() => {\n    setTheme(theme)\n    if (reloadOnChange) {\n      setTimeout(() => window.location.reload())\n    }\n  }, [theme, setTheme, reloadOnChange])\n  return (\n    <DropdownItem active={active} onClick={onClick}>\n      {theme}\n    </DropdownItem>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  currentTheme: getTheme(state),\n  currentEditorTheme: getEditorTheme(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  { setGeneralTheme: switchTheme, setEditorTheme: switchEditorTheme }\n)(memo(withErrorBoundary(Header)))\n","import * as React from 'react'\nimport { Button } from 'reactstrap'\nimport { memo, useCallback, ChangeEvent, FC } from 'react'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\ninterface Props {\n  header: [string, string]\n  id: number\n  onChange: (h: [string, string]) => void\n  onRemove: (h: [string, string]) => void\n}\n\nexport const RenderHeaderInput: FC<Props> = memo(\n  withErrorBoundary(({ header, onRemove, onChange, id }) => {\n    const [key, value] = header\n\n    const onKeyChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange([e.target.value, value]), [\n      onChange,\n      value,\n    ])\n    const onValueChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange([key, e.target.value]), [\n      onChange,\n      key,\n    ])\n    const onRemoveCallback = useCallback(() => onRemove(header), [onRemove, header])\n\n    return (\n      <div className=\"row align-items-center\">\n        <div className=\"col-sm-5\">\n          <input\n            className=\"form-control-lg form-control\"\n            value={key}\n            id={`headerName${id}`}\n            type=\"text\"\n            name={`headerName${id}`}\n            placeholder=\"enter an name\"\n            onChange={onKeyChange}\n          />\n        </div>\n        <div className=\"col-sm-5\">\n          <input\n            className=\"form-control-lg form-control\"\n            value={value}\n            type=\"text\"\n            name={`headerValue${id}`}\n            id={`headerValue${id}`}\n            placeholder=\"enter an value\"\n            onChange={onValueChange}\n          />\n        </div>\n        <div className=\"col-sm-2\">\n          <Button outline={true} color=\"danger\" onClick={onRemoveCallback}>\n            remove\n          </Button>\n        </div>\n      </div>\n    )\n  })\n)\n","import * as React from 'react'\nimport { logError } from 'core/logging/logger'\nimport { connect } from 'react-redux'\nimport { updateSource } from 'actions/actions'\nimport { customToString } from 'core/converters/string'\nimport { RenderHeaderInput } from './RequestHeader'\nimport { useState, memo, useCallback, FC } from 'react'\nimport { Alert, FormGroup, Form, Button } from 'reactstrap'\nimport { useToggleState, useChangeEventState } from 'hooks/hooks'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\n\ninterface Props {\n  onFinish: () => void\n  setSource: (src: string) => void\n}\n\nconst HttpRequestSource: FC<Props> = ({ onFinish, setSource }) => {\n  const [method, setMethod] = useChangeEventState('GET')\n  const [url, setUrl] = useChangeEventState('https://rickandmortyapi.com/api/character/')\n  const [body, setBody] = useChangeEventState('')\n  const [headers, setHeaders] = useState([['Accept', 'application/json'] as [string, string]])\n  const [error, setError] = useState(null as TypeError | null)\n  const [hasBody, setHasBody] = useToggleState()\n\n  const submit = useCallback(async () => {\n    const requestInit: RequestInit = {\n      method,\n      headers,\n      body: hasBody ? body : null,\n    }\n    const request = new Request(url, requestInit)\n    setError(null)\n\n    let json: string\n    try {\n      const result = await fetch(request)\n      json = await result.json()\n    } catch (e) {\n      logError('HttpRequestSource.submit', e)\n      setError(e)\n      return\n    }\n    setSource(customToString(json))\n    onFinish()\n  }, [method, url, body, headers, hasBody, setError, setSource, onFinish])\n\n  return (\n    <div id=\"HttpRequestSource\">\n      <FormGroup>\n        <label htmlFor=\"requestMethod\">Method</label>\n        <select\n          className=\"form-control-lg form-control\"\n          defaultValue={method}\n          name=\"requestMethod\"\n          id=\"requestMethod\"\n          onChange={setMethod}\n        >\n          <option>GET</option>\n          <option>POST</option>\n          <option>PUT</option>\n          <option>OPTIONS</option>\n        </select>\n      </FormGroup>\n      <FormGroup>\n        <label htmlFor=\"requestUrl\">Request URL</label>\n        <input\n          defaultValue={url}\n          className=\"form-control-lg form-control\"\n          type=\"url\"\n          name=\"requestUrl\"\n          id=\"requestUrl\"\n          placeholder=\"enter an URL\"\n          onChange={setUrl}\n        />\n      </FormGroup>\n      <div className=\"position-relative form-check\">\n        <label className=\"form-check-label\">\n          <input type=\"checkbox\" className=\"form-check-input\" onChange={setHasBody} /> Add body\n        </label>\n      </div>\n      <Form inline={true} hidden={!hasBody}>\n        <FormGroup>\n          <label>Body</label>\n          <input className=\"form-control-lg form-control\" type=\"textarea\" value={body} onChange={setBody} />{' '}\n        </FormGroup>\n      </Form>\n      <label htmlFor=\"headers\">Request headers</label>{' '}\n      <Button\n        outline={true}\n        color=\"primary\"\n        onClick={() => setHeaders([...headers, [`name-${headers.length + 1}`, 'value']])}\n      >\n        Add header\n      </Button>\n      <br />\n      <br />\n      <HeaderList headers={headers} onChange={setHeaders} />\n      <br />\n      <Button block={true} color=\"primary\" onClick={submit}>\n        Submit\n      </Button>\n      {error && (\n        <Alert color=\"danger\">\n          Error: {error.message ? error.message : ''}\n          {error.stack ? error.stack : ''}\n        </Alert>\n      )}\n    </div>\n  )\n}\n\ntype HeaderListProps = {\n  headers: Array<[string, string]>\n  onChange: (headers: Array<[string, string]>) => void\n}\n\nconst HeaderList: FC<HeaderListProps> = ({ headers, onChange }) => {\n  const onRemove = useCallback((header: [string, string]) => onChange(headers.filter(h => h !== header)), [\n    headers,\n    onChange,\n  ])\n  const onChangeCallback = useCallback(\n    (header: [string, string]) => {\n      const index = headers.indexOf(header)\n      headers[index] = { ...header }\n      onChange([...headers])\n    },\n    [headers, onChange]\n  )\n  return (\n    <>\n      {headers.map((header, index) => (\n        <RenderHeaderInput header={header} key={index} id={index} onChange={onChangeCallback} onRemove={onRemove} />\n      ))}\n    </>\n  )\n}\n\nexport default connect(\n  null,\n  { setSource: updateSource }\n)(withErrorBoundary(memo(HttpRequestSource)))\n","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport {\n  updateSource,\n  resetEditor,\n  clearEditor,\n  updateAutoFormatSource,\n  undo,\n  redo,\n  updateQueryMode,\n} from 'actions/actions'\nimport HttpRequestSource from './source/RequestSource'\nimport { logInfo } from 'core/logging/logger'\nimport { useToggleState } from 'hooks/hooks'\nimport {\n  ButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  ButtonGroup,\n  Label,\n} from 'reactstrap'\nimport { memo, useCallback, FC, ChangeEvent } from 'react'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\nimport { getSourceAutoFormat, getCanUndo, getCanRedo, getQueryMode } from 'store/selectors'\nimport { RootState, QueryMode } from 'state/State'\n\ninterface Props {\n  onFileContentReady: typeof updateSource\n  changeAutoFormat: typeof updateAutoFormatSource\n  onReset: typeof resetEditor\n  onClear: typeof clearEditor\n  setQueryMode: typeof updateQueryMode\n  mode: QueryMode\n  onUndo: typeof undo\n  onRedo: typeof redo\n  canRedo: boolean\n  canUndo: boolean\n  autoFormat: boolean\n}\n\nconst LateralMenu: FC<Props> = ({\n  onReset,\n  onFileContentReady,\n  onClear,\n  autoFormat,\n  changeAutoFormat,\n  onRedo,\n  onUndo,\n  canRedo,\n  canUndo,\n  setQueryMode,\n  mode,\n}) => {\n  const [dropdownIsOpen, toggleDropdown] = useToggleState()\n  const [modalIsOpen, toggleModal] = useToggleState()\n  const [modeOpen, switchModeOpen] = useToggleState()\n  const setJsMode = useCallback(() => setQueryMode('Javascript'), [setQueryMode])\n  const setSqlMode = useCallback(() => setQueryMode('SQL'), [setQueryMode])\n  const handleFileChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      logInfo('onFileChange')\n      toggleDropdown()\n      if (e.target.files && e.target.files.length > 0) {\n        const fileReader = new FileReader()\n        logInfo('e.target.files', e.target.files[0].name)\n        fileReader.onload = () => {\n          if (fileReader.result) {\n            onFileContentReady(fileReader.result.toString())\n          }\n        }\n        fileReader.readAsText(e.target.files[0])\n      }\n    },\n    [toggleDropdown, onFileContentReady]\n  )\n\n  const handleAutoFormatChange = useCallback(() => changeAutoFormat(!autoFormat), [changeAutoFormat, autoFormat])\n\n  return (\n    <>\n      <ButtonGroup className=\"mt-5\" vertical={true}>\n        <ButtonGroup vertical={false}>\n          <Button\n            className=\"d-flex justify-content-center align-content-between\"\n            color=\"secondary\"\n            size={'sm'}\n            onClick={onUndo}\n            disabled={!canUndo}\n          >\n            <i className=\"material-icons mr-1 md-18\">undo</i>\n            <span>Undo</span>\n          </Button>\n          <Button\n            className=\"d-flex justify-content-center align-content-between\"\n            color=\"secondary\"\n            size={'sm'}\n            onClick={onRedo}\n            disabled={!canRedo}\n          >\n            Redo\n            <i className=\"material-icons mr-1 md-18\">redo</i>\n          </Button>\n        </ButtonGroup>\n        <br />\n        <br />\n        <Label\n          className=\"d-flex justify-content-center align-content-between\"\n          check={true}\n          onClick={handleAutoFormatChange}\n        >\n          <i className=\"material-icons mr-1\">{autoFormat ? 'check_box' : 'check_box_outline_blank'}</i>\n          Auto format\n        </Label>\n        <br />\n        <ButtonDropdown isOpen={dropdownIsOpen} toggle={toggleDropdown}>\n          <DropdownToggle\n            className=\"d-flex justify-content-center align-content-between\"\n            size={'lg'}\n            id=\"import-menu-button\"\n            color=\"primary\"\n          >\n            <i className=\"material-icons mr-1 md-18\">unarchive</i>\n            Import\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem toggle={false}>\n              <label id=\"import-file\">\n                Browse JSON file...\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"sourceFile\"\n                  style={{ display: 'none' }}\n                  onChange={handleFileChange}\n                />\n              </label>\n            </DropdownItem>\n            <DropdownItem id=\"http-request\" onClick={toggleModal}>\n              <label>HTTP request</label>\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <br />\n        <br />\n        <Button\n          className=\"d-flex justify-content-center align-content-between\"\n          color=\"secondary\"\n          size={'lg'}\n          onClick={onReset}\n        >\n          <div>\n            <i className=\"material-icons md-18 mr-1\">autorenew</i>\n          </div>\n          <div>Reset</div>\n        </Button>\n        <br />\n\n        <ButtonDropdown isOpen={modeOpen} toggle={switchModeOpen}>\n          <DropdownToggle className=\"d-flex justify-content-center align-content-between\" size={'lg'} color=\"secondary\">\n            <div>\n              <i className=\"material-icons md-18 mr-1\">settings</i>\n            </div>\n            <div>Mode</div>\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem header={true}>Choose query mode</DropdownItem>\n            <DropdownItem active={mode === 'Javascript'} onClick={setJsMode}>\n              Javascript\n            </DropdownItem>\n            <DropdownItem active={mode === 'SQL'} onClick={setSqlMode}>\n              SQL like (experimental)\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <br />\n        <Button\n          className=\"d-flex justify-content-center align-content-between\"\n          color=\"danger\"\n          size={'lg'}\n          onClick={onClear}\n        >\n          <div>\n            <i className=\"material-icons md-18  mr-1\">clear</i>\n          </div>\n          <div>Clear</div>\n        </Button>\n      </ButtonGroup>\n      <Modal id=\"requestModal\" role=\"dialog\" size=\"lg\" isOpen={modalIsOpen} toggle={toggleModal}>\n        <ModalHeader toggle={toggleModal}>Import JSON from an HTTP request</ModalHeader>\n        <ModalBody>\n          <HttpRequestSource onFinish={toggleModal} />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleModal}>\n            Cancel\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  autoFormat: getSourceAutoFormat(state),\n  canUndo: getCanUndo(state),\n  canRedo: getCanRedo(state),\n  mode: getQueryMode(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    onFileContentReady: updateSource,\n    onReset: resetEditor,\n    onClear: clearEditor,\n    onUndo: undo,\n    onRedo: redo,\n    changeAutoFormat: updateAutoFormatSource,\n    setQueryMode: updateQueryMode,\n  }\n)(memo(withErrorBoundary(LateralMenu)))\n","import * as React from 'react'\nimport Header from './Header'\nimport { ToastContainer } from 'react-toastify'\nimport { lazy, Suspense } from 'react'\nimport LateralMenu from './LateralMenu'\nconst SourceEditor = lazy(() => import(/* webpackChunkName: \"SourceEditor\" */ 'components/source/SourceEditor'))\nconst Output = lazy(() => import(/* webpackChunkName: \"Output\" */ 'components/output/Output'))\nconst QueryEditor = lazy(() => import(/* webpackChunkName: \"QueryEditor\" */ 'components/query/QueryEditor'))\n\nexport const App = () => (\n  <>\n    <Header />\n    <div className=\"container\">\n      <h1 className=\"my-5\">Paste your JSON and Query it.</h1>\n      <div className=\"row\">\n        <div className=\"col-sm-2\">\n          <LateralMenu />\n        </div>\n        <div className=\"col-sm-10\">\n          <Suspense fallback={'loading...'}>\n            <SourceEditor />\n          </Suspense>\n          <div className=\"my-5\">\n            <Suspense fallback={'loading...'}>\n              <QueryEditor />\n            </Suspense>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <Suspense fallback={'loading...'}>\n            <Output />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n    <ToastContainer />\n  </>\n)\n\nexport default App\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL!, window.location.toString())\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.')\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.')\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type')!.indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { Provider } from 'react-redux'\nimport './index.scss'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport { configureStore } from 'store/store'\nimport * as React from 'react'\nimport { getTheme } from 'store/selectors'\nimport { importThemeStyleCustom } from 'themes/themes'\nimport App from 'components/App'\nimport { unregister } from 'registerServiceWorker'\n;(async () => {\n  const store = configureStore()\n\n  const promises = await Promise.all([\n    import(/* webpackChunkName: \"react-dom\" */ 'react-dom'),\n    importThemeStyleCustom(getTheme(store.getState())),\n  ])\n\n  const ReactDOM = promises[0]\n\n  const Concurrent = (React as any).unstable_ConcurrentMode\n  const root = (ReactDOM as any).unstable_createRoot(document.getElementById('root'))\n  root.render(\n    <Concurrent>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Concurrent>\n  )\n\n  unregister()\n})()\n"],"sourceRoot":""}