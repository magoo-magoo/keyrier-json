{"version":3,"sources":["core/logging/logger.ts","store/selectors.ts","core/converters/string.ts","actions/actions.ts","hooks/hooks.ts","components/common/ErrorBoundary.tsx","models/array.ts","core/converters/json.ts","core/interpreters/sql.ts","core/interpreters/code.ts","state/State.ts","reducers/reducers.ts","store/persistence.ts","store/store.ts","themes/themes.ts","components/Header.tsx","components/App.tsx","index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","logError","logInfo","error","payload","console","message","info","getOutputErrorMessage","state","app","output","errorMessage","getOutputIsArray","table","isArray","getOutputActiveTab","selectedTab","getOutputObject","obj","getOutputObjectSize","objSize","getOutputSearchTerm","searchTerm","getOutputSearchMatch","match","getisOutputTableModalOpen","isModalOpen","getTheme","userSettings","globalTheme","getEditorTheme","editorTheme","getdisplayedColumns","Object","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","displayedColumns","getOutputarray","Array","getColumns","columns","getGroupBy","groupBy","getQueryText","query","text","getQueryMode","mode","getSourceText","source","getSourceAutoFormat","autoFormat","customToString","containsIgnoreCase","prettyPrintBytes","map","e","join","JSON","stringify","undefined","toString","str","part","toLocaleLowerCase","includes","UNITS","toLocaleString","value","locale","arguments","length","result","signed","Number","isFinite","TypeError","concat","isNegative","prefix","exponent","Math","min","floor","log10","pow","toPrecision","updateAutoFormatSource","updateSource","updateQuery","resetEditor","clearEditor","toggleOutputTableModal","updateTableColumns","updateTableGroupBy","switchTheme","switchEditorTheme","updateSearchTerm","updateQueryMode","updateOutputTabSelection","active","type","theme","tab","useToggleState","initial","_useState","useState","_useState2","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setValue","useChangeEventState","initialValue","_useState3","_useState4","useCallback","event","target","ErrorBoundary","_this2","this","setState","Error","notify","children","props","react__WEBPACK_IMPORTED_MODULE_5__","toast","position","hideProgressBar","autoClose","Component","withErrorBoundary","Wrapped","arrayElementName","jsonBeautify","trim","parsed","jsonParseSafe","safeStr","replace","parse","v","fields","constructor","nodes","Star","x","mapObject","executeQuery","sqlTree","sourceDataObject","fromPath","name","values","toConsumableArray","shift","_","chain","get","filter","where","conditions","leftValue","left","rightValue","right","operation","compareOperands","orderBy","order","orderings","direction","take","limit","toLowerCase","path","newPath","computePath","startsWith","endsWith","substring","indexOf","mapped","temp","forEach","field","val","index","alias","key","value2","codeEvaluation","sourceString","queryString","jsEvaluation","sqlEvaluation","window","lodash","code","evaluatedQuery","eval","apply","getDefaultAppState","initialStateJson","emptyState","rootReducer","rootState","action","newState","objectSpread","newOutputState","computeOutput","previousState","outputObject","keyMap","is","keys","sort","ax","b","localeCompare","_containsTerm2","containsTerm","src","filteredObj","from","k","getOwnPropertyNames","propertyName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","propertyNameContains","_containsTerm","splice","err","return","groupByList","gb","rootReducers","combineReducers","persist","storage","getStorage","toBeSaved","setItem","warn","load","getDefault","savedStateString","getItem","loadFromStorage","merge","localStorage","sessionStorage","configureStore","appState","userSettingsState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","subscribe","appstate","getState","themeDeps","Map","then","t","bind","importThemeStyleCustom","themeLoader","availableGeneralThemes","availableEditorThemes","ThemeDropDownItem","setTheme","reloadOnChange","onClick","setTimeout","location","reload","react","DropdownItem","connect","currentTheme","currentEditorTheme","setGeneralTheme","setEditorTheme","memo","_ref","_useToggleState","_useToggleState2","slicedToArray","isOpen","switchIsOpen","_useToggleState3","_useToggleState4","dropDownIsOpen","toggleDropdown","Navbar","color","dark","expand","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","className","Dropdown","toggle","DropdownToggle","nav","caret","DropdownMenu","header","Header_ThemeDropDownItem","NavItem","NavLink","version","SourceEditor","lazy","Promise","all","Output","QueryEditor","App","components_Header","fallback","react_toastify","asyncToGenerator","regenerator_default","a","mark","_callee","promises","ReactDOM","Concurrent","wrap","_context","prev","resolve","sent","React","unstable_createRoot","document","getElementById","render","es","components_App","stop"],"mappings":"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","file":"static/js/main.3a7eb142.chunk.js","sourcesContent":["// tslint:disable:no-console\n\nexport const logError = (error: string | Error, payload?: any) => {\n  console.error('Keyrier error', error)\n  if (typeof payload !== 'undefined') {\n    console.error(payload)\n  }\n}\n\nexport const logWarning = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.warn(message)\n  }\n  console.warn(message, payload)\n}\n\nexport const logInfo = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.info(message)\n  }\n  console.info(message, payload)\n}\n","import { RootState } from 'state/State'\n\nexport const getOutputErrorMessage = (state: RootState) => state.app.output.errorMessage\n\nexport const getOutputIsArray = (state: RootState) => state.app.output.table.isArray\nexport const getOutputActiveTab = (state: RootState) => state.app.output.selectedTab\nexport const getOutputObject = (state: RootState) => state.app.output.obj\nexport const getOutputObjectSize = (state: RootState) => state.app.output.objSize\nexport const getOutputSearchTerm = (state: RootState) => state.app.output.searchTerm\nexport const getOutputSearchMatch = (state: RootState) => state.app.output.match\nexport const getisOutputTableModalOpen = (state: RootState) => state.app.output.table.isModalOpen\n\nexport const getTheme = (state: RootState) => state.userSettings.globalTheme\nexport const getEditorTheme = (state: RootState) => state.userSettings.editorTheme\n\nexport const getdisplayedColumns = (state: RootState) => [...state.app.output.table.displayedColumns]\nexport const getOutputarray = (state: RootState) =>\n  Array.isArray(state.app.output.obj) ? [...state.app.output.obj] : []\nexport const getColumns = (state: RootState) => [...state.app.output.table.columns]\nexport const getGroupBy = (state: RootState) => [...state.app.output.table.groupBy]\n\nexport const getQueryText = (state: RootState) => state.app.query.text\nexport const getQueryMode = (state: RootState) => state.app.query.mode\n\nexport const getSourceText = (state: RootState) => state.app.source.text\nexport const getSourceAutoFormat = (state: RootState) => state.app.source.autoFormat\n","export const customToString = (obj: {}): string => {\n  if (Array.isArray(obj)) {\n    const array: any[] = obj\n    return array.map(e => customToString(e)).join(',')\n  }\n  if (typeof obj === 'object') {\n    return JSON.stringify(obj)\n  }\n  if (typeof obj === 'undefined') {\n    return ''\n  }\n  if (obj !== null && obj !== undefined) {\n    return obj.toString()\n  }\n\n  return ''\n}\n\nexport const containsIgnoreCase = (str: string, part: string) => {\n  if (!str || !part) {\n    return false\n  }\n  if (str.toLocaleLowerCase().includes(part.toLocaleLowerCase())) {\n    return true\n  }\n\n  return false\n}\n\nconst UNITS = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\nconst toLocaleString = (value: number, locale: boolean | string = false) => {\n  let result = value.toString()\n  if (typeof locale === 'string') {\n    result = value.toLocaleString(locale)\n  } else if (locale === true) {\n    result = value.toLocaleString()\n  }\n\n  return result\n}\n\nexport const prettyPrintBytes = (value: number, signed = false, locale: boolean | string = false) => {\n  if (!Number.isFinite(value)) {\n    throw new TypeError(`Expected a finite number, got ${typeof value}: ${value}`)\n  }\n  if (value === 0) {\n    return '0 B'\n  }\n  const isNegative = value < 0\n  const prefix = isNegative ? '-' : signed ? '+' : ''\n  if (isNegative) {\n    value = -value\n  }\n  if (value < 1) {\n    const numberStr = toLocaleString(value, locale ? locale : false)\n    return prefix + numberStr + ' B'\n  }\n  const exponent = Math.min(Math.floor(Math.log10(value) / 3), UNITS.length - 1)\n  value = Number((value / Math.pow(1024, exponent)).toPrecision(3))\n  const numberString = toLocaleString(value, locale ? locale : false)\n  const unit = UNITS[exponent]\n  return prefix + numberString + ' ' + unit\n}\n","import { QueryMode, tabType } from 'state/State'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\n\nexport const updateAutoFormatSource = (active: boolean) =>\n  ({\n    active,\n    type: 'UPDATE_AUTOFORMAT_SOURCE',\n  } as const)\n\nexport const updateSource = (source: string) =>\n  ({\n    source,\n    type: 'UPDATE_SOURCE_TEXT',\n  } as const)\n\nexport const updateQuery = (query: string) =>\n  ({\n    query,\n    type: 'UPDATE_QUERY',\n  } as const)\n\nexport const resetEditor = () =>\n  ({\n    type: 'RESET_EDITOR',\n  } as const)\n\nexport const clearEditor = () =>\n  ({\n    type: 'CLEAR_EDITOR',\n  } as const)\n\nexport const evaluateCode = () =>\n  ({\n    type: 'EVALUATE_CODE',\n  } as const)\n\nexport const toggleOutputTableModal = () =>\n  ({\n    type: 'TOGGLE_OUTPUT_TABLE_MODAL',\n  } as const)\n\nexport const updateTableColumns = (columns: string[]) =>\n  ({\n    columns,\n    type: 'UPDATE_TABLE_COLUMNS',\n  } as const)\n\nexport const updateTableGroupBy = (groupBy: string[]) =>\n  ({\n    groupBy,\n    type: 'UPDATE_TABLE_GROUP_BY',\n  } as const)\n\nexport const switchTheme = (theme: GeneralTheme) => ({\n  theme,\n  type: 'SWITCH_GLOBAL_THEME' as const,\n})\n\nexport const switchEditorTheme = (theme: EditorTheme) => ({\n  theme,\n  type: 'SWITCH_EDITOR_THEME' as const,\n})\n\nexport const updateSearchTerm = (searchTerm: string) =>\n  ({\n    searchTerm,\n    type: 'UPDATE_OUTPUT_SEARCH_TERM',\n  } as const)\n\nexport const updateQueryMode = (mode: QueryMode) =>\n  ({\n    mode,\n    type: 'UPDATE_QUERY_MODE',\n  } as const)\n\nexport const updateOutputTabSelection = (tab: tabType) =>\n  ({\n    tab,\n    type: 'UPDATE_OUTPUT_TAB_SELECTION',\n  } as const)\n\ntype ReduxInitAction = {\n  type: '@@INIT'\n}\n\nexport type Action =\n  | Readonly<ReduxInitAction>\n  | ReturnType<typeof evaluateCode>\n  | ReturnType<typeof resetEditor>\n  | ReturnType<typeof clearEditor>\n  | ReturnType<typeof updateQuery>\n  | ReturnType<typeof toggleOutputTableModal>\n  | ReturnType<typeof updateTableColumns>\n  | ReturnType<typeof updateTableGroupBy>\n  | ReturnType<typeof switchTheme>\n  | ReturnType<typeof updateSearchTerm>\n  | ReturnType<typeof updateQueryMode>\n  | ReturnType<typeof updateOutputTabSelection>\n  | ReturnType<typeof updateSource>\n  | ReturnType<typeof updateAutoFormatSource>\n  | ReturnType<typeof switchEditorTheme>\n","import { useState, useCallback, ChangeEvent } from 'react'\n\nexport const useToggleState = (initial: boolean = false): readonly [boolean, () => void] => {\n  const [value, setValue] = useState(initial)\n  return [value, () => setValue(!value)]\n}\n\ntype HtmlElementHookable = HTMLSelectElement | HTMLInputElement\n\nexport const useChangeEventState = (\n  initialValue: string\n): readonly [string, (e: ChangeEvent<HtmlElementHookable>) => void] => {\n  const [value, setValue] = useState(initialValue)\n\n  const eventHandler = useCallback(\n    (event: ChangeEvent<HtmlElementHookable>) => {\n      if (event && event.target) {\n        setValue(event.target.value)\n      }\n    },\n    [setValue]\n  )\n\n  return [value, eventHandler]\n}\n","import * as React from 'react'\nimport { logError } from 'core/logging/logger'\nimport { toast } from 'react-toastify'\nimport { Component, ComponentType } from 'react'\n\nconst MISSING_ERROR = 'Error was swallowed during propagation.'\n\ntype State = {\n  error?: Error\n}\n\nclass ErrorBoundary extends Component<{}, State> {\n  public readonly state: State = {\n    error: undefined,\n  }\n\n  public componentDidCatch(error: Error | null, info: object) {\n    this.setState({ error: error || new Error(MISSING_ERROR) }, () => this.notify(info))\n  }\n\n  public render() {\n    const { children } = this.props\n    const { error } = this.state\n\n    if (error) {\n      return <>An error occured</>\n    }\n\n    return children\n  }\n\n  private notify(info: object) {\n    logError('An error occured', this.state.error)\n    logError('error info:', info)\n    toast.error(JSON.stringify(info), { position: 'bottom-right', hideProgressBar: true, autoClose: false })\n  }\n}\n\nexport const withErrorBoundary = <T extends {}>(Wrapped: ComponentType<T>) => (props: T) => (\n  <ErrorBoundary>\n    <Wrapped {...props} />\n  </ErrorBoundary>\n)\n","export const arrayElementName = 'arrayElement'\n","import { logError } from 'core/logging/logger'\n\nexport const jsonBeautify = (str: string) => {\n  if (!str || str.trim() === '') {\n    return ''\n  }\n\n  const parsed = jsonParseSafe(str)\n  if (typeof parsed === 'string') {\n    return parsed\n  }\n\n  try {\n    return JSON.stringify(parsed, null, 2)\n  } catch (error) {\n    logError(error, str)\n  }\n  return str\n}\n\nexport const jsonParseSafe = (str: string) => {\n  if (!str || str.trim() === '') {\n    return null\n  }\n\n  const safeStr = str\n    .replace(/\\\\n/g, '\\\\n')\n    .replace(/\\\\'/g, \"\\\\'\")\n    .replace(/\\\\\"/g, '\\\\\"')\n    .replace(/\\\\&/g, '\\\\&')\n    .replace(/\\\\r/g, '\\\\r')\n    .replace(/\\\\t/g, '\\\\t')\n    .replace(/\\\\b/g, '\\\\b')\n    .replace(/\\\\f/g, '\\\\f')\n  // .replace(/[\\u0000-\\u0019]+/g, '')\n\n  try {\n    return JSON.parse(safeStr)\n  } catch (error) {\n    return str\n  }\n}\n","import _ from 'lodash'\nimport { parse, nodes, Op, Field, SQLTree, Source } from 'sql-parser'\nimport { jsonParseSafe } from '../converters/json'\n\nexport const computePath = (path: string[]) => {\n  if (!path || path.length === 0) {\n    return []\n  }\n  if (path[0] === 'data') {\n    const newPath = [...path]\n    newPath.shift()\n    return newPath\n  }\n\n  return path\n}\n\nexport const sqlEvaluation = (sourceString: string, queryString: string) => {\n  try {\n    const sqlTree = parse(queryString.replace(/--(.*?)(\\n|$)/gm, ''))\n    if (sqlTree.source.name.values[0] !== 'data') {\n      return new Error(`${sqlTree.source.name.values[0]} table does not exist`)\n    }\n\n    const sourceDataObject = jsonParseSafe(sourceString)\n\n    const result = executeQuery(sqlTree, sourceDataObject)\n\n    return JSON.stringify(result)\n  } catch (e) {\n    return e as Error\n  }\n}\n\nconst map = (v: object, fields: Field[], source: Source) => {\n  if (fields[0].constructor === nodes.Star) {\n    return v\n  }\n\n  if (Array.isArray(v)) {\n    return v.map(x => mapObject(fields, x, source))\n  }\n\n  return mapObject(fields, v, source)\n}\n\nconst executeQuery = (sqlTree: SQLTree, sourceDataObject: object) => {\n  let fromPath: string[] = []\n\n  if (sqlTree.source.name.values && sqlTree.source.name.values.length > 1) {\n    if (sqlTree.source.name.values[0] === 'data') {\n      fromPath = [...sqlTree.source.name.values]\n      fromPath.shift()\n    }\n  }\n\n  let result = _.chain(sourceDataObject)\n\n  if (fromPath && fromPath.length > 0) {\n    result = result.get(fromPath)\n  }\n  sourceDataObject = result.value()\n  if (_.isArray(sourceDataObject)) {\n    return result\n      .filter(v => {\n        if (!sqlTree.where || !sqlTree.where.conditions) {\n          return true\n        }\n        const leftValue = sqlTree.where.conditions.left\n        const rightValue = sqlTree.where.conditions.right\n        const operation = sqlTree.where.conditions.operation\n        return compareOperands(operation, leftValue, rightValue, v)\n      })\n      .orderBy(\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.value.value) : undefined,\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.direction) : undefined\n      )\n      .map(v => map(v, sqlTree.fields, sqlTree.source))\n      .take(\n        sqlTree.limit && typeof sqlTree.limit.value.value === 'number' ? sqlTree.limit.value.value : 999999999999999\n      )\n      .value()\n  } else {\n    return map(sourceDataObject, sqlTree.fields, sqlTree.source)\n  }\n}\n\nconst compareOperands = (operation: string | null, left: Op, right: Op, value: object): boolean => {\n  if (!operation) {\n    return false\n  }\n\n  if (operation.toLowerCase() === 'or') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) ||\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (operation.toLowerCase() === 'and') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) &&\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (!left.value) {\n    return false\n  }\n\n  const leftValue = _.get(value, computePath(left.values))\n\n  if (operation === '=' && leftValue === right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is' && leftValue === right.value) {\n    return true\n  }\n  if (operation === '!=' && leftValue !== right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is not' && leftValue !== right.value) {\n    return true\n  }\n  if (operation === '<>' && leftValue !== right.value) {\n    return true\n  }\n\n  if (operation.toLocaleLowerCase() === 'like' && typeof right.value === 'string' && typeof leftValue === 'string') {\n    if (right.value.startsWith('%') && right.value.endsWith('%')) {\n      if (leftValue.includes(right.value.substring(1, right.value.length - 1))) {\n        return true\n      }\n    } else if (right.value.startsWith('%')) {\n      if (leftValue.endsWith(right.value.substring(right.value.indexOf('%') + 1))) {\n        return true\n      }\n    } else if (right.value.endsWith('%')) {\n      if (leftValue.startsWith(right.value.substring(0, right.value.indexOf('%')))) {\n        return true\n      }\n    }\n  }\n\n  if (right.value) {\n    if (operation === '>' && leftValue > right.value) {\n      return true\n    }\n    if (operation === '>=' && leftValue >= right.value) {\n      return true\n    }\n    if (operation === '<' && leftValue < right.value) {\n      return true\n    }\n    if (operation === '<=' && leftValue <= right.value) {\n      return true\n    }\n  }\n\n  if (\n    operation.toLowerCase() === 'in' &&\n    Array.isArray(right.value) &&\n    right.value.filter(x => x.value === leftValue).length > 0\n  ) {\n    return true\n  }\n\n  return false\n}\n\nconst mapObject = (fields: Field[], mapped: object, source: Source) => {\n  const temp: {\n    [key: string]: any\n  } = {}\n  fields.forEach(field => {\n    const value = _.get(\n      mapped,\n      field.field.values.filter((val, index) => !(index === 0 && source.alias && val === source.alias.value))\n    )\n    let key = field.field.value\n    if (field.field.value2) {\n      key = field.field.value2\n    }\n    if (field.name) {\n      key = field.name.value\n    }\n    temp[key] = value\n  })\n  mapped = temp\n  return mapped\n}\n","import { QueryMode } from 'state/State'\nimport { sqlEvaluation } from './sql'\nimport lodash from 'lodash'\n\nexport const codeEvaluation = (sourceString: string, queryString: string, mode: QueryMode) => {\n  if (mode === 'Javascript') {\n    return jsEvaluation(sourceString, queryString)\n  } else if (mode === 'SQL') {\n    return sqlEvaluation(sourceString, queryString)\n  }\n\n  return new Error('unsupported mode')\n}\n\nconst jsEvaluation = (sourceString: string, queryString: string): null | string | Error => {\n  if (!sourceString || sourceString.trim() === '') {\n    return null\n  }\n\n  if (!queryString || queryString.trim() === '') {\n    return null\n  }\n\n  try {\n    ;(window as any)._ = lodash\n    const code = `\n      \n        const data = eval(${sourceString})\n        JSON.stringify(${queryString}) \n      `\n    // eslint-disable-next-line\n    const evaluatedQuery = eval.apply(null, [code]) // DANGEROUS\n    const type = typeof evaluatedQuery\n    if (type !== 'string') {\n      return null\n    }\n    return evaluatedQuery as string\n  } catch (error) {\n    return error\n  } finally {\n    ;(window as any)._ = undefined\n  }\n}\n","import initialStateJson from './default-state.json'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\nimport { DeepReadonly } from 'utility-types'\nimport { PropType as PropertyTypeOf } from 'core/misc/utils'\n\nexport type itemType = any\n\nexport type All = PropertyTypeOf<AppState>\nexport type AppState = PropertyTypeOf<RootState, 'app'>\nexport type QueryState = PropertyTypeOf<AppState, 'query'>\nexport type SourceState = PropertyTypeOf<AppState, 'source'>\nexport type OupoutState = PropertyTypeOf<AppState, 'output'>\nexport type OupoutTableState = PropertyTypeOf<OupoutState, 'table'>\nexport type UserSettingsState = PropertyTypeOf<RootState, 'userSettings'>\n\nexport type tabType = 'RawJson' | 'Table'\nexport type QueryMode = 'Javascript' | 'SQL'\nexport type RootState = DeepReadonly<{\n  app: {\n    source: {\n      text: string\n      autoFormat: boolean\n    }\n    query: {\n      text: string\n      mode: QueryMode\n    }\n    output: {\n      searchTerm: string\n      match: boolean\n      selectedTab: tabType\n      obj: object | null\n      objSize: number\n      errorMessage?: string\n      table: {\n        isArray: boolean\n        isModalOpen: boolean\n        displayedColumns: string[]\n        columns: string[]\n        groupBy: string[]\n      }\n    }\n    error?: Error\n  }\n  userSettings: {\n    globalTheme: GeneralTheme\n    editorTheme: EditorTheme\n  }\n}>\n\nexport const getDefaultAppState = () => initialStateJson as AppState\nexport const getDefaultUserSettingsState = () =>\n  ({\n    globalTheme: 'pulse',\n    editorTheme: 'github',\n  } as const)\n\nexport const emptyState = {\n  source: { text: '', autoFormat: true },\n  query: { text: '', mode: 'Javascript' },\n  output: {\n    match: false,\n    obj: {},\n    objSize: 2,\n    searchTerm: '',\n    selectedTab: 'RawJson',\n    table: {\n      isArray: false,\n      columns: [],\n      displayedColumns: [],\n      isModalOpen: false,\n      groupBy: [],\n    },\n  },\n} as const\n","import { combineReducers } from 'redux'\nimport { Action } from 'actions/actions'\nimport { codeEvaluation } from 'core/interpreters/code'\nimport { jsonParseSafe, jsonBeautify } from 'core/converters/json'\nimport {\n  OupoutState,\n  getDefaultAppState,\n  itemType,\n  getDefaultUserSettingsState,\n  QueryMode,\n  tabType,\n  emptyState,\n  AppState,\n  UserSettingsState,\n} from 'state/State'\nimport { containsIgnoreCase } from 'core/converters/string'\nimport { arrayElementName } from 'models/array'\n\nexport const rootReducer = (rootState = getDefaultAppState(), action: Action) => {\n  if (action.type === 'CLEAR_EDITOR') {\n    return emptyState\n  }\n\n  const newState = {\n    ...rootState,\n    query: query(rootState.query, action),\n    source: source(rootState.source, action),\n  }\n\n  const newOutputState = output(rootState, newState, action)\n  return {\n    ...newState,\n    output: {\n      ...newOutputState,\n      table: table(newOutputState.table, action),\n    },\n  }\n}\n\nexport const source = (state = getDefaultAppState().source, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_SOURCE_TEXT':\n      return {\n        ...state,\n        text: state.autoFormat ? jsonBeautify(action.source.trim()) : action.source,\n      }\n    case 'UPDATE_AUTOFORMAT_SOURCE':\n      return { ...state, text: action.active ? jsonBeautify(state.text.trim()) : state.text, autoFormat: action.active }\n    default:\n      return state\n  }\n}\n\nexport const userSettings = (state: UserSettingsState = getDefaultUserSettingsState(), action: Action) => {\n  switch (action.type) {\n    case 'SWITCH_GLOBAL_THEME':\n      return { ...state, globalTheme: action.theme }\n    case 'SWITCH_EDITOR_THEME':\n      return { ...state, editorTheme: action.theme }\n    default:\n      return state\n  }\n}\n\nexport const query = (state = getDefaultAppState().query, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_QUERY':\n      return {\n        ...state,\n        text: action.query,\n      }\n    case 'UPDATE_QUERY_MODE':\n      return {\n        ...state,\n        mode: action.mode,\n        text:\n          action.mode === 'SQL'\n            ? getDefaultAppState().query.text\n            : \"// data is your JSON object\\n// you can use any correct javascript code to query it\\n// in addition of that,\\n// you can use lodash helper functions. see https://lodash.com/docs/\\n// ex: _.chain(data).orderBy('age', 'desc')\\n\\n      data\\n    \",\n      } as const\n    default:\n      return state\n  }\n}\n\nexport const outputTable = (state = getDefaultAppState().output.table, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_TABLE_COLUMNS':\n      return { ...state, columns: action.columns }\n    default:\n      return state\n  }\n}\n\nexport const computeOutput = (\n  previousState: OupoutState,\n  sourceString: string,\n  queryString: string,\n  action: Action,\n  mode: QueryMode\n) => {\n  const text = codeEvaluation(sourceString, queryString, mode)\n\n  if (!text) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n  if (text instanceof Error) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      errorMessage: text.message,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n\n  let displayedColumns = new Array<string>()\n  const outputObject: itemType[] | object = jsonParseSafe(text)\n  if (Array.isArray(outputObject)) {\n    const keyMap: { [key: string]: string } = {}\n    outputObject.forEach(d => {\n      if (d !== null && d !== undefined && !Object.is(d, {}) && !Array.isArray(d)) {\n        const keysToAdd = d ? (typeof d === 'object' ? Object.keys(d) : [arrayElementName]) : []\n        keysToAdd.forEach(key => (keyMap[key] = key))\n      }\n    })\n    displayedColumns = Object.keys(keyMap)\n      .filter(key => key && typeof key === 'string' && key.trim() !== '')\n      .sort((ax, b) => ax.toLowerCase().localeCompare(b.toLowerCase()))\n  }\n  const isModalOpen =\n    action.type === 'TOGGLE_OUTPUT_TABLE_MODAL' ? !previousState.table.isModalOpen : previousState.table.isModalOpen\n\n  let selectedTab: tabType = Array.isArray(outputObject) ? 'Table' : 'RawJson'\n\n  if (action.type === 'UPDATE_OUTPUT_TAB_SELECTION') {\n    selectedTab = action.tab\n  }\n  return {\n    selectedTab,\n    obj: outputObject,\n    objSize: text ? text.length : 0,\n    searchTerm: '',\n    match: false,\n    table: {\n      isArray: Array.isArray(outputObject),\n      isModalOpen,\n      displayedColumns,\n      columns: displayedColumns,\n      groupBy: [],\n    },\n  } as const\n}\n\nexport const output = (previousState: AppState, newState: AppState, action: Action) => {\n  switch (action.type) {\n    case '@@INIT':\n      return computeOutput(newState.output, newState.source.text, newState.query.text, action, newState.query.mode)\n    case 'EVALUATE_CODE':\n    case 'UPDATE_QUERY':\n    case 'UPDATE_SOURCE_TEXT':\n      return previousState.source.text === newState.source.text && previousState.query.text === newState.query.text\n        ? previousState.output\n        : computeOutput(newState.output, newState.source.text, newState.query.text, action, newState.query.mode)\n    case 'RESET_EDITOR':\n    case 'UPDATE_QUERY_MODE':\n      return computeOutput(newState.output, newState.source.text, newState.query.text, action, newState.query.mode)\n    case 'TOGGLE_OUTPUT_TABLE_MODAL':\n      return {\n        ...newState.output,\n        table: {\n          ...newState.output.table,\n          isModalOpen: !newState.output.table.isModalOpen,\n        },\n      }\n    case 'UPDATE_OUTPUT_TAB_SELECTION':\n      return {\n        ...newState.output,\n        selectedTab: action.tab,\n      }\n    case 'UPDATE_OUTPUT_SEARCH_TERM':\n      return {\n        ...filter(newState.output, action.searchTerm),\n        searchTerm: action.searchTerm,\n        selectedTab: 'RawJson',\n      } as const\n    default:\n      return newState.output\n  }\n}\n\nexport const containsTerm = (src: any | any[] | null, searchTerm: string) => {\n  if (typeof src !== 'string' && typeof src !== 'object') {\n    return { match: false, filteredObj: src }\n  }\n\n  if (typeof src === 'string') {\n    if (containsIgnoreCase(src, searchTerm)) {\n      return { match: true, filteredObj: src }\n    }\n    return { match: false, filteredObj: src }\n  }\n  const obj: { [key: string]: any } = Array.isArray(src) ? [...src] : { ...src }\n\n  const keys = Array.isArray(obj)\n    ? Array.from({ length: obj.length }, (_, k) => k)\n    : Object.getOwnPropertyNames(obj).filter(propertyName => propertyName)\n\n  let result = false\n\n  for (const propertyName of keys) {\n    const propertyNameContains = typeof propertyName === 'string' && containsIgnoreCase(propertyName, searchTerm)\n    if (propertyNameContains) {\n      result = true\n      continue\n    }\n    const child = obj[propertyName]\n    const { match, filteredObj } = containsTerm(child, searchTerm)\n    if (propertyNameContains || match) {\n      result = true\n      obj[propertyName] = filteredObj\n    } else {\n      if (Array.isArray(obj) && typeof propertyName === 'number') {\n        obj.splice(propertyName, 1)\n      } else {\n        delete obj[propertyName]\n      }\n    }\n  }\n  if (!result) {\n    if (!Array.isArray(obj)) {\n      ;(keys as string[]).forEach((propertyName: string) => delete obj[propertyName])\n    } else {\n      obj.length = 0\n    }\n  }\n  return { match: result, filteredObj: obj }\n}\n\nconst filter = (state: OupoutState, searchTerm: string) => {\n  if (!searchTerm && searchTerm.trim() === '') {\n    return { ...state, match: false }\n  }\n  const { filteredObj, match } = containsTerm(state.obj, searchTerm)\n  if (match) {\n    return { ...state, obj: filteredObj, match }\n  }\n\n  return state\n}\n\nexport const table = (state = getDefaultAppState().output.table, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_TABLE_COLUMNS':\n      let groupByList = state.groupBy\n      groupByList.forEach(groupBy => {\n        if (action.columns.indexOf(groupBy) === -1) {\n          groupByList = groupByList.filter(gb => action.columns.indexOf(gb) !== -1)\n        }\n      })\n      return {\n        ...state,\n        displayedColumns: action.columns,\n        groupBy: groupByList,\n      }\n    case 'UPDATE_TABLE_GROUP_BY':\n      return {\n        ...state,\n        groupBy: action.groupBy\n          .filter(gb => state.displayedColumns.indexOf(gb) !== -1)\n          .filter(gb => gb !== 'Group by...'),\n      }\n    default:\n      return state\n  }\n}\n\nexport const rootReducerReset = (state = getDefaultAppState(), action: Action) => {\n  if (action.type === 'RESET_EDITOR') {\n    return rootReducer({ ...getDefaultAppState() }, action)\n  }\n  return rootReducer(state, action)\n}\nconst rootReducers = combineReducers({\n  app: rootReducerReset,\n  userSettings,\n})\nexport default rootReducers\n","import { AppState, UserSettingsState, getDefaultAppState, getDefaultUserSettingsState } from 'state/State'\nimport { logError } from 'core/logging/logger'\nimport lodash from 'lodash'\nimport { toast } from 'react-toastify'\nimport { prettyPrintBytes } from 'core/converters/string'\n\nexport const persistAppState = (appstate: AppState) => {\n  persist('keyrier-json.app.state', appstate)\n}\n\nexport const persistUserSettings = (userSettings: UserSettingsState) => {\n  persist('keyrier-json.user.settings', userSettings)\n}\n\nexport const getUserSettings = () => load('keyrier-json.user.settings') as UserSettingsState\nexport const getAppState = () => load('keyrier-json.app.state') as AppState\n\ntype StorageKey = 'keyrier-json.app.state' | 'keyrier-json.user.settings'\n\nconst persist = (key: StorageKey, value: object) => {\n  const storage = getStorage()\n  if (!storage) {\n    toast.warn(\"Browser does'nt support required storage\")\n    return\n  }\n  const toBeSaved = JSON.stringify(value)\n  try {\n    storage.setItem(key, toBeSaved)\n  } catch (error) {\n    toast.warn(`Error while saving ${key} to storage. size: ${prettyPrintBytes(toBeSaved.length)}`)\n  }\n}\n\nconst loadFromStorage = (key: StorageKey) => {\n  const storage = getStorage()\n  if (storage) {\n    return storage.getItem(key)\n  }\n  return null\n}\n\nconst getDefault = (key: StorageKey) => {\n  switch (key) {\n    case 'keyrier-json.app.state':\n      return getDefaultAppState()\n    case 'keyrier-json.user.settings':\n      return getDefaultUserSettingsState()\n    default:\n      throw new Error(`no defaul value for ${key}`)\n  }\n}\n\nconst load = (key: StorageKey) => {\n  let state = getDefault(key)\n  try {\n    const savedStateString = loadFromStorage(key)\n    if (savedStateString) {\n      state = JSON.parse(savedStateString)\n      state = lodash.merge({}, state)\n    }\n  } catch (error) {\n    logError(error)\n  }\n\n  return state\n}\n\nconst getStorage = () => {\n  if (window.localStorage) {\n    return window.localStorage\n  }\n  if (window.sessionStorage) {\n    return window.sessionStorage\n  }\n  return null\n}\n","import { createStore, compose } from 'redux'\nimport rootReducers from 'reducers/reducers'\nimport { persistAppState, persistUserSettings, getAppState, getUserSettings } from './persistence'\n\nexport const configureStore = () => {\n  const appState = getAppState()\n  const userSettingsState = getUserSettings()\n\n  const composeEnhancers =\n    typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose\n\n  const store = createStore(rootReducers, { app: appState, userSettings: userSettingsState }, composeEnhancers())\n\n  store.subscribe(() => {\n    persistAppState(store.getState().app)\n    persistUserSettings(store.getState().userSettings)\n  })\n\n  return store\n}\n","import { logError } from 'core/logging/logger'\n\nexport const themeDeps = new Map([\n  [\n    'materia' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/materia\" */ 'bootswatch/dist/materia/bootstrap.min.css'),\n  ],\n  [\n    'darkly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/darkly\" */ 'bootswatch/dist/darkly/bootstrap.min.css'),\n  ],\n  [\n    'sandstone' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/sandstone\" */ 'bootswatch/dist/sandstone/bootstrap.min.css'),\n  ],\n  [\n    'cosmo' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cosmo\" */ 'bootswatch/dist/cosmo/bootstrap.min.css'),\n  ],\n  [\n    'cyborg' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cyborg\" */ 'bootswatch/dist/cyborg/bootstrap.min.css'),\n  ],\n  [\n    'flatly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/flatly\" */ 'bootswatch/dist/flatly/bootstrap.min.css'),\n  ],\n  [\n    'journal' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/journal\" */ 'bootswatch/dist/journal/bootstrap.min.css'),\n  ],\n  [\n    'litera' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/litera\" */ 'bootswatch/dist/litera/bootstrap.min.css'),\n  ],\n  [\n    'lumen' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/lumen\" */ 'bootswatch/dist/lumen/bootstrap.min.css'),\n  ],\n  ['lux' as const, () => import(/* webpackChunkName: \"bootswatch/dist/lux\" */ 'bootswatch/dist/lux/bootstrap.min.css')],\n  [\n    'minty' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/minty\" */ 'bootswatch/dist/minty/bootstrap.min.css'),\n  ],\n  [\n    'pulse' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/pulse\" */ 'bootswatch/dist/pulse/bootstrap.min.css'),\n  ],\n  [\n    'simplex' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/simplex\" */ 'bootswatch/dist/simplex/bootstrap.min.css'),\n  ],\n  [\n    'slate' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/slate\" */ 'bootswatch/dist/slate/bootstrap.min.css'),\n  ],\n  [\n    'solar' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/solar\" */ 'bootswatch/dist/solar/bootstrap.min.css'),\n  ],\n  [\n    'spacelab' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/spacelab\" */ 'bootswatch/dist/spacelab/bootstrap.min.css'),\n  ],\n  [\n    'superhero' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/superhero\" */ 'bootswatch/dist/superhero/bootstrap.min.css'),\n  ],\n  [\n    'united' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/united\" */ 'bootswatch/dist/united/bootstrap.min.css'),\n  ],\n  [\n    'yeti' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/yeti\" */ 'bootswatch/dist/yeti/bootstrap.min.css'),\n  ],\n])\n\nexport const importThemeStyleCustom = (theme: GeneralTheme | null) => {\n  if (theme) {\n    const themeLoader = themeDeps.get(theme)\n    if (themeLoader) {\n      return themeLoader()\n    }\n  }\n\n  logError(`${theme}: theme is not defined`)\n\n  return themeDeps\n    .values()\n    .next()\n    .value()\n}\n\nexport const availableGeneralThemes = [\n  'materia',\n  'darkly',\n  'sandstone',\n  'cosmo',\n  'cyborg',\n  'flatly',\n  'journal',\n  'litera',\n  'lumen',\n  'lux',\n  'minty',\n  'pulse',\n  'simplex',\n  'slate',\n  'solar',\n  'spacelab',\n  'superhero',\n  'united',\n  'yeti',\n] as const\nexport type GeneralTheme = typeof availableGeneralThemes[number]\n\nexport const availableEditorThemes = ['github', 'monokai', 'tomorrow', 'solarized_dark', 'terminal'] as const\nexport type EditorTheme = typeof availableEditorThemes[number]\n","import * as React from 'react'\nimport { version } from '../../package.json'\nimport { GeneralTheme, availableGeneralThemes, availableEditorThemes, EditorTheme } from 'themes/themes'\nimport { switchTheme, switchEditorTheme } from 'actions/actions'\nimport { connect } from 'react-redux'\nimport { getTheme, getEditorTheme } from 'store/selectors'\nimport { RootState } from 'state/State'\nimport { useToggleState } from 'hooks/hooks'\nimport {\n  Navbar,\n  NavbarBrand,\n  NavbarToggler,\n  Collapse,\n  Nav,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  NavItem,\n  NavLink,\n  Dropdown,\n} from 'reactstrap'\nimport { withErrorBoundary } from './common/ErrorBoundary'\nimport { memo, useCallback, FC } from 'react'\n\ninterface Props {\n  setGeneralTheme: typeof switchTheme\n  setEditorTheme: typeof switchEditorTheme\n  currentTheme: GeneralTheme | null\n  currentEditorTheme: EditorTheme\n}\n\nconst Header: FC<Props> = ({ setGeneralTheme, currentTheme, setEditorTheme, currentEditorTheme }) => {\n  const [isOpen, switchIsOpen] = useToggleState()\n  const [dropDownIsOpen, toggleDropdown] = useToggleState()\n\n  return (\n    <>\n      <Navbar color=\"dark\" dark={true} expand=\"md\">\n        <NavbarBrand href=\"/\">Keyrier JSON</NavbarBrand>\n        <NavbarToggler onClick={switchIsOpen} />\n        <Collapse isOpen={isOpen} navbar={true}>\n          <Nav className=\"ml-auto\" navbar={true}>\n            <Dropdown isOpen={dropDownIsOpen} toggle={toggleDropdown}>\n              <DropdownToggle nav={true} caret={true}>\n                Theme\n              </DropdownToggle>\n              <DropdownMenu right={true}>\n                <DropdownItem header={true}>Choose editor theme</DropdownItem>\n                {availableEditorThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setEditorTheme}\n                    key={index}\n                    active={currentEditorTheme === theme}\n                    theme={theme}\n                    reloadOnChange={false}\n                  />\n                ))}\n                <DropdownItem header={true}>Choose general theme</DropdownItem>\n\n                {availableGeneralThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setGeneralTheme}\n                    key={index}\n                    active={currentTheme === theme}\n                    theme={theme}\n                    reloadOnChange={true}\n                  />\n                ))}\n              </DropdownMenu>\n            </Dropdown>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json/releases/latest\">v{version}</NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json\">GitHub</NavLink>\n            </NavItem>\n          </Nav>\n        </Collapse>\n      </Navbar>\n    </>\n  )\n}\n\ntype ThemeDropDownItemProps<T extends GeneralTheme | EditorTheme> = {\n  theme: T\n  active: boolean\n  setTheme: (v: T) => void\n  reloadOnChange: boolean\n}\n\nconst ThemeDropDownItem = <T extends GeneralTheme | EditorTheme>(props: ThemeDropDownItemProps<T>) => {\n  const { theme, active, setTheme, reloadOnChange } = props\n  const onClick = useCallback(() => {\n    setTheme(theme)\n    if (reloadOnChange) {\n      setTimeout(() => window.location.reload())\n    }\n  }, [theme, setTheme, reloadOnChange])\n  return (\n    <DropdownItem active={active} onClick={onClick}>\n      {theme}\n    </DropdownItem>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  currentTheme: getTheme(state),\n  currentEditorTheme: getEditorTheme(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  { setGeneralTheme: switchTheme, setEditorTheme: switchEditorTheme }\n)(memo(withErrorBoundary(Header)))\n","import * as React from 'react'\nimport Header from './Header'\nimport { ToastContainer } from 'react-toastify'\nimport { lazy, Suspense } from 'react'\nconst SourceEditor = lazy(() => import(/* webpackChunkName: \"SourceEditor\" */ 'components/source/SourceEditor'))\nconst Output = lazy(() => import(/* webpackChunkName: \"Output\" */ 'components/output/Output'))\nconst QueryEditor = lazy(() => import(/* webpackChunkName: \"QueryEditor\" */ 'components/query/QueryEditor'))\n\nexport const App = () => (\n  <>\n    <Header />\n    <div className=\"container\">\n      <h1 className=\"my-5\">Paste your JSON and Query it.</h1>\n      <div className=\"row my-5\">\n        <div className=\"col\">\n          <Suspense fallback={'loading...'}>\n            <SourceEditor />\n          </Suspense>\n        </div>\n      </div>\n      <div className=\"row align-items-center my-5\">\n        <div className=\"col\">\n          <Suspense fallback={'loading...'}>\n            <QueryEditor />\n          </Suspense>\n        </div>\n      </div>\n      <div className=\"row my-5\">\n        <div className=\"col\">\n          <Suspense fallback={'loading...'}>\n            <Output />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n    <ToastContainer />\n  </>\n)\n\nexport default App\n","import { Provider } from 'react-redux'\nimport './index.scss'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport { configureStore } from 'store/store'\nimport * as React from 'react'\nimport { getTheme } from 'store/selectors'\nimport { importThemeStyleCustom } from 'themes/themes'\nimport App from 'components/App'\n;(async () => {\n  const store = configureStore()\n\n  const promises = await Promise.all([\n    import(/* webpackChunkName: \"react-dom\" */ 'react-dom'),\n    importThemeStyleCustom(getTheme(store.getState())),\n  ])\n\n  const ReactDOM = promises[0]\n\n  const Concurrent = (React as any).unstable_ConcurrentMode\n  const root = (ReactDOM as any).unstable_createRoot(document.getElementById('root'))\n  root.render(\n    <Concurrent>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Concurrent>\n  )\n\n  // registerServiceWorker()\n})()\n"],"sourceRoot":""}