{"version":3,"sources":["core/converters/json.ts","core/interpreters/sql.ts","core/interpreters/code.ts","state/State.ts","reducers/reducers.ts","store/persistence.ts","store/store.ts","themes/themes.ts","components/Header.tsx","components/source/RequestHeader.tsx","components/source/RequestSource.tsx","components/LateralMenu.tsx","components/App.tsx","registerServiceWorker.ts","index.tsx","core/logging/logger.ts","actions/actions.ts","hooks/hooks.ts","store/selectors.ts","components/common/ErrorBoundary.tsx","core/converters/string.ts","models/array.ts","components/App.module.scss"],"names":["jsonBeautify","str","trim","parsed","jsonParseSafe","JSON","stringify","error","logError","safeStr","replace","parse","map","v","fields","source","constructor","nodes","Star","Array","isArray","x","mapObject","executeQuery","sqlTree","sourceDataObject","fromPath","name","values","length","Object","toConsumableArray","shift","result","_","chain","get","value","filter","where","conditions","leftValue","left","rightValue","right","operation","compareOperands","orderBy","order","orderings","undefined","direction","take","limit","toLowerCase","path","newPath","computePath","toLocaleLowerCase","startsWith","endsWith","includes","substring","indexOf","mapped","temp","forEach","field","val","index","alias","key","value2","codeEvaluation","sourceString","queryString","mode","jsEvaluation","Error","concat","e","sqlEvaluation","window","lodash","code","evaluatedQuery","eval","apply","getDefaultAppState","initialStateJson","defaultAppState","emptyState","text","autoFormat","query","output","match","obj","objSize","searchTerm","selectedTab","table","columns","displayedColumns","isModalOpen","groupBy","rootReducer","rootState","arguments","action","type","newState","objectSpread","newOutputState","state","active","computeOutput","previousState","errorMessage","message","outputObject","keyMap","d","is","keys","arrayElementName","sort","ax","b","localeCompare","tab","_containsTerm2","containsTerm","src","filteredObj","containsIgnoreCase","from","k","getOwnPropertyNames","propertyName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","propertyNameContains","_containsTerm","splice","err","return","groupByList","gb","rootReducers","combineReducers","app","undoable","undoType","redoType","userSettings","globalTheme","editorTheme","theme","persist","storage","getStorage","toBeSaved","setItem","toast","warn","prettyPrintBytes","load","getDefault","savedStateString","getItem","loadFromStorage","merge","localStorage","sessionStorage","configureStore","appState","userSettingsState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","past","present","future","_latestUnfiltered","group","subscribe","appstate","getState","themeDeps","Map","__webpack_require__","then","t","bind","importThemeStyleCustom","themeLoader","availableGeneralThemes","availableEditorThemes","ThemeDropDownItem","props","setTheme","reloadOnChange","onClick","useCallback","setTimeout","location","reload","react","DropdownItem","connect","currentTheme","getTheme","currentEditorTheme","getEditorTheme","setGeneralTheme","switchTheme","setEditorTheme","switchEditorTheme","memo","withErrorBoundary","_ref","_useToggleState","useToggleState","_useToggleState2","slicedToArray","isOpen","switchIsOpen","_useToggleState3","_useToggleState4","dropDownIsOpen","toggleDropdown","Navbar","color","dark","expand","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","className","Dropdown","toggle","DropdownToggle","nav","caret","DropdownMenu","header","Header_ThemeDropDownItem","NavItem","NavLink","version","RenderHeaderInput","onRemove","onChange","id","_header","onKeyChange","target","onValueChange","onRemoveCallback","placeholder","Button","outline","HeaderList","_ref3","headers","h","onChangeCallback","setSource","updateSource","onFinish","_useChangeEventState","useChangeEventState","_useChangeEventState2","method","setMethod","_useChangeEventState3","_useChangeEventState4","url","setUrl","_useChangeEventState5","_useChangeEventState6","body","setBody","_useState","useState","_useState2","setHeaders","_useState3","_useState4","setError","hasBody","setHasBody","submit","asyncToGenerator","regenerator_default","a","mark","_callee","request","json","wrap","_context","prev","Request","fetch","sent","t0","abrupt","customToString","stop","FormGroup","htmlFor","defaultValue","Form","inline","hidden","RequestSource_HeaderList","block","Alert","stack","getSourceAutoFormat","canUndo","getCanUndo","canRedo","getCanRedo","getQueryMode","onFileContentReady","onReset","resetEditor","onClear","clearEditor","onUndo","undo","onRedo","redo","changeAutoFormat","updateAutoFormatSource","setQueryMode","updateQueryMode","dropdownIsOpen","modalIsOpen","toggleModal","_useToggleState5","_useToggleState6","modeOpen","switchModeOpen","setJsMode","setSqlMode","handleFileChange","logInfo","files","fileReader","FileReader","onload","toString","readAsText","handleAutoFormatChange","ButtonGroup","vertical","size","disabled","Label","check","ButtonDropdown","style","display","Modal","role","ModalHeader","ModalBody","RequestSource","ModalFooter","SourceEditor","lazy","Promise","all","Output","QueryEditor","App","components_Header","components_LateralMenu","fallback","styles","react_toastify","Boolean","hostname","promises","resolve","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","__webpack_exports__","payload","console","info","updateQuery","toggleOutputTableModal","updateTableColumns","updateTableGroupBy","updateSearchTerm","updateOutputTabSelection","initial","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setValue","initialValue","event","getOutputErrorMessage","getOutputIsArray","getOutputActiveTab","getOutputObject","getOutputObjectSize","getOutputSearchTerm","getOutputSearchMatch","getisOutputTableModalOpen","getdisplayedColumns","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getOutputarray","getColumns","getGroupBy","getQueryText","getSourceText","ErrorBoundary","_this2","this","setState","notify","children","react__WEBPACK_IMPORTED_MODULE_5__","position","hideProgressBar","autoClose","Component","Wrapped","join","part","UNITS","toLocaleString","locale","signed","Number","isFinite","TypeError","isNegative","prefix","exponent","Math","min","floor","log10","pow","toPrecision","module","exports"],"mappings":"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","file":"static/js/main.3cf2d89b.chunk.js","sourcesContent":["import { logError } from 'core/logging/logger'\n\nexport const jsonBeautify = (str: string) => {\n  if (!str || str.trim() === '') {\n    return ''\n  }\n\n  const parsed = jsonParseSafe(str)\n  if (typeof parsed === 'string') {\n    return parsed\n  }\n\n  try {\n    return JSON.stringify(parsed, null, 2)\n  } catch (error) {\n    logError(error, str)\n  }\n  return str\n}\n\nexport const jsonParseSafe = (str: string) => {\n  if (!str || str.trim() === '') {\n    return null\n  }\n\n  const safeStr = str\n    .replace(/\\\\n/g, '\\\\n')\n    .replace(/\\\\'/g, \"\\\\'\")\n    .replace(/\\\\\"/g, '\\\\\"')\n    .replace(/\\\\&/g, '\\\\&')\n    .replace(/\\\\r/g, '\\\\r')\n    .replace(/\\\\t/g, '\\\\t')\n    .replace(/\\\\b/g, '\\\\b')\n    .replace(/\\\\f/g, '\\\\f')\n  // .replace(/[\\u0000-\\u0019]+/g, '')\n\n  try {\n    return JSON.parse(safeStr)\n  } catch (error) {\n    return str\n  }\n}\n","import _ from 'lodash'\nimport { parse, nodes, Op, Field, SQLTree, Source } from 'sql-parser'\nimport { jsonParseSafe } from '../converters/json'\n\nexport const computePath = (path: string[]) => {\n  if (!path || path.length === 0) {\n    return []\n  }\n  if (path[0] === 'data') {\n    const newPath = [...path]\n    newPath.shift()\n    return newPath\n  }\n\n  return path\n}\n\nexport const sqlEvaluation = (sourceString: string, queryString: string) => {\n  try {\n    const sqlTree = parse(queryString.replace(/--(.*?)(\\n|$)/gm, ''))\n    if (sqlTree.source.name.values[0] !== 'data') {\n      return new Error(`${sqlTree.source.name.values[0]} table does not exist`)\n    }\n\n    const sourceDataObject = jsonParseSafe(sourceString)\n\n    const result = executeQuery(sqlTree, sourceDataObject)\n\n    return JSON.stringify(result)\n  } catch (e) {\n    return e as Error\n  }\n}\n\nconst map = (v: object, fields: Field[], source: Source) => {\n  if (fields[0].constructor === nodes.Star) {\n    return v\n  }\n\n  if (Array.isArray(v)) {\n    return v.map(x => mapObject(fields, x, source))\n  }\n\n  return mapObject(fields, v, source)\n}\n\nconst executeQuery = (sqlTree: SQLTree, sourceDataObject: object) => {\n  let fromPath: string[] = []\n\n  if (sqlTree.source.name.values && sqlTree.source.name.values.length > 1) {\n    if (sqlTree.source.name.values[0] === 'data') {\n      fromPath = [...sqlTree.source.name.values]\n      fromPath.shift()\n    }\n  }\n\n  let result = _.chain(sourceDataObject)\n\n  if (fromPath && fromPath.length > 0) {\n    result = result.get(fromPath)\n  }\n  sourceDataObject = result.value()\n  if (_.isArray(sourceDataObject)) {\n    return result\n      .filter(v => {\n        if (!sqlTree.where || !sqlTree.where.conditions) {\n          return true\n        }\n        const leftValue = sqlTree.where.conditions.left\n        const rightValue = sqlTree.where.conditions.right\n        const operation = sqlTree.where.conditions.operation\n        return compareOperands(operation, leftValue, rightValue, v)\n      })\n      .orderBy(\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.value.value) : undefined,\n        sqlTree.order ? sqlTree.order.orderings.map(x => x.direction) : undefined\n      )\n      .map(v => map(v, sqlTree.fields, sqlTree.source))\n      .take(\n        sqlTree.limit && typeof sqlTree.limit.value.value === 'number' ? sqlTree.limit.value.value : 999999999999999\n      )\n      .value()\n  } else {\n    return map(sourceDataObject, sqlTree.fields, sqlTree.source)\n  }\n}\n\nconst compareOperands = (operation: string | null, left: Op, right: Op, value: object): boolean => {\n  if (!operation) {\n    return false\n  }\n\n  if (operation.toLowerCase() === 'or') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) ||\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (operation.toLowerCase() === 'and') {\n    return (\n      compareOperands(left.operation, left.left, left.right, value) &&\n      compareOperands(right.operation, right.left, right.right, value)\n    )\n  }\n\n  if (!left.value) {\n    return false\n  }\n\n  const leftValue = _.get(value, computePath(left.values))\n\n  if (operation === '=' && leftValue === right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is' && leftValue === right.value) {\n    return true\n  }\n  if (operation === '!=' && leftValue !== right.value) {\n    return true\n  }\n  if (operation.toLowerCase() === 'is not' && leftValue !== right.value) {\n    return true\n  }\n  if (operation === '<>' && leftValue !== right.value) {\n    return true\n  }\n\n  if (operation.toLocaleLowerCase() === 'like' && typeof right.value === 'string' && typeof leftValue === 'string') {\n    if (right.value.startsWith('%') && right.value.endsWith('%')) {\n      if (leftValue.includes(right.value.substring(1, right.value.length - 1))) {\n        return true\n      }\n    } else if (right.value.startsWith('%')) {\n      if (leftValue.endsWith(right.value.substring(right.value.indexOf('%') + 1))) {\n        return true\n      }\n    } else if (right.value.endsWith('%')) {\n      if (leftValue.startsWith(right.value.substring(0, right.value.indexOf('%')))) {\n        return true\n      }\n    }\n  }\n\n  if (right.value) {\n    if (operation === '>' && leftValue > right.value) {\n      return true\n    }\n    if (operation === '>=' && leftValue >= right.value) {\n      return true\n    }\n    if (operation === '<' && leftValue < right.value) {\n      return true\n    }\n    if (operation === '<=' && leftValue <= right.value) {\n      return true\n    }\n  }\n\n  if (\n    operation.toLowerCase() === 'in' &&\n    Array.isArray(right.value) &&\n    right.value.filter(x => x.value === leftValue).length > 0\n  ) {\n    return true\n  }\n\n  return false\n}\n\nconst mapObject = (fields: Field[], mapped: object, source: Source) => {\n  const temp: {\n    [key: string]: any\n  } = {}\n  fields.forEach(field => {\n    const value = _.get(\n      mapped,\n      field.field.values.filter((val, index) => !(index === 0 && source.alias && val === source.alias.value))\n    )\n    let key = field.field.value\n    if (field.field.value2) {\n      key = field.field.value2\n    }\n    if (field.name) {\n      key = field.name.value\n    }\n    temp[key] = value\n  })\n  mapped = temp\n  return mapped\n}\n","import { QueryMode } from 'state/State'\nimport { sqlEvaluation } from './sql'\nimport lodash from 'lodash'\n\nexport const codeEvaluation = (sourceString: string, queryString: string, mode: QueryMode) => {\n  if (!sourceString || !queryString) {\n    return ''\n  }\n  if (mode === 'Javascript') {\n    return jsEvaluation(sourceString, queryString)\n  } else if (mode === 'SQL') {\n    return sqlEvaluation(sourceString, queryString)\n  }\n\n  return new Error('unsupported mode')\n}\n\nconst jsEvaluation = (sourceString: string, queryString: string): null | string | Error => {\n  if (!sourceString || sourceString.trim() === '') {\n    return null\n  }\n\n  if (!queryString || queryString.trim() === '') {\n    return null\n  }\n\n  try {\n    ;(window as any)._ = lodash\n    const code = `\n      \n        const data = eval(${sourceString})\n        JSON.stringify(${queryString}) \n      `\n    // eslint-disable-next-line\n    const evaluatedQuery = eval.apply(null, [code]) // DANGEROUS\n    const type = typeof evaluatedQuery\n    if (type !== 'string') {\n      return null\n    }\n    return evaluatedQuery as string\n  } catch (error) {\n    return error\n  } finally {\n    ;(window as any)._ = undefined\n  }\n}\n","import initialStateJson from './default-state.json'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\nimport { DeepReadonly } from 'utility-types'\nimport { PropType as PropertyTypeOf } from 'core/misc/utils'\nimport { StateWithHistory } from 'redux-undo'\n\nexport type itemType = any\n\nexport type All = PropertyTypeOf<AppState>\nexport type AppState = DeepReadonly<{\n  source?: SourceState\n  query?: QueryState\n  output?: OupoutState\n  error?: Error\n}>\nexport type QueryState = DeepReadonly<{\n  text?: string\n  mode?: QueryMode\n}>\nexport type SourceState = DeepReadonly<{\n  text?: string\n  autoFormat?: boolean\n}>\nexport type OupoutState = DeepReadonly<{\n  searchTerm?: string\n  match?: boolean\n  selectedTab?: tabType\n  obj?: object | null\n  objSize?: number\n  errorMessage?: string\n  table?: OupoutTableState\n}>\nexport type OupoutTableState = DeepReadonly<{\n  isArray?: boolean\n  isModalOpen?: boolean\n  displayedColumns?: readonly string[]\n  columns?: readonly string[]\n  groupBy?: readonly string[]\n}>\nexport type UserSettingsState = DeepReadonly<{\n  globalTheme?: GeneralTheme\n  editorTheme?: EditorTheme\n}>\n\nexport type tabType = 'RawJson' | 'Table'\nexport type QueryMode = 'Javascript' | 'SQL'\n\nexport type RootState = DeepReadonly<{\n  app?: StateWithHistory<AppState>\n  userSettings?: UserSettingsState\n}>\n\nexport const getDefaultAppState = () => initialStateJson as AppState\nexport const defaultAppState = initialStateJson as AppState\nexport const getDefaultUserSettingsState = () =>\n  ({\n    globalTheme: 'pulse',\n    editorTheme: 'github',\n  } as const)\n\nexport const emptyState = {\n  source: { text: '', autoFormat: true },\n  query: { text: '', mode: 'SQL' },\n  output: {\n    match: false,\n    obj: {},\n    objSize: 2,\n    searchTerm: '',\n    selectedTab: 'RawJson',\n    table: {\n      isArray: false,\n      columns: [],\n      displayedColumns: [],\n      isModalOpen: false,\n      groupBy: [],\n    },\n  },\n} as const\n","import { combineReducers } from 'redux'\nimport { Action } from 'actions/actions'\nimport { codeEvaluation } from 'core/interpreters/code'\nimport { jsonParseSafe, jsonBeautify } from 'core/converters/json'\nimport {\n  OupoutState,\n  getDefaultAppState,\n  itemType,\n  getDefaultUserSettingsState,\n  QueryMode,\n  tabType,\n  emptyState,\n  AppState,\n  UserSettingsState,\n  OupoutTableState,\n  defaultAppState,\n  SourceState,\n  QueryState,\n} from 'state/State'\nimport { containsIgnoreCase } from 'core/converters/string'\nimport { arrayElementName } from 'models/array'\nimport undoable from 'redux-undo'\n\nexport const rootReducer = (rootState = getDefaultAppState(), action: Action) => {\n  if (action.type === 'CLEAR_EDITOR') {\n    return emptyState\n  }\n\n  const newState =\n    rootState && rootState.query && rootState.source\n      ? {\n          ...rootState,\n          query: query(rootState.query, action),\n          source: source(rootState.source, action),\n        }\n      : {}\n\n  const newOutputState = output(rootState, newState, action)\n  return {\n    ...newState,\n    output: {\n      ...newOutputState,\n      table: table(newOutputState ? newOutputState.table : {}, action),\n    },\n  }\n}\n\nexport const source = (state: SourceState, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_SOURCE_TEXT':\n      return {\n        ...state,\n        text: state && state.autoFormat ? jsonBeautify(action.source.trim()) : action.source,\n      }\n    case 'UPDATE_AUTOFORMAT_SOURCE':\n      return {\n        ...state,\n        text: action.active\n          ? state && state.text && jsonBeautify(state.text.trim())\n          : state && state.text\n          ? state.text\n          : '',\n        autoFormat: action.active,\n      }\n    default:\n      return state\n  }\n}\n\nexport const userSettings = (state: UserSettingsState | undefined = getDefaultUserSettingsState(), action: Action) => {\n  switch (action.type) {\n    case 'SWITCH_GLOBAL_THEME':\n      return { ...state, globalTheme: action.theme }\n    case 'SWITCH_EDITOR_THEME':\n      return { ...state, editorTheme: action.theme }\n    default:\n      return state\n  }\n}\n\nexport const query = (state: QueryState, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_QUERY':\n      return {\n        ...state,\n        text: action.query,\n      }\n    case 'UPDATE_QUERY_MODE':\n      return {\n        ...state,\n        mode: action.mode,\n        text:\n          action.mode === 'SQL'\n            ? defaultAppState && defaultAppState.query\n              ? defaultAppState.query.text\n              : ''\n            : \"// data is your JSON object\\n// you can use any correct javascript code to query it\\n// in addition of that,\\n// you can use lodash helper functions. see https://lodash.com/docs/\\n// ex: _.chain(data).orderBy('age', 'desc')\\n\\n      data\\n    \",\n      } as const\n    default:\n      return state\n  }\n}\n\nexport const computeOutput = (\n  previousState: OupoutState,\n  sourceString: string,\n  queryString: string,\n  action: Action,\n  mode: QueryMode\n) => {\n  const text = codeEvaluation(sourceString, queryString, mode)\n\n  if (!text) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n  if (text instanceof Error) {\n    return {\n      selectedTab: 'RawJson',\n      obj: null,\n      objSize: 0,\n      searchTerm: '',\n      match: false,\n      errorMessage: text.message,\n      table: {\n        isArray: false,\n        isModalOpen: false,\n        displayedColumns: [],\n        columns: [],\n        groupBy: [],\n      },\n    } as const\n  }\n\n  let displayedColumns = new Array<string>()\n  const outputObject: itemType[] | object = jsonParseSafe(text)\n  if (Array.isArray(outputObject)) {\n    const keyMap: { [key: string]: string } = {}\n    outputObject.forEach(d => {\n      if (d !== null && d !== undefined && !Object.is(d, {}) && !Array.isArray(d)) {\n        const keysToAdd = d ? (typeof d === 'object' ? Object.keys(d) : [arrayElementName]) : []\n        keysToAdd.forEach(key => (keyMap[key] = key))\n      }\n    })\n    displayedColumns = Object.keys(keyMap)\n      .filter(key => key && typeof key === 'string' && key.trim() !== '')\n      .sort((ax, b) => ax.toLowerCase().localeCompare(b.toLowerCase()))\n  }\n  const isModalOpen =\n    previousState && previousState.table && action.type === 'TOGGLE_OUTPUT_TABLE_MODAL'\n      ? previousState && !previousState.table.isModalOpen\n      : previousState && previousState.table\n      ? previousState.table.isModalOpen\n      : false\n\n  let selectedTab: tabType = Array.isArray(outputObject) ? 'Table' : 'RawJson'\n\n  if (action.type === 'UPDATE_OUTPUT_TAB_SELECTION') {\n    selectedTab = action.tab\n  }\n  return {\n    selectedTab,\n    obj: outputObject,\n    objSize: text ? text.length : 0,\n    searchTerm: '',\n    match: false,\n    table: {\n      isArray: Array.isArray(outputObject),\n      isModalOpen,\n      displayedColumns,\n      columns: displayedColumns,\n      groupBy: [],\n    },\n  } as const\n}\n\nexport const output = (previousState: AppState, newState: AppState, action: Action) => {\n  switch (action.type) {\n    case 'EVALUATE_CODE':\n    case 'UPDATE_QUERY':\n    case 'UPDATE_SOURCE_TEXT':\n      if (\n        previousState &&\n        previousState.source &&\n        newState &&\n        newState.source &&\n        previousState.query &&\n        newState.query &&\n        previousState.source.text === newState.source.text &&\n        previousState.query.text === newState.query.text\n      ) {\n        return previousState.output\n      }\n      if (newState && newState.output) {\n        return computeOutput(\n          newState.output,\n          newState.source && newState.source.text ? newState.source.text : '',\n          newState.query && newState.query.text ? newState.query.text : '',\n          action,\n          newState.query && newState.query.mode ? newState.query.mode : 'SQL'\n        )\n      }\n      break\n    case 'TOGGLE_OUTPUT_TABLE_MODAL':\n      return newState\n        ? {\n            ...newState.output,\n            table: {\n              ...(newState.output ? newState.output.table : {}),\n              isModalOpen: newState.output && newState.output.table ? !newState.output.table.isModalOpen : false,\n            },\n          }\n        : {}\n    case 'UPDATE_OUTPUT_TAB_SELECTION':\n      if (newState) {\n        return {\n          ...newState.output,\n          selectedTab: action.tab,\n        }\n      }\n      break\n    case 'UPDATE_OUTPUT_SEARCH_TERM':\n      if (newState && newState.output) {\n        return {\n          ...filter(newState.output, action.searchTerm),\n          searchTerm: action.searchTerm,\n          selectedTab: 'RawJson',\n        } as const\n      }\n      break\n    default:\n      if (newState && newState.output) {\n        return computeOutput(\n          newState.output,\n          newState.source && newState.source.text ? newState.source.text : '',\n          newState.query && newState.query.text ? newState.query.text : '',\n          action,\n          newState.query && newState.query.mode ? newState.query.mode : 'SQL'\n        )\n      }\n      break\n  }\n  return {}\n}\n\nexport const containsTerm = (src: any | any[] | null, searchTerm: string) => {\n  if (typeof src !== 'string' && typeof src !== 'object') {\n    return { match: false, filteredObj: src }\n  }\n\n  if (typeof src === 'string') {\n    if (containsIgnoreCase(src, searchTerm)) {\n      return { match: true, filteredObj: src }\n    }\n    return { match: false, filteredObj: src }\n  }\n  const obj: { [key: string]: any } = Array.isArray(src) ? [...src] : { ...src }\n\n  const keys = Array.isArray(obj)\n    ? Array.from({ length: obj.length }, (_, k) => k)\n    : Object.getOwnPropertyNames(obj).filter(propertyName => propertyName)\n\n  let result = false\n\n  for (const propertyName of keys) {\n    const propertyNameContains = typeof propertyName === 'string' && containsIgnoreCase(propertyName, searchTerm)\n    if (propertyNameContains) {\n      result = true\n      continue\n    }\n    const child = obj[propertyName]\n    const { match, filteredObj } = containsTerm(child, searchTerm)\n    if (propertyNameContains || match) {\n      result = true\n      obj[propertyName] = filteredObj\n    } else {\n      if (Array.isArray(obj) && typeof propertyName === 'number') {\n        obj.splice(propertyName, 1)\n      } else {\n        delete obj[propertyName]\n      }\n    }\n  }\n  if (!result) {\n    if (!Array.isArray(obj)) {\n      ;(keys as string[]).forEach((propertyName: string) => delete obj[propertyName])\n    } else {\n      obj.length = 0\n    }\n  }\n  return { match: result, filteredObj: obj }\n}\n\nconst filter = (state: OupoutState, searchTerm: string) => {\n  if (!searchTerm || searchTerm.trim() === '' || !state) {\n    return { ...state, match: false }\n  }\n  const { filteredObj, match } = containsTerm(state.obj, searchTerm)\n  if (match) {\n    return { ...state, obj: filteredObj, match }\n  }\n\n  return state\n}\n\nexport const table = (state: OupoutTableState | undefined, action: Action) => {\n  switch (action.type) {\n    case 'UPDATE_TABLE_COLUMNS':\n      let groupByList = state && state.groupBy ? state.groupBy : []\n      groupByList.forEach(groupBy => {\n        if (action.columns.indexOf(groupBy) === -1) {\n          groupByList = groupByList.filter(gb => action.columns.indexOf(gb) !== -1)\n        }\n      })\n      return {\n        ...state,\n        displayedColumns: action.columns,\n        groupBy: groupByList,\n      }\n    case 'UPDATE_TABLE_GROUP_BY':\n      return {\n        ...state,\n        groupBy: action.groupBy\n          .filter(gb => state && state.displayedColumns && state.displayedColumns.indexOf(gb) !== -1)\n          .filter(gb => gb !== 'Group by...'),\n      }\n    default:\n      return state\n  }\n}\n\nexport const rootReducerReset = (state = getDefaultAppState(), action: Action) => {\n  if (action.type === 'RESET_EDITOR') {\n    return rootReducer({ ...getDefaultAppState() }, action)\n  }\n  return rootReducer(state, action)\n}\nconst rootReducers = combineReducers({\n  app: undoable(rootReducerReset, { undoType: 'APP_UNDO', redoType: 'APP_REDO' }),\n  userSettings,\n})\nexport default rootReducers\n","import { AppState, UserSettingsState, getDefaultAppState, getDefaultUserSettingsState } from 'state/State'\nimport { logError } from 'core/logging/logger'\nimport lodash from 'lodash'\nimport { toast } from 'react-toastify'\nimport { prettyPrintBytes } from 'core/converters/string'\n\nexport const persistAppState = (appstate: AppState) => {\n  persist('keyrier-json.app.state', appstate)\n}\n\nexport const persistUserSettings = (userSettings: UserSettingsState) => {\n  persist('keyrier-json.user.settings', userSettings)\n}\n\nexport const getUserSettings = () => load('keyrier-json.user.settings') as UserSettingsState\nexport const getAppState = () => load('keyrier-json.app.state') as AppState\n\ntype StorageKey = 'keyrier-json.app.state' | 'keyrier-json.user.settings'\n\nconst persist = (key: StorageKey, value: object | undefined) => {\n  const storage = getStorage()\n  if (!storage) {\n    toast.warn(\"Browser does'nt support required storage\")\n    return\n  }\n  const toBeSaved = JSON.stringify(value)\n  try {\n    storage.setItem(key, toBeSaved)\n  } catch (error) {\n    toast.warn(`Error while saving ${key} to storage. size: ${prettyPrintBytes(toBeSaved.length)}`)\n  }\n}\n\nconst loadFromStorage = (key: StorageKey) => {\n  const storage = getStorage()\n  if (storage) {\n    return storage.getItem(key)\n  }\n  return null\n}\n\nconst getDefault = (key: StorageKey) => {\n  switch (key) {\n    case 'keyrier-json.app.state':\n      return getDefaultAppState()\n    case 'keyrier-json.user.settings':\n      return getDefaultUserSettingsState()\n    default:\n      throw new Error(`no defaul value for ${key}`)\n  }\n}\n\nconst load = (key: StorageKey) => {\n  let state = getDefault(key)\n  try {\n    const savedStateString = loadFromStorage(key)\n    if (savedStateString) {\n      state = JSON.parse(savedStateString)\n      state = lodash.merge({}, state)\n    }\n  } catch (error) {\n    logError(error)\n  }\n\n  return state\n}\n\nconst getStorage = () => {\n  if (window.localStorage) {\n    return window.localStorage\n  }\n  if (window.sessionStorage) {\n    return window.sessionStorage\n  }\n  return null\n}\n","import { createStore, compose } from 'redux'\nimport rootReducers from 'reducers/reducers'\nimport { persistAppState, persistUserSettings, getAppState, getUserSettings } from './persistence'\n\nexport const configureStore = () => {\n  const appState = getAppState()\n  const userSettingsState = getUserSettings()\n\n  const composeEnhancers =\n    typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose\n\n  const store = createStore(\n    rootReducers,\n    {\n      app: {\n        past: [],\n        present: appState,\n        future: [],\n        _latestUnfiltered: appState,\n        group: undefined,\n        index: undefined,\n        limit: undefined,\n      },\n      userSettings: userSettingsState,\n    },\n    composeEnhancers()\n  )\n\n  store.subscribe(() => {\n    persistAppState(store.getState().app.present)\n    persistUserSettings(store.getState().userSettings)\n  })\n\n  return store\n}\n","import { logError } from 'core/logging/logger'\n\nexport const themeDeps = new Map([\n  [\n    'materia' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/materia\" */ 'bootswatch/dist/materia/bootstrap.min.css'),\n  ],\n  [\n    'darkly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/darkly\" */ 'bootswatch/dist/darkly/bootstrap.min.css'),\n  ],\n  [\n    'sandstone' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/sandstone\" */ 'bootswatch/dist/sandstone/bootstrap.min.css'),\n  ],\n  [\n    'cosmo' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cosmo\" */ 'bootswatch/dist/cosmo/bootstrap.min.css'),\n  ],\n  [\n    'cyborg' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/cyborg\" */ 'bootswatch/dist/cyborg/bootstrap.min.css'),\n  ],\n  [\n    'flatly' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/flatly\" */ 'bootswatch/dist/flatly/bootstrap.min.css'),\n  ],\n  [\n    'journal' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/journal\" */ 'bootswatch/dist/journal/bootstrap.min.css'),\n  ],\n  [\n    'litera' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/litera\" */ 'bootswatch/dist/litera/bootstrap.min.css'),\n  ],\n  [\n    'lumen' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/lumen\" */ 'bootswatch/dist/lumen/bootstrap.min.css'),\n  ],\n  ['lux' as const, () => import(/* webpackChunkName: \"bootswatch/dist/lux\" */ 'bootswatch/dist/lux/bootstrap.min.css')],\n  [\n    'minty' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/minty\" */ 'bootswatch/dist/minty/bootstrap.min.css'),\n  ],\n  [\n    'pulse' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/pulse\" */ 'bootswatch/dist/pulse/bootstrap.min.css'),\n  ],\n  [\n    'simplex' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/simplex\" */ 'bootswatch/dist/simplex/bootstrap.min.css'),\n  ],\n  [\n    'slate' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/slate\" */ 'bootswatch/dist/slate/bootstrap.min.css'),\n  ],\n  [\n    'solar' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/solar\" */ 'bootswatch/dist/solar/bootstrap.min.css'),\n  ],\n  [\n    'spacelab' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/spacelab\" */ 'bootswatch/dist/spacelab/bootstrap.min.css'),\n  ],\n  [\n    'superhero' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/superhero\" */ 'bootswatch/dist/superhero/bootstrap.min.css'),\n  ],\n  [\n    'united' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/united\" */ 'bootswatch/dist/united/bootstrap.min.css'),\n  ],\n  [\n    'yeti' as const,\n    () => import(/* webpackChunkName: \"bootswatch/dist/yeti\" */ 'bootswatch/dist/yeti/bootstrap.min.css'),\n  ],\n])\n\nexport const importThemeStyleCustom = (theme: GeneralTheme | null) => {\n  if (theme) {\n    const themeLoader = themeDeps.get(theme)\n    if (themeLoader) {\n      return themeLoader()\n    }\n  }\n\n  logError(`${theme}: theme is not defined`)\n\n  return themeDeps\n    .values()\n    .next()\n    .value()\n}\n\nexport const availableGeneralThemes = [\n  'materia',\n  'darkly',\n  'sandstone',\n  'cosmo',\n  'cyborg',\n  'flatly',\n  'journal',\n  'litera',\n  'lumen',\n  'lux',\n  'minty',\n  'pulse',\n  'simplex',\n  'slate',\n  'solar',\n  'spacelab',\n  'superhero',\n  'united',\n  'yeti',\n] as const\nexport type GeneralTheme = typeof availableGeneralThemes[number]\n\nexport const availableEditorThemes = ['github', 'monokai', 'tomorrow', 'solarized_dark', 'terminal'] as const\nexport type EditorTheme = typeof availableEditorThemes[number]\n","import * as React from 'react'\nimport { version } from '../../package.json'\nimport { GeneralTheme, availableGeneralThemes, availableEditorThemes, EditorTheme } from 'themes/themes'\nimport { switchTheme, switchEditorTheme } from 'actions/actions'\nimport { connect } from 'react-redux'\nimport { getTheme, getEditorTheme } from 'store/selectors'\nimport { RootState } from 'state/State'\nimport { useToggleState } from 'hooks/hooks'\nimport {\n  Navbar,\n  NavbarBrand,\n  NavbarToggler,\n  Collapse,\n  Nav,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  NavItem,\n  NavLink,\n  Dropdown,\n} from 'reactstrap'\nimport { withErrorBoundary } from './common/ErrorBoundary'\nimport { memo, useCallback, FC } from 'react'\n\ninterface Props {\n  setGeneralTheme: typeof switchTheme\n  setEditorTheme: typeof switchEditorTheme\n  currentTheme: GeneralTheme | null\n  currentEditorTheme: EditorTheme\n}\n\nconst Header: FC<Props> = ({ setGeneralTheme, currentTheme, setEditorTheme, currentEditorTheme }) => {\n  const [isOpen, switchIsOpen] = useToggleState()\n  const [dropDownIsOpen, toggleDropdown] = useToggleState()\n\n  return (\n    <>\n      <Navbar color=\"dark\" dark={true} expand=\"md\">\n        <NavbarBrand href=\"/\">Keyrier JSON</NavbarBrand>\n        <NavbarToggler onClick={switchIsOpen} />\n        <Collapse isOpen={isOpen} navbar={true}>\n          <Nav className=\"ml-auto\" navbar={true}>\n            <Dropdown isOpen={dropDownIsOpen} toggle={toggleDropdown}>\n              <DropdownToggle nav={true} caret={true}>\n                Theme\n              </DropdownToggle>\n              <DropdownMenu right={true}>\n                <DropdownItem header={true}>Choose editor theme</DropdownItem>\n                {availableEditorThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setEditorTheme}\n                    key={index}\n                    active={currentEditorTheme === theme}\n                    theme={theme}\n                    reloadOnChange={false}\n                  />\n                ))}\n                <DropdownItem header={true}>Choose general theme</DropdownItem>\n\n                {availableGeneralThemes.map((theme, index) => (\n                  <ThemeDropDownItem\n                    setTheme={setGeneralTheme}\n                    key={index}\n                    active={currentTheme === theme}\n                    theme={theme}\n                    reloadOnChange={true}\n                  />\n                ))}\n              </DropdownMenu>\n            </Dropdown>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json/releases/latest\">v{version}</NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"https://github.com/magoo-magoo/keyrier-json\">GitHub</NavLink>\n            </NavItem>\n          </Nav>\n        </Collapse>\n      </Navbar>\n    </>\n  )\n}\n\ntype ThemeDropDownItemProps<T extends GeneralTheme | EditorTheme> = {\n  theme: T\n  active: boolean\n  setTheme: (v: T) => void\n  reloadOnChange: boolean\n}\n\nconst ThemeDropDownItem = <T extends GeneralTheme | EditorTheme>(props: ThemeDropDownItemProps<T>) => {\n  const { theme, active, setTheme, reloadOnChange } = props\n  const onClick = useCallback(() => {\n    setTheme(theme)\n    if (reloadOnChange) {\n      setTimeout(() => window.location.reload())\n    }\n  }, [theme, setTheme, reloadOnChange])\n  return (\n    <DropdownItem active={active} onClick={onClick}>\n      {theme}\n    </DropdownItem>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  currentTheme: getTheme(state),\n  currentEditorTheme: getEditorTheme(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  { setGeneralTheme: switchTheme, setEditorTheme: switchEditorTheme }\n)(memo(withErrorBoundary(Header)))\n","import * as React from 'react'\nimport { Button } from 'reactstrap'\nimport { memo, useCallback, ChangeEvent, FC } from 'react'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\ninterface Props {\n  header: [string, string]\n  id: number\n  onChange: (h: [string, string]) => void\n  onRemove: (h: [string, string]) => void\n}\n\nexport const RenderHeaderInput: FC<Props> = memo(\n  withErrorBoundary(({ header, onRemove, onChange, id }) => {\n    const [key, value] = header\n\n    const onKeyChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange([e.target.value, value]), [\n      onChange,\n      value,\n    ])\n    const onValueChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange([key, e.target.value]), [\n      onChange,\n      key,\n    ])\n    const onRemoveCallback = useCallback(() => onRemove(header), [onRemove, header])\n\n    return (\n      <div className=\"row align-items-center\">\n        <div className=\"col-sm-5\">\n          <input\n            className=\"form-control-lg form-control\"\n            value={key}\n            id={`headerName${id}`}\n            type=\"text\"\n            name={`headerName${id}`}\n            placeholder=\"enter an name\"\n            onChange={onKeyChange}\n          />\n        </div>\n        <div className=\"col-sm-5\">\n          <input\n            className=\"form-control-lg form-control\"\n            value={value}\n            type=\"text\"\n            name={`headerValue${id}`}\n            id={`headerValue${id}`}\n            placeholder=\"enter an value\"\n            onChange={onValueChange}\n          />\n        </div>\n        <div className=\"col-sm-2\">\n          <Button outline={true} color=\"danger\" onClick={onRemoveCallback}>\n            remove\n          </Button>\n        </div>\n      </div>\n    )\n  })\n)\n","import * as React from 'react'\nimport { logError } from 'core/logging/logger'\nimport { connect } from 'react-redux'\nimport { updateSource } from 'actions/actions'\nimport { customToString } from 'core/converters/string'\nimport { RenderHeaderInput } from './RequestHeader'\nimport { useState, memo, useCallback, FC } from 'react'\nimport { Alert, FormGroup, Form, Button } from 'reactstrap'\nimport { useToggleState, useChangeEventState } from 'hooks/hooks'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\n\ninterface Props {\n  onFinish: () => void\n  setSource: (src: string) => void\n}\n\nconst HttpRequestSource: FC<Props> = ({ onFinish, setSource }) => {\n  const [method, setMethod] = useChangeEventState('GET')\n  const [url, setUrl] = useChangeEventState('https://rickandmortyapi.com/api/character/')\n  const [body, setBody] = useChangeEventState('')\n  const [headers, setHeaders] = useState([['Accept', 'application/json'] as [string, string]])\n  const [error, setError] = useState(null as TypeError | null)\n  const [hasBody, setHasBody] = useToggleState()\n\n  const submit = useCallback(async () => {\n    const requestInit: RequestInit = {\n      method,\n      headers,\n      body: hasBody ? body : null,\n    }\n    const request = new Request(url, requestInit)\n    setError(null)\n\n    let json: string\n    try {\n      const result = await fetch(request)\n      json = await result.json()\n    } catch (e) {\n      logError('HttpRequestSource.submit', e)\n      setError(e)\n      return\n    }\n    setSource(customToString(json))\n    onFinish()\n  }, [method, url, body, headers, hasBody, setError, setSource, onFinish])\n\n  return (\n    <div id=\"HttpRequestSource\">\n      <FormGroup>\n        <label htmlFor=\"requestMethod\">Method</label>\n        <select\n          className=\"form-control-lg form-control\"\n          defaultValue={method}\n          name=\"requestMethod\"\n          id=\"requestMethod\"\n          onChange={setMethod}\n        >\n          <option>GET</option>\n          <option>POST</option>\n          <option>PUT</option>\n          <option>OPTIONS</option>\n        </select>\n      </FormGroup>\n      <FormGroup>\n        <label htmlFor=\"requestUrl\">Request URL</label>\n        <input\n          defaultValue={url}\n          className=\"form-control-lg form-control\"\n          type=\"url\"\n          name=\"requestUrl\"\n          id=\"requestUrl\"\n          placeholder=\"enter an URL\"\n          onChange={setUrl}\n        />\n      </FormGroup>\n      <div className=\"position-relative form-check\">\n        <label className=\"form-check-label\">\n          <input type=\"checkbox\" className=\"form-check-input\" onChange={setHasBody} /> Add body\n        </label>\n      </div>\n      <Form inline={true} hidden={!hasBody}>\n        <FormGroup>\n          <label>Body</label>\n          <input className=\"form-control-lg form-control\" type=\"textarea\" value={body} onChange={setBody} />{' '}\n        </FormGroup>\n      </Form>\n      <label htmlFor=\"headers\">Request headers</label>{' '}\n      <Button\n        outline={true}\n        color=\"primary\"\n        onClick={() => setHeaders([...headers, [`name-${headers.length + 1}`, 'value']])}\n      >\n        Add header\n      </Button>\n      <br />\n      <br />\n      <HeaderList headers={headers} onChange={setHeaders} />\n      <br />\n      <Button block={true} color=\"primary\" onClick={submit}>\n        Submit\n      </Button>\n      {error && (\n        <Alert color=\"danger\">\n          Error: {error.message ? error.message : ''}\n          {error.stack ? error.stack : ''}\n        </Alert>\n      )}\n    </div>\n  )\n}\n\ntype HeaderListProps = {\n  headers: Array<[string, string]>\n  onChange: (headers: Array<[string, string]>) => void\n}\n\nconst HeaderList: FC<HeaderListProps> = ({ headers, onChange }) => {\n  const onRemove = useCallback((header: [string, string]) => onChange(headers.filter(h => h !== header)), [\n    headers,\n    onChange,\n  ])\n  const onChangeCallback = useCallback(\n    (header: [string, string]) => {\n      const index = headers.indexOf(header)\n      headers[index] = { ...header }\n      onChange([...headers])\n    },\n    [headers, onChange]\n  )\n  return (\n    <>\n      {headers.map((header, index) => (\n        <RenderHeaderInput header={header} key={index} id={index} onChange={onChangeCallback} onRemove={onRemove} />\n      ))}\n    </>\n  )\n}\n\nexport default connect(\n  null,\n  { setSource: updateSource }\n)(withErrorBoundary(memo(HttpRequestSource)))\n","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport {\n  updateSource,\n  resetEditor,\n  clearEditor,\n  updateAutoFormatSource,\n  undo,\n  redo,\n  updateQueryMode,\n} from 'actions/actions'\nimport HttpRequestSource from './source/RequestSource'\nimport { logInfo } from 'core/logging/logger'\nimport { useToggleState } from 'hooks/hooks'\nimport {\n  ButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  ButtonGroup,\n  Label,\n} from 'reactstrap'\nimport { memo, useCallback, FC, ChangeEvent } from 'react'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\nimport { getSourceAutoFormat, getCanUndo, getCanRedo, getQueryMode } from 'store/selectors'\nimport { RootState, QueryMode } from 'state/State'\n\ninterface Props {\n  onFileContentReady: typeof updateSource\n  changeAutoFormat: typeof updateAutoFormatSource\n  onReset: typeof resetEditor\n  onClear: typeof clearEditor\n  setQueryMode: typeof updateQueryMode\n  mode: QueryMode\n  onUndo: typeof undo\n  onRedo: typeof redo\n  canRedo: boolean\n  canUndo: boolean\n  autoFormat: boolean\n}\n\nconst LateralMenu: FC<Props> = ({\n  onReset,\n  onFileContentReady,\n  onClear,\n  autoFormat,\n  changeAutoFormat,\n  onRedo,\n  onUndo,\n  canRedo,\n  canUndo,\n  setQueryMode,\n  mode,\n}) => {\n  const [dropdownIsOpen, toggleDropdown] = useToggleState()\n  const [modalIsOpen, toggleModal] = useToggleState()\n  const [modeOpen, switchModeOpen] = useToggleState()\n  const setJsMode = useCallback(() => setQueryMode('Javascript'), [setQueryMode])\n  const setSqlMode = useCallback(() => setQueryMode('SQL'), [setQueryMode])\n  const handleFileChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      logInfo('onFileChange')\n      toggleDropdown()\n      if (e.target.files && e.target.files.length > 0) {\n        const fileReader = new FileReader()\n        logInfo('e.target.files', e.target.files[0].name)\n        fileReader.onload = () => {\n          if (fileReader.result) {\n            onFileContentReady(fileReader.result.toString())\n          }\n        }\n        fileReader.readAsText(e.target.files[0])\n      }\n    },\n    [toggleDropdown, onFileContentReady]\n  )\n\n  const handleAutoFormatChange = useCallback(() => changeAutoFormat(!autoFormat), [changeAutoFormat, autoFormat])\n\n  return (\n    <>\n      <ButtonGroup className=\"mt-5\" vertical={true}>\n        <ButtonGroup vertical={false}>\n          <Button\n            className=\"d-flex justify-content-center align-content-between\"\n            color=\"secondary\"\n            size={'sm'}\n            onClick={onUndo}\n            disabled={!canUndo}\n          >\n            <i className=\"material-icons mr-1 md-18\">undo</i>\n            <span>Undo</span>\n          </Button>\n          <Button\n            className=\"d-flex justify-content-center align-content-between\"\n            color=\"secondary\"\n            size={'sm'}\n            onClick={onRedo}\n            disabled={!canRedo}\n          >\n            Redo\n            <i className=\"material-icons mr-1 md-18\">redo</i>\n          </Button>\n        </ButtonGroup>\n        <br />\n        <br />\n        <Label\n          className=\"d-flex justify-content-center align-content-between\"\n          check={true}\n          onClick={handleAutoFormatChange}\n        >\n          <i className=\"material-icons mr-1\">{autoFormat ? 'check_box' : 'check_box_outline_blank'}</i>\n          Auto format\n        </Label>\n        <br />\n        <ButtonDropdown isOpen={dropdownIsOpen} toggle={toggleDropdown}>\n          <DropdownToggle\n            className=\"d-flex justify-content-center align-content-between\"\n            size={'lg'}\n            id=\"import-menu-button\"\n            color=\"primary\"\n          >\n            <i className=\"material-icons mr-1 md-18\">unarchive</i>\n            Import\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem toggle={false}>\n              <label id=\"import-file\">\n                Browse JSON file...\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"sourceFile\"\n                  style={{ display: 'none' }}\n                  onChange={handleFileChange}\n                />\n              </label>\n            </DropdownItem>\n            <DropdownItem id=\"http-request\" onClick={toggleModal}>\n              <label>HTTP request</label>\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <br />\n        <br />\n        <Button\n          className=\"d-flex justify-content-center align-content-between\"\n          color=\"secondary\"\n          size={'lg'}\n          onClick={onReset}\n        >\n          <div>\n            <i className=\"material-icons md-18 mr-1\">autorenew</i>\n          </div>\n          <div>Reset</div>\n        </Button>\n        <br />\n\n        <ButtonDropdown isOpen={modeOpen} toggle={switchModeOpen}>\n          <DropdownToggle className=\"d-flex justify-content-center align-content-between\" size={'lg'} color=\"secondary\">\n            <div>\n              <i className=\"material-icons md-18 mr-1\">settings</i>\n            </div>\n            <div>Mode</div>\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem header={true}>Choose query mode</DropdownItem>\n            <DropdownItem active={mode === 'Javascript'} onClick={setJsMode}>\n              Javascript\n            </DropdownItem>\n            <DropdownItem active={mode === 'SQL'} onClick={setSqlMode}>\n              SQL like (experimental)\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <br />\n        <Button\n          className=\"d-flex justify-content-center align-content-between\"\n          color=\"danger\"\n          size={'lg'}\n          onClick={onClear}\n        >\n          <div>\n            <i className=\"material-icons md-18  mr-1\">clear</i>\n          </div>\n          <div>Clear</div>\n        </Button>\n      </ButtonGroup>\n      <Modal id=\"requestModal\" role=\"dialog\" size=\"lg\" isOpen={modalIsOpen} toggle={toggleModal}>\n        <ModalHeader toggle={toggleModal}>Import JSON from an HTTP request</ModalHeader>\n        <ModalBody>\n          <HttpRequestSource onFinish={toggleModal} />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleModal}>\n            Cancel\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  autoFormat: getSourceAutoFormat(state),\n  canUndo: getCanUndo(state),\n  canRedo: getCanRedo(state),\n  mode: getQueryMode(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    onFileContentReady: updateSource,\n    onReset: resetEditor,\n    onClear: clearEditor,\n    onUndo: undo,\n    onRedo: redo,\n    changeAutoFormat: updateAutoFormatSource,\n    setQueryMode: updateQueryMode,\n  }\n)(memo(withErrorBoundary(LateralMenu)))\n","import styles from './App.module.scss'\nimport * as React from 'react'\nimport Header from './Header'\nimport { ToastContainer } from 'react-toastify'\nimport { lazy, Suspense } from 'react'\nimport LateralMenu from './LateralMenu'\nconst SourceEditor = lazy(() => import(/* webpackChunkName: \"SourceEditor\" */ 'components/source/SourceEditor'))\nconst Output = lazy(() => import(/* webpackChunkName: \"Output\" */ 'components/output/Output'))\nconst QueryEditor = lazy(() => import(/* webpackChunkName: \"QueryEditor\" */ 'components/query/QueryEditor'))\n\nexport const App = () => (\n  <>\n    <Header />\n    <div className=\"container\">\n      <h1 className=\"my-5\">Paste your JSON and Query it.</h1>\n      <div className=\"row\">\n        <div className=\"col-sm-2\">\n          <LateralMenu />\n        </div>\n        <div className=\"col-sm-10\">\n          <Suspense fallback={'loading...'}>\n            <SourceEditor />\n          </Suspense>\n          <div className=\"my-5\">\n            <Suspense fallback={'loading...'}>\n              <QueryEditor />\n            </Suspense>\n          </div>\n        </div>\n      </div>\n      <div className={`row ${styles.output}`}>\n        <div className=\"col\">\n          <Suspense fallback={'loading...'}>\n            <Output />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n    <ToastContainer />\n  </>\n)\n\nexport default App\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL!, window.location.toString())\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.')\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.')\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type')!.indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { Provider } from 'react-redux'\nimport './index.scss'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport { configureStore } from 'store/store'\nimport * as React from 'react'\nimport { getTheme } from 'store/selectors'\nimport { importThemeStyleCustom } from 'themes/themes'\nimport App from 'components/App'\nimport { unregister } from 'registerServiceWorker'\n;(async () => {\n  const store = configureStore()\n\n  const promises = await Promise.all([\n    import(/* webpackChunkName: \"react-dom\" */ 'react-dom'),\n    importThemeStyleCustom(getTheme(store.getState())),\n  ])\n\n  const ReactDOM = promises[0]\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  )\n\n  unregister()\n})()\n","// tslint:disable:no-console\n\nexport const logError = (error: string | Error, payload?: any) => {\n  console.error('Keyrier error', error)\n  if (typeof payload !== 'undefined') {\n    console.error(payload)\n  }\n}\n\nexport const logWarning = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.warn(message)\n  }\n  console.warn(message, payload)\n}\n\nexport const logInfo = (message: string, payload?: any) => {\n  if (typeof payload === 'undefined') {\n    console.info(message)\n  }\n  console.info(message, payload)\n}\n","import { QueryMode, tabType } from 'state/State'\nimport { GeneralTheme, EditorTheme } from 'themes/themes'\n\nexport const updateAutoFormatSource = (active: boolean) =>\n  ({\n    active,\n    type: 'UPDATE_AUTOFORMAT_SOURCE',\n  } as const)\n\nexport const updateSource = (source: string) =>\n  ({\n    source,\n    type: 'UPDATE_SOURCE_TEXT',\n  } as const)\n\nexport const updateQuery = (query: string) =>\n  ({\n    query,\n    type: 'UPDATE_QUERY',\n  } as const)\n\nexport const resetEditor = () =>\n  ({\n    type: 'RESET_EDITOR',\n  } as const)\n\nexport const undo = () =>\n  ({\n    type: 'APP_UNDO',\n  } as const)\n\nexport const redo = () =>\n  ({\n    type: 'APP_REDO',\n  } as const)\n\nexport const clearEditor = () =>\n  ({\n    type: 'CLEAR_EDITOR',\n  } as const)\n\nexport const evaluateCode = () =>\n  ({\n    type: 'EVALUATE_CODE',\n  } as const)\n\nexport const toggleOutputTableModal = () =>\n  ({\n    type: 'TOGGLE_OUTPUT_TABLE_MODAL',\n  } as const)\n\nexport const updateTableColumns = (columns: string[]) =>\n  ({\n    columns,\n    type: 'UPDATE_TABLE_COLUMNS',\n  } as const)\n\nexport const updateTableGroupBy = (groupBy: string[]) =>\n  ({\n    groupBy,\n    type: 'UPDATE_TABLE_GROUP_BY',\n  } as const)\n\nexport const switchTheme = (theme: GeneralTheme) => ({\n  theme,\n  type: 'SWITCH_GLOBAL_THEME' as const,\n})\n\nexport const switchEditorTheme = (theme: EditorTheme) => ({\n  theme,\n  type: 'SWITCH_EDITOR_THEME' as const,\n})\n\nexport const updateSearchTerm = (searchTerm: string) =>\n  ({\n    searchTerm,\n    type: 'UPDATE_OUTPUT_SEARCH_TERM',\n  } as const)\n\nexport const updateQueryMode = (mode: QueryMode) =>\n  ({\n    mode,\n    type: 'UPDATE_QUERY_MODE',\n  } as const)\n\nexport const updateOutputTabSelection = (tab: tabType) =>\n  ({\n    tab,\n    type: 'UPDATE_OUTPUT_TAB_SELECTION',\n  } as const)\n\ntype ReduxInitAction = {\n  type: '@@INIT'\n}\n\nexport type Action =\n  | Readonly<ReduxInitAction>\n  | ReturnType<typeof evaluateCode>\n  | ReturnType<typeof resetEditor>\n  | ReturnType<typeof clearEditor>\n  | ReturnType<typeof updateQuery>\n  | ReturnType<typeof toggleOutputTableModal>\n  | ReturnType<typeof updateTableColumns>\n  | ReturnType<typeof updateTableGroupBy>\n  | ReturnType<typeof switchTheme>\n  | ReturnType<typeof updateSearchTerm>\n  | ReturnType<typeof updateQueryMode>\n  | ReturnType<typeof updateOutputTabSelection>\n  | ReturnType<typeof updateSource>\n  | ReturnType<typeof updateAutoFormatSource>\n  | ReturnType<typeof switchEditorTheme>\n  | ReturnType<typeof undo>\n  | ReturnType<typeof redo>\n","import { useState, useCallback, ChangeEvent } from 'react'\n\nexport const useToggleState = (initial: boolean = false): readonly [boolean, () => void] => {\n  const [value, setValue] = useState(initial)\n  return [value, () => setValue(!value)]\n}\n\ntype HtmlElementHookable = HTMLSelectElement | HTMLInputElement\n\nexport const useChangeEventState = (\n  initialValue: string\n): readonly [string, (e: ChangeEvent<HtmlElementHookable>) => void] => {\n  const [value, setValue] = useState(initialValue)\n\n  const eventHandler = useCallback(\n    (event: ChangeEvent<HtmlElementHookable>) => {\n      if (event && event.target) {\n        setValue(event.target.value)\n      }\n    },\n    [setValue]\n  )\n\n  return [value, eventHandler]\n}\n","import { RootState } from 'state/State'\n\nexport const getOutputErrorMessage = (state: RootState) =>\n  state && state.app && state.app.present.output ? state.app.present.output.errorMessage : ''\n\nexport const getOutputIsArray = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.table\n    ? !!state.app.present.output.table.isArray\n    : false\nexport const getOutputActiveTab = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.selectedTab\n    ? state.app.present.output.selectedTab\n    : ('RawJson' as const)\nexport const getOutputObject = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.obj ? state.app.present.output.obj : {}\nexport const getOutputObjectSize = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.objSize\n    ? state.app.present.output.objSize\n    : 0\nexport const getOutputSearchTerm = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.searchTerm\nexport const getOutputSearchMatch = (state: RootState) =>\n  state && state.app && state.app.present.output ? !!state.app.present.output.match : false\nexport const getisOutputTableModalOpen = (state: RootState) =>\n  state && state.app && state.app.present.output && state.app.present.output.table\n    ? !!state.app.present.output.table.isModalOpen\n    : false\n\nexport const getTheme = (state: RootState) =>\n  state.userSettings && state.userSettings.globalTheme ? state.userSettings.globalTheme : ('pulse' as const)\nexport const getEditorTheme = (state: RootState) =>\n  state.userSettings && state.userSettings.editorTheme ? state.userSettings.editorTheme : ('github' as const)\n\nexport const getdisplayedColumns = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.displayedColumns\n    ? [...state.app.present.output.table.displayedColumns]\n    : []\nexport const getOutputarray = (state: RootState) =>\n  state && state.app && state.app.present.output && Array.isArray(state.app.present.output.obj)\n    ? [...state.app.present.output.obj]\n    : []\nexport const getColumns = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.columns\n    ? [...state.app.present.output.table.columns]\n    : []\nexport const getGroupBy = (state: RootState) =>\n  state &&\n  state.app &&\n  state.app.present.output &&\n  state.app.present.output.table &&\n  state.app.present.output.table.groupBy\n    ? [...state.app.present.output.table.groupBy]\n    : []\n\nexport const getQueryText = (state: RootState) =>\n  state && state.app && state.app.present.query && state.app.present.query.text ? state.app.present.query.text : ''\nexport const getQueryMode = (state: RootState) =>\n  state && state.app && state.app.present.query && state.app.present.query.mode\n    ? state.app.present.query.mode\n    : ('SQL' as const)\n\nexport const getSourceText = (state: RootState) =>\n  state && state.app && state.app.present.source && state.app.present.source.text ? state.app.present.source.text : ''\nexport const getSourceAutoFormat = (state: RootState) =>\n  state && state.app && state.app.present.source ? !!state.app.present.source.autoFormat : false\n\nexport const getCanRedo = (state: RootState) =>\n  state && state.app && state.app.future ? state.app.future.length !== 0 : false\nexport const getCanUndo = (state: RootState) =>\n  state && state.app && state.app.past ? state.app.past.length > 1 : false\n","import * as React from 'react'\nimport { logError } from 'core/logging/logger'\nimport { toast } from 'react-toastify'\nimport { Component, ComponentType } from 'react'\n\nconst MISSING_ERROR = 'Error was swallowed during propagation.'\n\ntype State = {\n  error?: Error\n}\n\nclass ErrorBoundary extends Component<{}, State> {\n  public readonly state: State = {\n    error: undefined,\n  }\n\n  public componentDidCatch(error: Error | null, info: object) {\n    this.setState({ error: error || new Error(MISSING_ERROR) }, () => this.notify(info))\n  }\n\n  public render() {\n    const { children } = this.props\n    const { error } = this.state\n\n    if (error) {\n      return <>An error occured</>\n    }\n\n    return children\n  }\n\n  private notify(info: object) {\n    logError('An error occured', this.state.error)\n    logError('error info:', info)\n    toast.error(JSON.stringify(info), { position: 'bottom-right', hideProgressBar: true, autoClose: false })\n  }\n}\n\nexport const withErrorBoundary = <T extends {}>(Wrapped: ComponentType<T>) => (props: T) => (\n  <ErrorBoundary>\n    <Wrapped {...props} />\n  </ErrorBoundary>\n)\n","export const customToString = (obj: {}): string => {\n  if (Array.isArray(obj)) {\n    const array: any[] = obj\n    return array.map(e => customToString(e)).join(',')\n  }\n  if (typeof obj === 'object') {\n    return JSON.stringify(obj)\n  }\n  if (typeof obj === 'undefined') {\n    return ''\n  }\n  if (obj !== null && obj !== undefined) {\n    return obj.toString()\n  }\n\n  return ''\n}\n\nexport const containsIgnoreCase = (str: string, part: string) => {\n  if (!str || !part) {\n    return false\n  }\n  if (str.toLocaleLowerCase().includes(part.toLocaleLowerCase())) {\n    return true\n  }\n\n  return false\n}\n\nconst UNITS = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\nconst toLocaleString = (value: number, locale: boolean | string = false) => {\n  let result = value.toString()\n  if (typeof locale === 'string') {\n    result = value.toLocaleString(locale)\n  } else if (locale === true) {\n    result = value.toLocaleString()\n  }\n\n  return result\n}\n\nexport const prettyPrintBytes = (value: number, signed = false, locale: boolean | string = false) => {\n  if (!Number.isFinite(value)) {\n    throw new TypeError(`Expected a finite number, got ${typeof value}: ${value}`)\n  }\n  if (value === 0) {\n    return '0 B'\n  }\n  const isNegative = value < 0\n  const prefix = isNegative ? '-' : signed ? '+' : ''\n  if (isNegative) {\n    value = -value\n  }\n  if (value < 1) {\n    const numberStr = toLocaleString(value, locale ? locale : false)\n    return prefix + numberStr + ' B'\n  }\n  const exponent = Math.min(Math.floor(Math.log10(value) / 3), UNITS.length - 1)\n  value = Number((value / Math.pow(1024, exponent)).toPrecision(3))\n  const numberString = toLocaleString(value, locale ? locale : false)\n  const unit = UNITS[exponent]\n  return prefix + numberString + ' ' + unit\n}\n","export const arrayElementName = 'arrayElement'\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"output\":\"App_output__Esw2u\"};"],"sourceRoot":""}