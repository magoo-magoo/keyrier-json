{"version":3,"sources":["components/common/DeferredAceEditor.tsx","components/source/SourceEditor.tsx"],"names":["CDN","ace","set","AceEditor","mode","theme","name","value","onChange","fontSize","highlightActiveLine","minLines","maxLines","Infinity","showPrintMargin","showGutter","cursorStart","width","debounceChangePeriod","connect","mapStateToProps","state","sourceText","getSourceText","currentEditorTheme","getEditorTheme","Actions","updateSource","withErrorBoundary","memo","withPerformance","SourceEditor","onChangeCallback","useCallback","s","unstable_runWithPriority","unstable_IdlePriority"],"mappings":"kHAAA,wEAgBMA,EAAM,mEACZC,SAAWC,IAAI,WAAYF,GAC3BC,SAAWC,IAAI,WAAYF,GAC3BC,SAAWC,IAAI,YAAaF,GAC5BC,SAAWC,IAAI,aAAcF,GAS7B,IAAMG,EAAuB,SAAvBA,UAAwB,GAA4C,IAA1CC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACtD,OACI,gBAAC,IAAD,CACIJ,KAAMA,EACNC,MAAOA,EACPC,KAAMA,EACNE,SAAUA,EACVC,SAAU,GACVC,qBAAqB,EACrBH,MAAOA,EACPI,SAAU,GACVC,SAAUC,IACVC,iBAAiB,EACjBC,YAAY,EACZC,YAAa,EACbC,MAAK,OACLC,qBAAsB,Q,iCC7ClC,2EAuCeC,uBALS,SAAlBC,gBAAmBC,GAAD,MAAuB,CAC3CC,WAAYC,YAAcF,GAC1BG,mBAAoBC,YAAeJ,MAGC,CAAEb,SAAUkB,IAAQC,cAA7CR,CACXS,YAAkBC,eAAKC,aAtBK,SAA1BC,aAA2B,GAAkD,IAAhDvB,EAA+C,EAA/CA,SAAUc,EAAqC,EAArCA,WAAYE,EAAyB,EAAzBA,mBAC/CQ,EAAmBC,uBACrB,SAACC,GACOZ,IAAeY,GACfC,mCAAyBC,yBAAuB,kBAAM5B,EAAS0B,QAGvE,CAAC1B,EAAUc,IAEf,OACI,gCACI,gBAAC,IAAD,CAAWlB,KAAK,OAAOC,MAAOmB,EAAoBlB,KAAK,kBAAkBE,SAAUwB,EAAkBzB,MAAOe,OAW/D","file":"static/js/SourceEditor.31efbabb.chunk.js","sourcesContent":["// import 'ace-builds'\nimport * as ace from 'ace-builds/src-min-noconflict/ace' // Load Ace Editor\nimport * as React from 'react'\nimport { FC } from 'react'\n// import 'ace-builds/src-min/mode-javascript'\n// import 'ace-builds/src-min/mode-json'\n// import 'ace-builds/src-min/mode-mysql'\n// import 'ace-builds/src-min/theme-github'\n// import 'ace-builds/src-min/theme-monokai'\n// import 'ace-builds/src-min/theme-solarized_dark'\n// import 'ace-builds/src-min/theme-terminal'\n// import 'ace-builds/src-min/theme-tomorrow'\n// import 'ace-builds/webpack-resolver'\nimport Ace from 'react-ace'\nimport { EditorTheme } from 'themes/themes'\n\nconst CDN = 'https://cdn.jsdelivr.net/npm/ace-builds@1.3.3/src-min-noconflict'\nace.config.set('basePath', CDN)\nace.config.set('modePath', CDN)\nace.config.set('themePath', CDN)\nace.config.set('workerPath', CDN)\n\ntype Props = {\n    mode: 'javascript' | 'mysql' | 'json'\n    theme: EditorTheme\n    name: string\n    value: string\n    onChange: (v: string, e: React.ChangeEvent) => void\n}\nconst AceEditor: FC<Props> = ({ mode, theme, name, value, onChange }) => {\n    return (\n        <Ace\n            mode={mode}\n            theme={theme}\n            name={name}\n            onChange={onChange}\n            fontSize={16}\n            highlightActiveLine={true}\n            value={value}\n            minLines={24}\n            maxLines={Infinity}\n            showPrintMargin={false}\n            showGutter={false}\n            cursorStart={1}\n            width={`100%`}\n            debounceChangePeriod={750}\n        />\n    )\n}\nexport { AceEditor }\n","import Actions from 'actions/actions'\nimport { AceEditor } from 'components/common/DeferredAceEditor'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\nimport { withPerformance } from 'core/logging/performance'\nimport * as React from 'react'\nimport { FC, memo, useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { unstable_IdlePriority, unstable_runWithPriority } from 'scheduler'\nimport { RootState } from 'state/State'\nimport { getEditorTheme, getSourceText } from 'store/selectors'\nimport { EditorTheme } from 'themes/themes'\n\ninterface Props {\n    onChange: typeof Actions.updateSource\n    sourceText: string\n    currentEditorTheme: EditorTheme\n}\n\nconst SourceEditor: FC<Props> = ({ onChange, sourceText, currentEditorTheme }) => {\n    const onChangeCallback = useCallback(\n        (s: string) => {\n            if (sourceText !== s) {\n                unstable_runWithPriority(unstable_IdlePriority, () => onChange(s))\n            }\n        },\n        [onChange, sourceText],\n    )\n    return (\n        <>\n            <AceEditor mode=\"json\" theme={currentEditorTheme} name=\"sourceAceEditor\" onChange={onChangeCallback} value={sourceText} />\n        </>\n    )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n    sourceText: getSourceText(state),\n    currentEditorTheme: getEditorTheme(state),\n})\n\nexport default connect(mapStateToProps, { onChange: Actions.updateSource })(\n    withErrorBoundary(memo(withPerformance(SourceEditor, 'SourceEditor'))),\n)\n"],"sourceRoot":""}