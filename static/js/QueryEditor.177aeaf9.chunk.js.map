{"version":3,"sources":["components/common/DeferredAceEditor.tsx","components/query/QueryEditor.tsx"],"names":["CDN","ace","set","AceEditor","mode","theme","name","value","onChange","fontSize","highlightActiveLine","minLines","maxLines","Infinity","showPrintMargin","showGutter","cursorStart","width","debounceChangePeriod","connect","mapStateToProps","state","queryText","getQueryText","getQueryMode","currentEditorTheme","getEditorTheme","setQuery","Actions","updateQuery","withErrorBoundary","memo","withPerformance","QueryEditor","useCallback","a","unstable_runWithPriority","unstable_IdlePriority"],"mappings":"kHAAA,wEAgBMA,EAAM,mEACZC,SAAWC,IAAI,WAAYF,GAC3BC,SAAWC,IAAI,WAAYF,GAC3BC,SAAWC,IAAI,YAAaF,GAC5BC,SAAWC,IAAI,aAAcF,GAS7B,IAAMG,EAAuB,SAAvBA,UAAwB,GAA4C,IAA1CC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACtD,OACI,gBAAC,IAAD,CACIJ,KAAMA,EACNC,MAAOA,EACPC,KAAMA,EACNE,SAAUA,EACVC,SAAU,GACVC,qBAAqB,EACrBH,MAAOA,EACPI,SAAU,GACVC,SAAUC,IACVC,iBAAiB,EACjBC,YAAY,EACZC,YAAa,EACbC,MAAK,OACLC,qBAAsB,Q,iCC7ClC,2EA+CeC,uBANS,SAAlBC,gBAAmBC,GAAD,MAAuB,CAC3CC,UAAWC,YAAaF,GACxBjB,KAAMoB,YAAaH,GACnBI,mBAAoBC,YAAeL,MAGC,CAAEM,SAAUC,IAAQC,aAA7CV,CACXW,YAAkBC,eAAKC,aA7BI,SAAzBC,YAA0B,GAAuD,IAArDN,EAAoD,EAApDA,SAAUL,EAA0C,EAA1CA,UAAWlB,EAA+B,EAA/BA,KAAMqB,EAAyB,EAAzBA,mBACnDjB,EAAW0B,uBACb,SAACC,GACOb,IAAca,GACdC,mCAAyBC,yBAAuB,kBAAMV,EAASQ,QAGvE,CAACR,EAAUL,IAEf,OACI,gCACI,gBAAC,IAAD,CACIlB,KAAe,eAATA,EAAwB,aAAe,QAC7CC,MAAOoB,EACPnB,KAAK,iBACLE,SAAUA,EACVD,MAAOe,OAaiC","file":"static/js/QueryEditor.177aeaf9.chunk.js","sourcesContent":["// import 'ace-builds'\nimport * as ace from 'ace-builds/src-min-noconflict/ace' // Load Ace Editor\nimport * as React from 'react'\nimport { FC } from 'react'\n// import 'ace-builds/src-min/mode-javascript'\n// import 'ace-builds/src-min/mode-json'\n// import 'ace-builds/src-min/mode-mysql'\n// import 'ace-builds/src-min/theme-github'\n// import 'ace-builds/src-min/theme-monokai'\n// import 'ace-builds/src-min/theme-solarized_dark'\n// import 'ace-builds/src-min/theme-terminal'\n// import 'ace-builds/src-min/theme-tomorrow'\n// import 'ace-builds/webpack-resolver'\nimport Ace from 'react-ace'\nimport { EditorTheme } from 'themes/themes'\n\nconst CDN = 'https://cdn.jsdelivr.net/npm/ace-builds@1.3.3/src-min-noconflict'\nace.config.set('basePath', CDN)\nace.config.set('modePath', CDN)\nace.config.set('themePath', CDN)\nace.config.set('workerPath', CDN)\n\ntype Props = {\n    mode: 'javascript' | 'mysql' | 'json'\n    theme: EditorTheme\n    name: string\n    value: string\n    onChange: (v: string, e: React.ChangeEvent) => void\n}\nconst AceEditor: FC<Props> = ({ mode, theme, name, value, onChange }) => {\n    return (\n        <Ace\n            mode={mode}\n            theme={theme}\n            name={name}\n            onChange={onChange}\n            fontSize={16}\n            highlightActiveLine={true}\n            value={value}\n            minLines={24}\n            maxLines={Infinity}\n            showPrintMargin={false}\n            showGutter={false}\n            cursorStart={1}\n            width={`100%`}\n            debounceChangePeriod={750}\n        />\n    )\n}\nexport { AceEditor }\n","import Actions from 'actions/actions'\nimport { AceEditor } from 'components/common/DeferredAceEditor'\nimport { withErrorBoundary } from 'components/common/ErrorBoundary'\nimport { withPerformance } from 'core/logging/performance'\nimport * as React from 'react'\nimport { FC, memo, useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { unstable_IdlePriority, unstable_runWithPriority } from 'scheduler'\nimport { QueryMode, RootState } from 'state/State'\nimport { getEditorTheme, getQueryMode, getQueryText } from 'store/selectors'\nimport { EditorTheme } from 'themes/themes'\n\ninterface Props {\n    setQuery: typeof Actions.updateQuery\n    queryText: string\n    currentEditorTheme: EditorTheme\n    mode: QueryMode\n}\n\nconst QueryEditor: FC<Props> = ({ setQuery, queryText, mode, currentEditorTheme }) => {\n    const onChange = useCallback(\n        (a: string) => {\n            if (queryText !== a) {\n                unstable_runWithPriority(unstable_IdlePriority, () => setQuery(a))\n            }\n        },\n        [setQuery, queryText],\n    )\n    return (\n        <>\n            <AceEditor\n                mode={mode === 'Javascript' ? 'javascript' : 'mysql'}\n                theme={currentEditorTheme}\n                name=\"queryAceEditor\"\n                onChange={onChange}\n                value={queryText}\n            />\n        </>\n    )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n    queryText: getQueryText(state),\n    mode: getQueryMode(state),\n    currentEditorTheme: getEditorTheme(state),\n})\n\nexport default connect(mapStateToProps, { setQuery: Actions.updateQuery })(\n    withErrorBoundary(memo(withPerformance(QueryEditor, 'QueryEditor'))),\n)\n"],"sourceRoot":""}