(this["webpackJsonpkeyrier-json"]=this["webpackJsonpkeyrier-json"]||[]).push([[1],{616:function(e,t,n){e.exports={pointer:"Output_pointer__Fhc2d"}},617:function(e,t,n){},618:function(e,t,n){e.exports={loader:"Loading_loader__1SW_q",spin:"Loading_spin__HjhGY"}},655:function(e,t,n){"use strict";n.r(t);var a=n(67),l=n(17),c=n(5),r=n.n(c),o=n(31),s=n(47),u=n(28),m=n(1),i=n(26),b=n(163),d=n(93),p=n(629),E=n(630),f=n(631),v=n(21),O=n(11),j=n(613),g=n(189),h=n.n(g),y=n(161),k=n(165),N=n(656),C=Object(m.lazy)((function(){return n.e(30).then(n.t.bind(null,652,7))})),w={border:"3px solid red"},T=function noop(){return null},S=Object(i.b)((function mapStateToProps(e){return{src:Object(v.k)(e),searchTerm:Object(v.n)(e),match:Object(v.m)(e),size:Object(v.l)(e),debugMode:Object(v.d)(e)}}),{onSearchChange:l.m})(Object(o.a)(Object(m.memo)(Object(u.c)((function JsonView(e){var t=e.src,n=e.searchTerm,a=e.onSearchChange,l=e.match,c=e.size,r=e.debugMode,o=Object(m.useState)(4683932),u=Object(O.a)(o,2),i=u[0],b=u[1],d=c>i,p=Object(m.useCallback)((function(e){return a(e.target.value)}),[a]);return m.createElement("div",{id:"jsonView"},m.createElement(j.DebounceInput,{style:n&&""!==n&&!l?w:{},value:n,className:"form-control",onChange:p,debounceTimeout:500,placeholder:"Type your search term..."}),m.createElement(m.Suspense,{fallback:m.createElement("div",null,"Loading...")},r?m.createElement(y.a,null,m.createElement(k.a,{for:"exampleCustomRange"},"heavy object size: ",Object(s.c)(i)),m.createElement(N.a,{type:"range",id:"exampleCustomRange",name:"customRange",value:i,steps:102400,min:102400,max:1048576,onChange:function onChange(e){return b(parseInt(e.currentTarget.value,10))}})):m.createElement(m.Fragment,null),d?m.createElement(m.Fragment,null):m.createElement(C,{src:t||{},name:"data",iconStyle:"triangle",indentWidth:8,onAdd:T,onDelete:T,onEdit:T,onSelect:T})))}),"JsonView"),(function(e,t){return h()(e,t)})))),x=n(616),_=n.n(x),M=n(172),F=n(167),A=n(168),z=n(169),D=(n(617),n(618)),R=n.n(D),J=Object(i.b)((function(e){return{debugMode:Object(v.d)(e)}}))((function Loading(e){var t=e.componentName,n=e.debugMode;return m.createElement("div",{className:R.a.loader},n?t:"")})),P=n(86),V=n(619),B=n(15),G=n.n(B),I=n(22),L=n(23),W=n(24),H=n.n(W),q=n(156),Y=Object(m.lazy)((function(){return n.e(26).then(n.bind(null,654))})),$=Object(i.b)((function mapStateToProps(e){return{data:Object(v.o)(e),displayedColumns:Object(v.u)(e),columns:Object(v.c)(e),groupBy:Object(v.f)(e)}}),{onColumnsChange:l.o,setTableGroupBy:l.p,toggleModal:l.f})(Object(m.memo)(Object(o.a)(Object(u.c)((function TableAdvancedOptions(e){var t=e.onColumnsChange,a=e.columns,l=e.setTableGroupBy,c=e.data,r=e.displayedColumns,o=e.toggleModal,s=Object(L.b)(),u=Object(O.a)(s,2),i=u[0],b=u[1],p=Object(m.useCallback)((function(e){if(e instanceof Array){var n=e.map((function(e){return e.value?e.value:""}));t(n)}}),[t]),E=Object(m.useCallback)(Object(I.a)(G.a.mark((function _callee(){var e,t,a;return G.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Promise.all([n.e(9),n.e(6)]).then(n.t.bind(null,653,7));case 2:e=l.sent,t=e.utils.book_new(),a=e.utils.json_to_sheet(c.map((function(e){return H.a.pick(e,r)})),{header:r}),e.utils.book_append_sheet(t,a,"keyrier-json"),e.writeFile(t,"export-".concat((new Date).toISOString(),".xlsx"));case 7:case"end":return l.stop()}}),_callee)}))),[r,c]),f=Object(m.useCallback)((function(e){return l([e.target.value])}),[l]);if(a.length<=0)return m.createElement(m.Fragment,null);var v=a.map((function(e){return{value:e,label:e}}));return m.createElement("div",{className:"row py-1"},m.createElement("div",{className:"col-2"},m.createElement(d.a,{className:"float-left col my-1",color:"primary",block:!0,onClick:b},i?"Hide advanced options":"Advanced options"),m.createElement(q.a,{isOpen:i},m.createElement("select",{className:"form-control-lg form-control",name:"select",id:"groupingSelect",onChange:f},m.createElement("option",{key:"Group by..."},"Group by..."),r.map((function(e){return m.createElement("option",{key:e},e)}))),m.createElement(d.a,{className:"col my-1",color:"success",onClick:E},"Export to Excel (.xlsx)"),m.createElement(d.a,{className:"col my-1",block:!0,color:"dark",outline:!0,onClick:o},"Display results table fullscreen"),m.createElement(m.Suspense,{fallback:m.createElement(J,{componentName:"ReactSelect"})},m.createElement(Y,{options:v,value:r.map((function(e){return{value:e,label:e}})),isMulti:!0,onChange:p})))))}),"TableAdvancedOptions")))),K=function TableCellComponent(e){var t=e.cell,n=e.onClick;if(!t)return m.createElement(m.Fragment,null);var a=Object(s.b)(t.value),l=a.length>50,c=l?Object(s.d)(a,50):a,r=l?function(){n(t.value)}:void 0;return m.createElement("td",{onClick:r,className:"text-center text-nowrap data-test-id-cell-data"},l?m.createElement("button",{className:"btn"},c):c)},Q=m.lazy((function(){return n.e(30).then(n.t.bind(null,652,7))})),U=function TableDetailModal(e){var t=e.value,n=e.onClose;return m.createElement(M.a,{isOpen:!!t,toggle:n,size:"lg"},m.createElement(F.a,null,"Details"),m.createElement(A.a,null,"object"===typeof t?m.createElement(m.Suspense,{fallback:m.createElement(J,{componentName:"ReactJson"})},m.createElement(Q,{src:t||{},name:"data",iconStyle:"triangle",indentWidth:8,onAdd:function onAdd(){return null},onDelete:function onDelete(){return null},onEdit:function onEdit(){return null},onSelect:function onSelect(){return null}})):t))},X=function DefaultColumnFilter(e){return m.createElement("div",null,m.createElement("input",{className:"form-control form-control-sm",value:e.column.filterValue||"",onChange:function onChange(t){e.column.setFilter(t.target.value||void 0)}}))},Z=Object(i.b)((function mapStateToProps(e){return{data:Object(v.o)(e),displayedColumns:Object(v.u)(e),columns:Object(v.c)(e),groupBy:Object(v.f)(e)}}))(Object(o.a)(Object(m.memo)(Object(u.c)((function OutputTableView(e){var t=e.data,n=e.displayedColumns,l=Object(m.useState)(null),c=Object(O.a)(l,2),r=c[0],o=c[1],s=Object(m.useMemo)((function(){return t.map((function(e){return e?"object"===typeof e?e:Object(a.a)({},P.a,e):{}}))}),[t]),u=m.useMemo((function(){return n.map((function(e){return{header:e,accessor:e,Filter:X}}))}),[n]),i=Object(V.useTable)({columns:u,data:s},V.useFilters,V.useSortBy),b=i.headerGroups,d=i.rows,p=i.prepareRow;return s&&Array.isArray(s)&&0!==s.length&&!s.every((function(e){return null===e||void 0===e||"object"===typeof e&&0===Object.keys(e).length}))?m.createElement(m.Fragment,null,m.createElement("div",{className:"row"},m.createElement("div",{className:"col"},m.createElement($,null))),m.createElement("div",{className:"row"},m.createElement("div",{className:"col"},m.createElement(m.Suspense,{fallback:m.createElement(J,{componentName:"ReactTable"})},m.createElement("table",{className:"table table-bordered table-hover table-responsive data-test-id-output-table"},m.createElement("thead",null,b.map((function(e,t){return m.createElement("tr",{key:t},m.createElement("th",{scope:"col",className:"shadow-sm text-capitalize text-center data-test-id-column-name"}),e.headers.map((function(e,t){return m.createElement("th",{key:t,scope:"col",className:"shadow-sm text-capitalize text-center data-test-id-column-name min-vw-10",style:{minWidth:"20vh"}},m.createElement("div",e.getHeaderProps(e.getSortByToggleProps()),e.render("header"),m.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":"")),e.render("Filter"))})))}))),m.createElement("tbody",null,d.map((function(e,t){return p(e),m.createElement("tr",{key:t},m.createElement("th",{scope:"row"},m.createElement("button",{onClick:function onClick(){return o(e.original)},className:"btn btn-link"},m.createElement("i",{className:"material-icons"},"open_in_browser"))),e.cells.map((function(e){return m.createElement(K,{key:e.column.id,cell:e,onClick:o})})))}))))))),m.createElement("div",{id:"data-test-id-output-table-length",className:"mx-3 align-items-center justify-content-end d-flex"},m.createElement("h4",null,"Number of elements: ",s.length)),m.createElement(U,{value:r,onClose:function onCloseDetailModal(){return o(null)}})):m.createElement("div",null)}),"OutputTableView"),(function(e,t){return h()(e,t)})))),ee=Object(i.b)((function mapStateToProps(e){return{data:Object(v.k)(e),isModalOpen:Object(v.v)(e)}}),{toggleModal:l.f})(Object(o.a)(Object(m.memo)(Object(u.c)((function OutputTable(e){var t=e.toggleModal,n=e.isModalOpen;return m.createElement("div",{className:"output-table"},m.createElement(M.a,{isOpen:n,toggle:t,className:"mw-100"},m.createElement(F.a,{toggle:t},"Table view"),m.createElement(A.a,null,m.createElement(Z,null)),m.createElement(z.a,null,m.createElement(d.a,{color:"secondary",onClick:t},"Close"))),m.createElement("div",{className:"row"},m.createElement("div",{className:"col"},m.createElement(Z,null))))}),"OutputTable"))));t.default=Object(i.b)((function mapStateToProps(e){return{errorMessage:Object(v.i)(e),isArray:Object(v.j)(e),activeTab:Object(v.h)(e),objSize:Object(v.l)(e)}}),{setActiveTab:l.j})(Object(m.memo)(Object(o.a)(Object(u.c)((function Output(e){var t=e.isArray,n=e.errorMessage,l=e.activeTab,c=e.setActiveTab,o=e.objSize,u=Object(m.useCallback)((function(){return c("Table")}),[c]),i=Object(m.useCallback)((function(){return c("RawJson")}),[c]);return m.createElement(m.Fragment,null,n&&m.createElement("div",null,m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-10 offset-sm-2"},m.createElement(b.a,{className:"row align-items-center",color:"danger"},m.createElement("i",{className:"material-icons mr-2"},"error"),m.createElement("span",null,n))))),m.createElement(m.Fragment,null,m.createElement("div",{className:"row"},m.createElement("div",{className:"col"},m.createElement("ul",{className:"nav nav-tabs"},m.createElement("li",{className:"nav-item"},m.createElement(d.a,{className:r()(Object(a.a)({active:"RawJson"===l,"nav-link":!0},_.a.pointer,!0)),onClick:i},"View raw JSON")),m.createElement("li",{className:"nav-item",hidden:!t},m.createElement(d.a,{className:r()(Object(a.a)({active:"Table"===l,"nav-link":!0},_.a.pointer,!0)),onClick:u},"View table"))))),m.createElement(p.a,{activeTab:l},"RawJson"===l&&m.createElement(E.a,{tabId:"RawJson"},m.createElement("div",{className:"row"},m.createElement("div",{className:"col-sm-2 pt-5"},m.createElement("h3",null,m.createElement(f.a,{id:"badgeSize",color:"info",pill:!0},Object(s.c)(o)))),m.createElement("div",{className:"col-sm-10"},m.createElement(S,null)))),m.createElement(E.a,{tabId:"Table"},"Table"===l&&m.createElement(ee,null)))))}),"Output"))))}}]);
//# sourceMappingURL=Output.712d5d8b.chunk.js.map